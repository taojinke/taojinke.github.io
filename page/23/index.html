
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu-site-verification" content="1XvvwQ7Apt" />
  
    <title>dianzi blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="edwin">
    

    
    <meta name="description" content="edwin jin dianzi blog">
<meta property="og:type" content="website">
<meta property="og:title" content="dianzi blog">
<meta property="og:url" content="http://taojinke.github.io/page/23/index.html">
<meta property="og:site_name" content="dianzi blog">
<meta property="og:description" content="edwin jin dianzi blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dianzi blog">
<meta name="twitter:description" content="edwin jin dianzi blog">

    
    <link rel="alternative" href="/atom.xml" title="dianzi blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?345f95aea4ada2935d6f9ea4177b51ab";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="dianzi blog" title="dianzi blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="dianzi blog">dianzi blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
						<a href="/music/index.html" target="_blank">Music</a>
					</li>
					<li>
 					
						<form class="search" action="http://taojinke.github.io/" target="_blank">
							<label>Search</label>
						<input name="s" type="hidden" value= null ><input type="text" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9ff917e/" title="NodeJS异常处理uncaughtException篇 -" itemprop="url">NodeJS异常处理uncaughtException篇 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p> &#x5F88;&#x591A; NodeJS &#x7684;&#x5F00;&#x53D1;&#x8005;&#x5728;&#x62B1;&#x6028;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x592A;&#x9EBB;&#x70E6;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x5217;&#x535A;&#x5BA2;&#x68B3;&#x7406;&#x4E00;&#x4E0B;NodeJS&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7684;&#x624B;&#x6BB5;&#x3002; &#x548C;&#x5927;&#x591A;&#x6570;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E00;&#x6837;&#xFF0C;&#x5728; NodeJS &#x91CC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; throw &#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#xFF1A; </p>
<pre><code><span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Error</span>(&amp;apos;<span class="keyword">Catch</span> <span class="keyword">me</span>&amp;apos;);
</code></pre><p>&#x4E3A;&#x4E86;&#x6355;&#x83B7;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#x9700;&#x8981;&#x628A;&#x4EE3;&#x7801;&#x5305;&#x5728; Try Catch &#x4E2D;&#xFF1A; </p>
<pre><code><span class="keyword">try</span>{
     <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(&amp;apos;<span class="keyword">Catch</span> me&amp;apos;);
}<span class="keyword">catch</span>(e){
    // <span class="built_in">error</span> captured
}
</code></pre><p>&#x7136;&#x800C;&#xFF0C;&#x7531;&#x4E8E; NodeJS &#x7684;&#x5F02;&#x6B65;&#x7279;&#x6027;&#xFF0C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x53EA;&#x9700;&#x7A0D;&#x52A0;&#x6539;&#x9020;&#x5C31;&#x4F1A;&#x5931;&#x6548;&#xFF1A;</p>
<pre><code><span class="keyword">try</span>{
    process.nextTick(<span class="function"><span class="keyword">function</span> <span class="title">my_app</span>(<span class="params"></span>)</span>{
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(&amp;apos;Catch me&amp;apos;);
    })
}<span class="keyword">catch</span>(e){
    <span class="comment">// never called</span>
}
</code></pre><p>&#x5728;&#x73B0;&#x5B9E;&#x4E16;&#x754C;&#x91CC;&#xFF0C;&#x5F02;&#x5E38;&#x603B;&#x662F;&#x4F1A;&#x4EA7;&#x751F;&#x5728;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x4E2D;&#x3002;&#x6240;&#x8C13;&#x6A21;&#x5757;&#x5C31;&#x662F;&#x80FD;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x7684;&#x5355;&#x5143;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x51FD;&#x6570;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x770B;&#x505A;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x3002;&#x968F;&#x7740;&#x9879;&#x76EE;&#x4EE3;&#x7801;&#x884C;&#x6570;&#x589E;&#x591A;&#xFF0C;&#x5F02;&#x6B65;&#x5D4C;&#x5957;&#x7684;&#x590D;&#x6742;&#x6027;&#x52A0;&#x5F3A;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x6709;&#x5F02;&#x5E38;&#x6CA1;&#x6355;&#x83B7;&#x7684;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#x3002;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x5F88;&#x5F3A;&#x5065;&#x58EE;&#x6027;&#x7684; NodeJS &#x5E94;&#x7528;&#xFF0C;&#x4F1A;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x672A;&#x6355;&#x83B7;&#x7684;&#x5F02;&#x5E38;&#x5C31;&#x6574;&#x4E2A;&#x6302;&#x6389;&#xFF0C;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#x3002;&#x8981;&#x6539;&#x53D8;&#x5927;&#x5BB6;&#x89C9;&#x5F97;NodeJS&#x662F;&#x8106;&#x5F31;&#x7684;&#x8FD9;&#x4E2A;&#x8BA4;&#x8BC6;&#xFF0C;&#x9700;&#x8981;&#x5F00;&#x53D1;&#x8005;&#x52A0;&#x6DF1;&#x5BF9;&#x8FD9;&#x95E8;&#x8BED;&#x8A00;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x673A;&#x5236;&#x7684;&#x4E86;&#x89E3;&#x3002;</p>
<h2 id="uncaughtException">uncaughtException</h2><p>uncaughtException &#x5176;&#x5B9E;&#x662F; NodeJS &#x8FDB;&#x7A0B;&#x7684;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x91CC;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x800C;&#x6CA1;&#x6709;&#x88AB;&#x4EFB;&#x4F55; Try Catch &#x6355;&#x83B7;&#x4F1A;&#x89E6;&#x53D1;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;&#x4E3A;&#x4E86;&#x7B80;&#x5316;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x5148;&#x770B;&#x770B;&#x540C;&#x6B65;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x4F8B;&#x5B50;&#x3002; </p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">external</span><span class="params">()</span> </span>{
    <span class="keyword">throw</span> <span class="keyword">new</span> Error(&amp;apos;Catch me&amp;apos;);
}
<span class="function"><span class="keyword">function</span> <span class="title">internal</span><span class="params">()</span> </span>{
    external();
}
<span class="keyword">internal</span>(); <span class="comment">//error will be thrown</span>
</code></pre><p>&#x5728;&#x547D;&#x4EE4;&#x884C;&#x91CC;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#x811A;&#x672C;&#x4F1A;&#x5728;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x7684;&#x90A3;&#x4E00;&#x884C;&#x4E2D;&#x65AD;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x7531;&#x4E8E;&#x6CA1;&#x6709; Try Catch &#xFF0C;&#x5F02;&#x5E38;&#x4F1A;&#x4E00;&#x76F4;&#x5192;&#x6CE1;&#x76F4;&#x5230;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4E3A;&#x6B62;&#xFF0C;&#x800C;NodeJS&#x5BF9;&#x5F02;&#x5E38;&#x7684;&#x9ED8;&#x8BA4;&#x5904;&#x7406;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x5904;&#x7406;&#x7684;&#x4EE3;&#x7801; <em>&#x7C7B;&#x4F3C;</em> &#x4E8E;&#xFF1A; </p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">_MyFatalException</span><span class="params">(err)</span>{</span>
    <span class="keyword">if</span><span class="params">(!process.emit<span class="params">(&amp;apos;uncaughtException&amp;apos;,err)</span>)</span>{
        console.error<span class="params">(err.stack)</span>;
        process.emit<span class="params">(&amp;apos;exit&amp;apos;,<span class="number">1</span>)</span>;
    }
}
</code></pre><p>NodeJS&#x5BF9;&#x4E8E;&#x672A;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x7684;&#x9ED8;&#x8BA4;&#x5904;&#x7406;&#x662F;&#xFF1A; - &#x89E6;&#x53D1; uncaughtException &#x4E8B;&#x4EF6; - &#x5982;&#x679C; uncaughtException &#x6CA1;&#x6709;&#x88AB;&#x76D1;&#x542C;&#xFF0C;&#x90A3;&#x4E48; - &#x6253;&#x5370;&#x5F02;&#x5E38;&#x7684;&#x5806;&#x6808;&#x4FE1;&#x606F; - &#x89E6;&#x53D1;&#x8FDB;&#x7A0B;&#x7684; exit &#x4E8B;&#x4EF6; </p>
<p>&#x5982;&#x679C;&#x4F60;&#x6B63;&#x5728;&#x7528; NodeJS &#x5F00;&#x53D1;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x80AF;&#x5B9A;&#x4E0D;&#x5E0C;&#x671B;&#x5076;&#x7136;&#x7684;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x8BA9;&#x6574;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x6302;&#x6389;&#x3002;&#x90A3;&#x4E48;&#x662F;&#x4E0D;&#x662F;&#x53EA;&#x8981;&#x76D1;&#x542C;&#x4E86; uncaughtException &#x5C31;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x5462;&#xFF1F; &#x7B54;&#x6848;&#x662F;&#x53EF;&#x4EE5;&#xFF0C; <strong>&#x4F46;&#x662F;&#x4E0D;&#x8981;&#x8FD9;&#x4E48;&#x505A;&#xFF01;</strong> &#x3002;&#x770B;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; </p>
<pre><code><span class="keyword">var</span> express = require(&amp;apos;express&amp;apos;);
<span class="function"><span class="keyword">function</span> <span class="title">external</span><span class="params">(cb)</span> </span>{
    process.nextTick(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{
    <span class="keyword">throw</span> <span class="keyword">new</span> Error();
    cb.call(<span class="literal">null</span>, &amp;apos;sunny&amp;apos;);
})
}
<span class="keyword">var</span> app = express();
app.<span class="keyword">get</span>(&amp;apos;/weather&amp;apos;, <span class="function"><span class="keyword">function</span> <span class="params">(req, res)</span> </span>{
    external(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>{
        res.end(&amp;apos;Weather of Beijing <span class="keyword">is</span> &amp;apos; + data);
    }) 
})
app.listen(<span class="number">8018</span>);
<span class="function"><span class="keyword">function</span> <span class="title">noop</span><span class="params">()</span></span>{}
process.on(&amp;apos;uncaughtException&amp;apos;, noop)
</code></pre><p>&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x5047;&#x8BBE;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x7AD9;&#x70B9;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5F53;&#x5730;&#x7684;&#x5929;&#x6C14;&#xFF0C;&#x6211;&#x4EEC;&#x7528; apache2-utils &#x6765;&#x6A21;&#x62DF;&#x8BF7;&#x6C42; </p>
<pre><code>&amp;gt; ab -n <span class="number">1000</span> -c <span class="number">20</span> <span class="string">http:</span><span class="comment">//localhost:8018/weather</span>
</code></pre><p>&#x7CDF;&#x7CD5;&#xFF01;&#x8BF7;&#x6C42;&#x4E00;&#x76F4;&#x5728;&#x7B49;&#x5F85;&#xFF0C;&#x5185;&#x5B58;&#x4E0A;&#x6DA8;&#x3002;&#x539F;&#x56E0;&#x5728;&#x4E8E; res.end &#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x73B0;&#x6709;&#x7684; I/O &#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5DF2;&#x7ECF;&#x5F00;&#x8F9F;&#x7684;&#x8D44;&#x6E90;&#x4E0D;&#x4EC5;&#x4E0D;&#x4F1A;&#x88AB;&#x91CA;&#x653E;&#xFF0C;&#x800C;&#x4E14;&#x670D;&#x52A1;&#x5668;&#x8FD8;&#x5728;&#x4E0D;&#x77E5;&#x75B2;&#x5026;&#x5730;&#x63A5;&#x53D7;&#x65B0;&#x7684;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x3002; </p>
<p>&#x5728; NodeJS &#x4E2D;&#x5904;&#x7406;&#x5F02;&#x5E38;&#x662F;&#x4EE3;&#x4EF7;&#x9AD8;&#x6602;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x4E00;&#x4E0D;&#x5C0F;&#x5FC3;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#x548C;&#x8BA9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5904;&#x4E8E;&#x4E0D;&#x7A33;&#x5B9A;&#x7684;&#x72B6;&#x6001;&#x3002;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x5065;&#x58EE;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528; Cluster &#x6A21;&#x5F0F;&#xFF0C;&#x7531;&#x4E4B;&#x800C;&#x6765;&#x7684;&#x63A8;&#x8350;&#x505A;&#x6CD5;&#x662F;&#xFF1A; - &#x9488;&#x5BF9;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x7684;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801; - &#x51FA;&#x9519;&#x7684;Worker&#x4E0D;&#x518D;&#x63A5;&#x53D7;&#x65B0;&#x7684;&#x8BF7;&#x6C42; - &#x9000;&#x51FA;&#x5173;&#x95ED;Worker&#x8FDB;&#x7A0B; </p>
<p>&#x672C;&#x6587;&#x7CFB; <a href="http://oneapm.com/index.html?utm_source=Common&amp;utm_medium=Articles&amp;utm_campaign=TechnicalArticles&amp;from=matefijuno" target="_blank" rel="external">OneAPM</a> &#x5DE5;&#x7A0B;&#x5E08;&#x7F16;&#x8BD1;&#x6574;&#x7406;&#x3002;OneAPM&#x662F;&#x4E2D;&#x56FD;&#x57FA;&#x7840;&#x8F6F;&#x4EF6;&#x9886;&#x57DF;&#x7684;&#x65B0;&#x5174;&#x9886;&#x519B;&#x4F01;&#x4E1A;&#xFF0C;&#x80FD;&#x5E2E;&#x52A9;&#x4F01;&#x4E1A;&#x7528;&#x6237;&#x548C;&#x5F00;&#x53D1;&#x8005;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#xFF1A;&#x7F13;&#x6162;&#x7684;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x548C;SQL&#x8BED;&#x53E5;&#x7684;&#x5B9E;&#x65F6;&#x6293;&#x53D6;&#x3002;&#x60F3;&#x9605;&#x8BFB;&#x66F4;&#x591A;&#x6280;&#x672F;&#x6587;&#x7AE0;&#xFF0C;&#x8BF7;&#x8BBF;&#x95EE;OneAPM <a href="http://code.oneapm.com/?hmsr=media&amp;hmmd=&amp;hmpl=&amp;hmkw=&amp;hmci=" target="_blank" rel="external">&#x5B98;&#x65B9;&#x6280;&#x672F;&#x535A;&#x5BA2;</a> &#x3002; </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9fdc682/" title="node.js使用nodemailer发送邮件实例 -" itemprop="url">node.js使用nodemailer发送邮件实例 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;node.js&#x4F7F;&#x7528;nodemailer&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;,&#x4F8B;&#x5B50;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x662F;QQ&#x90AE;&#x7BB1;,&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x6210;&#x5176;&#x5B83;&#x7684;&#x90AE;&#x7BB1;&#x5982;163&#x3001;gmail&#x7B49;,&#x9700;&#x8981;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0B;</p>
<pre><code>var nodemailer = require(&amp;quot;nodemailer&amp;quot;);  
 // &amp;<span class="symbol">#x5F00</span>;&amp;<span class="symbol">#x542F</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x4E2A</span>; <span class="class">SMTP</span> &amp;<span class="symbol">#x8FDE</span>;&amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x6C60</span>;
var smtpTransport = nodemailer.createTransport({
  <span class="method">host:</span> &amp;quot;smtp.qq.com&amp;quot;, // &amp;<span class="symbol">#x4E3B</span>;&amp;<span class="symbol">#x673A</span>;
  <span class="method">secureConnection:</span> <span class="keyword">true</span>, // &amp;<span class="symbol">#x4F7F</span>;&amp;<span class="symbol">#x7528</span>; <span class="class">SSL</span>
  <span class="method">port:</span> <span class="number">25</span>, // <span class="class">SMTP</span> &amp;<span class="symbol">#x7AEF</span>;&amp;<span class="symbol">#x53E3</span>;
  <span class="method">auth:</span> {
    <span class="method">user:</span> &amp;quot;xxxx@qq.com&amp;quot;, // &amp;<span class="symbol">#x8D26</span>;&amp;<span class="symbol">#x53F7</span>;
    <span class="method">pass:</span> &amp;quot;xxxxxx&amp;quot; // &amp;<span class="symbol">#x5BC6</span>;&amp;<span class="symbol">#x7801</span>;
  }
}); 
 // &amp;<span class="symbol">#x8BBE</span>;&amp;<span class="symbol">#x7F6E</span>;&amp;<span class="symbol">#x90AE</span>;&amp;<span class="symbol">#x4EF6</span>;&amp;<span class="symbol">#x5185</span>;&amp;<span class="symbol">#x5BB9</span>;
var mailOptions = {
  <span class="method">from:</span> &amp;quot;yourname 

  &amp;quot;, // &amp;<span class="symbol">#x53D1</span>;&amp;<span class="symbol">#x4EF6</span>;&amp;<span class="symbol">#x5730</span>;&amp;<span class="symbol">#x5740</span>;
  <span class="method">to:</span> &amp;quot;xxxxx@qq.com&amp;quot;, // &amp;<span class="symbol">#x6536</span>;&amp;<span class="symbol">#x4EF6</span>;&amp;<span class="symbol">#x5217</span>;&amp;<span class="symbol">#x8868</span>;
  <span class="method">subject:</span> &amp;quot;<span class="class">Hello</span> world&amp;quot;, // &amp;<span class="symbol">#x6807</span>;&amp;<span class="symbol">#x9898</span>;
  <span class="method">html:</span> &amp;quot;
  **thanks a for visiting!** &amp;<span class="symbol">#x4E16</span>;&amp;<span class="symbol">#x754C</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x4F60</span>;&amp;<span class="symbol">#x597D</span>;&amp;<span class="symbol">#xFF01</span>;&amp;quot; // html &amp;<span class="symbol">#x5185</span>;&amp;<span class="symbol">#x5BB9</span>;
} 
 // &amp;<span class="symbol">#x53D1</span>;&amp;<span class="symbol">#x9001</span>;&amp;<span class="symbol">#x90AE</span>;&amp;<span class="symbol">#x4EF6</span>;
smtpTransport.sendMail(mailOptions, function(error, response){
  if(error){
    console.log(error);
  }else{
    console.log(&amp;quot;<span class="class">Message</span> <span class="method">sent:</span> &amp;quot; + response.message);
  }
  smtpTransport.close(); // &amp;<span class="symbol">#x5982</span>;&amp;<span class="symbol">#x679C</span>;&amp;<span class="symbol">#x6CA1</span>;&amp;<span class="symbol">#x7528</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x5173</span>;&amp;<span class="symbol">#x95ED</span>;&amp;<span class="symbol">#x8FDE</span>;&amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x6C60</span>;
}); 
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9fd2cb3/" title="大话cocos2d-js(2) -" itemprop="url">大话cocos2d-js(2) -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x8BF4;&#x660E;&#x4E00;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E00;&#x7AE0;&#x5927;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x63A0;&#x8FC7;&#xFF0C;&#x56E0;&#x4E3A;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x7B2C;&#x4E00;&#x7AE0;&#x6709;&#x5206;&#x6790;&#x5230;&#x4E86;&#xFF0C;&#x4F30;&#x8BA1;&#x770B;&#x8FC7;&#x7B2C;&#x4E00;&#x7AE0;&#x6765;&#x770B;&#x8FD9;&#x91CC;&#xFF0C;&#x4E5F;&#x4F1A;&#x6655;&#x5934;&#x8F6C;&#x5411;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x7B2C;&#x4E00;&#x7AE0;&#x7684;&#x65F6;&#x5019;&#x9677;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x201C;&#x65E0;&#x9650;&#x201D;&#x6DF1;&#x5751;&#xFF0C;&#x76F4;&#x5230;&#x7B2C;&#x4E00;&#x7AE0;&#x7ED3;&#x675F;&#x90FD;&#x6CA1;&#x8D70;&#x51FA;&#x6765;&#x3002;&#x5148;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x6DF1;&#x5751;&#x7684;&#x5165;&#x53E3;&#x70B9;&#xFF1A;</p>
<p>&#x5206;&#x6790;&#x5230;cc.game.run&#x65B9;&#x6CD5;&#x5185;&#x7684;_run&#x65B9;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#x3002;&#x7EA2;&#x8272;&#x6846;&#x6846;&#x5185;&#x7684;if&#x8BED;&#x53E5;&#x5185;&#x7684; &#x51FD;&#x6570;&#x88AB;&#x6267;&#x884C;&#x4E86;&#xFF0C;&#x90A3;&#x65F6;&#x5019;&#x662F;&#x8FD9;&#x6837;&#x60F3;&#x7684;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x5B83;&#x6709;&#x4EC0;&#x4E48;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x8FDB;&#x5165;&#x4E86;&#x65E0;&#x9650;&#x6DF1;&#x5751;&#x3002;&#x4E91;&#x91CC;&#x96FE;&#x91CC;&#xFF0C;&#x76F4;&#x5230;&#x5206;&#x6790;&#x5B8C;&#x8FD9;&#x4E00;&#x7AE0;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x4E0B;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x592A;&#x8FC7;&#x7247;&#x9762;&#xFF0C;&#x6211;&#x5148;&#x8BF4;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x6709;&#x4EC0;&#x4E48;&#x4F5C;&#x7528;&#xFF0C;&#x8BFB;&#x53D6;&#x4E86;&#x4E00;&#x4E2A;json&#x6587;&#x4EF6;&#xFF0C;json&#x6587;&#x4EF6;&#x5185;&#x653E;&#x7740;&#x5F88;&#x591A;cocos2d-js&#x6A21;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x628A;&#x8FD9;&#x4E2A;json&#x6587;&#x4EF6;&#x52A0;&#x8F7D;&#x5230;&#x540E;&#xFF0C;&#x5904;&#x7406;json&#x5B57;&#x7B26;&#x4E32;&#x6210;&#x6570;&#x7EC4;&#xFF0C;&#x7136;&#x540E;&#x521B;&#x5EFA;&lt;scrpit&gt;&#xFF0C;&#x6DFB;&#x52A0;&#x5230;body&#x5143;&#x7D20;&#x5185;&#x3002;&#x5168;&#x90E8;&#x6DFB;&#x52A0;&#x5B8C;&#x6BD5;&#x540E;&#x6267;&#x884C;&#x4F20;&#x53C2;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x628A;self._prepared&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E3A;true&#x3002;</p>
<p>&#x7EC6;&#x5FC3;&#x7684;&#x770B;&#x4E0B;&#x4E00;&#x4E2A;if&#x8BED;&#x53E5;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x8BA1;&#x65F6;&#x5668;&#xFF0C;&#x8BA1;&#x65F6;&#x5668;&#x5185;&#x7684;if&#x8BED;&#x53E5;&#x5C31;&#x662F;&#x5224;&#x65AD;self._preared&#x5C5E;&#x6027;&#x662F;&#x5426;&#x4E3A;true&#x3002;&#x6CA1;&#x6DFB;&#x52A0;&#x5B8C;&#xFF0C;&#x662F;&#x4E0D;&#x4F1A;&#x6267;&#x884C;if&#x8BED;&#x53E5;&#x5185;&#x7684;&#x529F;&#x80FD;&#x7684;&#x3002;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fcf48c.png" alt=""></p>
<p>&#x7EE7;&#x7EED;&#x4E0A;&#x4E00;&#x7AE0;&#xFF0C;&#x7C97;&#x7565;&#x7684;&#x5206;&#x6790;&#x5B8C;&#x8D70;cc.Class&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5206;&#x6790;cc.Class&#x4E0D;&#x4E3A;true&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fcf6fd.png" alt=""></p>
<p>&#x6765;&#x770B;&#x4E00;&#x4E0B;&#xFF0C;else&#x505A;&#x4E86;&#x5199;&#x4EC0;&#x4E48;&#xFF1A;</p>
<p>1.&#x6267;&#x884C;cc.path.join&#x65B9;&#x6CD5;&#xFF0C;&#x8FD4;&#x56DE;&#xFF0C;&#x8D4B;&#x503C;&#x7ED9;&#xA0;&#x53D8;&#x91CF;&#xA0;ccModulesPath</p>
<p>2.&#x6267;&#x884C;cc.loader.loadJson&#x65B9;&#x6CD5;</p>
<p>&#x76F4;&#x63A5;&#x6765;&#x770B;&#x4E00;&#x4E0B;cc.path.join&#x65B9;&#x6CD5;&#x548C;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x4E0D;&#x96BE;&#x770B;&#x51FA;&#xFF0C;&#x62FC;&#x63A5;&#x4E86;2&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x91CD;&#x70B9;&#x770B;ccModulesPath&#xFF0C;&#x662F;&#x4E00;&#x4E2A;json&#x6587;&#x4EF6;url&#xFF0C;&#x6267;&#x884C;cc.loader.loadJson&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x52A0;&#x8F7D;&#x4E86;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x5176;&#x4ED6;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x3002;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fcf96e.png" alt=""></p>
<p>&#x5148;&#x6765;&#x5B9A;&#x4F4D;&#x4E00;&#x4E0B;cc.loader.loadJson&#x65B9;&#x6CD5;:</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fcfbdf.png" alt=""></p>
<p>&#x8FD9;&#x91CC;&#x662F;&#x6267;&#x884C;cc.loader.loadTest&#xFF0C;&#x7EE7;&#x7EED;&#x4F20;&#x5165;json&#x6587;&#x4EF6;url&#xFF0C;&#x6765;&#x5B9A;&#x4F4D;&#x4E00;&#x4E0B;&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fcfe50.png" alt=""></p>
<p>&#x8FD9;&#x91CC;&#x5C31;&#x4E00;&#x4E2A;&#xA0;if&#xA0;else&#x8BED;&#x53E5;&#xFF0C;&#x770B;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#xFF0C;cc&#x5BF9;&#x8C61;&#x4E0B;&#x7684;_isNodeJs&#x5C5E;&#x6027;&#xFF0C;&#x770B;&#x540D;&#x5B57;&#x4E0D;&#x96BE;&#x770B;&#x51FA;&#xFF0C;&#x5728;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5224;&#x65AD;&#x73AF;&#x5883;&#x662F;&#x4E0D;&#x662F;nodejs&#xFF0C;&#x53D6;&#x53CD;&#x7684;&#x8BDD;&#xFF0C;&#x4E0D;&#x662F;nodejs&#x73AF;&#x5883;&#x5373;&#x6267;&#x884C;if&#x8BED;&#x53E5;&#xFF0C;xhr&#x5BF9;&#x8C61;&#xFF0C;&#x81EA;&#x5DF1;&#x5C01;&#x88C5;&#x8FC7;ajax&#x7684;&#x540C;&#x5B66;&#x90FD;&#x77E5;&#x9053;&#xFF0C;ajax&#x5C31;&#x662F;&#x7528;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;xhr&#x5BF9;&#x8C61;&#x7528;get&#x65B9;&#x6CD5;&#x6765;&#x8BF7;&#x6C42;&#xA0;moduleConfig.json&#x6587;&#x4EF6;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x53C8;&#x662F;if&#xA0;else&#x8BED;&#x53E5;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x5224;&#x65AD;ie&#x6D4F;&#x89C8;&#x5668;&#xA0;&#x4E0E;&#xA0;&#x975E;ie&#x6D4F;&#x89C8;&#x5668;&#xFF0C;ie&#x6D4F;&#x89C8;&#x5668;&#x7684;xhr&#x5BF9;&#x8C61;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E86;&#x8BF7;&#x6C42;&#x5934;&#xFF1A;Accept-Charset&#xFF0C;&#x5C06;&#x4E00;&#x5207;&#x8BBE;&#x7F6E;&#x597D;&#x4E86;&#x4EE5;&#x540E;&#xFF0C;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x7528;&#x7684;&#x8C37;&#x6B4C;&#x6D4F;&#x89C8;&#x5668;&#x3002;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd00c1.png" alt=""></p>
<p>&#x6765;&#x770B;&#x4E00;&#x4E0B;onload&#x51FA;&#x53D1;&#x540E;&#xFF0C;xhr.status&#xA0;&#x72B6;&#x6001;&#x7B49;&#x4E8E;200&#x540E;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E0D;&#x662F;&#xFF0C;moduleConfig.json&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd00c1.png" alt=""></p>
<p>&#x6267;&#x884C;&#xA0;cb(null,xhr.responseTest)&#xFF0C;&#x628A;&#x7ED3;&#x679C;&#x4F20;&#x5165;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd0332.png" alt=""></p>
<p>&#x628A;json&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;&#xA0;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;cb&#x65B9;&#x6CD5;(result&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;)&#xFF0C;&#x8FD9;&#x91CC;&#x5728;&#x6765;&#x6253;&#x5370;&#x4E00;&#x4E0B;cb&#x65B9;&#x6CD5;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd05a3.png" alt=""></p>
<p>&#x53D1;&#x73B0;&#x4EC0;&#x4E48;&#xFF0C;&#x9976;&#x4E86;&#x4E00;&#x5708;&#xFF0C;&#x8FD8;&#x662F;&#x56DE;&#x5230;&#x6267;&#x884C;loader.loadJson&#x65B9;&#x6CD5;&#x7684;&#xA0;&#x4F20;&#x53C2;&#x3002;</p>
<p>&#x6B65;&#x9AA4;&#x6709;&#x70B9;&#x591A;&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd05a3.png" alt=""></p>
<p>&#x7EA2;&#x8272;&#x6846;&#x6846;&#x7684;&#x90FD;&#x662F;&#x5728;&#x5904;&#x7406;get&#x5230;JSON&#x6570;&#x636E;&#xFF0C;&#x91CD;&#x70B9;&#x662F;&#x6700;&#x540E;&#x628A;&#x5904;&#x7406;&#x5B8C;&#x7684;&#x6570;&#x636E;&#xA0;newJsList&#xA0;&#x5F53;&#x4F5C;&#x53C2;&#x6570;&#xFF0C;&#x4F20;&#x9012;&#x7ED9;&#x6267;&#x884C;&#x65B9;&#x6CD5;cc.loder.loadJsWithimg&#x3002;</p>
<p>&#x6765;&#x6253;&#x5370;&#x4E00;&#x4E0B;&#x5904;&#x7406;&#x5B8C;&#x7684;&#x6570;&#x636E;&#x957F;&#x4EC0;&#x4E48;&#x6837;&#xFF0C;&#x6700;&#x540E;&#x53D8;&#x6210;&#x4E00;&#x4E2A;&#x662F;&#x6570;&#x7EC4;&#x3002;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd0814.png" alt=""></p>
<p>&#x6765;&#x5B9A;&#x4F4D;&#x4E00;&#x4E0B;cc.loader.loadJsWithImg&#x65B9;&#x6CD5;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd0a85.png" alt=""></p>
<p>&#x7EA2;&#x8272;&#x7684;&#x90E8;&#x5206;&#x8FD8;&#x662F;&#x5728;&#x5904;&#x7406;&#x6570;&#x636E;&#xFF0C;&#x4E3B;&#x8981;&#x6765;&#x770B;&#xA0;cc.loader.loadJs&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x548C;&#x4F20;&#x5165;&#x7684;&#x6570;&#x636E;&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd0a85.png" alt=""></p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd0cf6.png" alt=""></p>
<p>&#x9664;&#x4E86;&#xFF0C;&#x8D4B;&#x503C;&#x4EE5;&#x5916;&#xFF0C;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#xFF0C;if&#xA0;else&#xA0;&#x8BED;&#x53E5;&#xFF0C;&#xA0;&#x8FD9;&#x91CC;&#x7684;if&#x8BED;&#x53E5;&#x662F;&#x5224;&#x65AD;&#xA0;ie&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8FD9;&#x8FB9;&#x6211;&#x7528;&#x7684;&#x662F;&#x8C37;&#x6B4C;&#xFF0C;&#x6240;&#x4EE5;&#x8D70;&#x7684;&#x662F;&#xA0;else&#x3002;&#x6267;&#x884C;&#x4E86;cc.async.map&#x65B9;&#x6CD5;&#x3002;&#x5B9A;&#x4F4D;&#x4E00;&#x4E0B;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd0f67.png" alt=""></p>
<p>&#x4E3B;&#x8981;&#x770B;&#xA0;new&#xA0;cc.AsyncPool&#xFF0C;&#xA0;&#x7136;&#x540E;&#x6267;&#x884C;&#xA0;flow&#x65B9;&#x6CD5;&#xFF0C;&#x7B2C;&#x4E00;&#x7AE0;&#x5728;&#x5206;&#x6790;&#xA0;cc.Class&#x7684;&#x65F6;&#x5019;&#x5DF2;&#x7ECF;&#x5206;&#x6790;&#x8FC7;&#x8FD9;&#x5BF9;&#x8C61;&#x548C;&#x65B9;&#x6CD5;&#x4E86;&#xFF0C;&#x8FD9;&#x6B21;&#x6211;&#x4EEC;&#x6293;&#x91CD;&#x70B9;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#xFF0C;&#x5B83;&#x5230;&#x5E95;&#x5E72;&#x4E86;&#x4E9B;&#x4EC0;&#x4E48;&#xFF0C;&#x6267;&#x884C;&#xA0;self._iterator&#xA0;&#x65B9;&#x6CD5;&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd0f67.png" alt=""></p>
<p>&#x6765;&#x6253;&#x5370;&#x4E00;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;console.log(self._iterator)&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd11d8.png" alt=""></p>
<p>&#x6267;&#x884C;self._createScript</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd1449.png" alt=""></p>
<p>&#x540C;&#x6837;&#x7684;&#x4E0A;&#x6B21;&#x4E5F;&#x5206;&#x6790;&#x8FC7;&#x8FD9;&#x4E2A;&#x4E86;&#xFF0C;&#x7ED3;&#x5408;&#xA0;jsPath&#xFF0C;&#x7136;&#x540E;&#x5728;&#x770B;&#x770B;&#xA0;Dom&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd1449.png" alt=""></p>
<p>&#x628A;&#x6570;&#x7EC4;&#x91CC;&#x9762;&#x5B58;&#x50A8;&#x7684;&#x94FE;&#x63A5;&#x904D;&#x5386;&#x521B;&#x5EFA;&#x6210;script&#x6807;&#x7B7E;&#x6DFB;&#x52A0;&#x5230;&#xA0;body&#x7684;&#x6700;&#x4E0B;&#x9762;&#x3002;</p>
<p>&#x5F88;&#x67AF;&#x71E5;&#x7684;&#x4E00;&#x6BB5;&#xFF0C;&#x5176;&#x5B9E;&#x8FD9;&#x4E00;&#x6BB5;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x5728;&#x56DE;&#x5230;&#xA0;cc.game.run&#xA0;&#xA0;</p>
<p>&#x8BF4;&#x9053;&#x8FD9;&#x91CC;&#x8FD8;&#x8BB0;&#x5F97;&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x4F1A;&#x94BB;&#x5165;&#x8FD9;&#x4E2A;&#x201C;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#x201D;&#xFF1F;&#x53CD;&#x6B63;&#x6211;&#x89C9;&#x5F97;&#x5F88;&#x7ED5;&#xFF01;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd16ba.png" alt=""></p>
<p>&#x8FD8;&#x4E0D;&#x662F;&#x4E3A;&#x4E86;&#x63ED;&#x79D8;&#x7EA2;&#x8272;&#x6846;&#x6846;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x8D4B;&#x503C;&#x5230;&#x5E95;&#x6709;&#x4EC0;&#x4E48;&#x7528;&#x5904;&#xFF1F;&#x5728;&#x770B;&#x4E00;&#x4E0B;&#x4E0B;&#x4E00;&#x4E2A;if&#x8BED;&#x53E5;&#x7684;&#xFF0C;setInterval&#x65E0;&#x9650;&#x8BA1;&#x65F6;&#x5668;&#xFF0C;&#x6BCF;10&#x6BEB;&#x79D2;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#xA0;self._prepared&#x662F;&#x4E0D;&#x662F;&#x5BF9;&#x5E94;&#x4E0A;&#x9762;&#x7EA2;&#x8272;&#x6846;&#x6846;&#x7684;&#x8D4B;&#x503C;&#xFF0C;&#x7EA2;&#x8272;&#x6846;&#x6846;&#x7684;&#x7528;&#x5904;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x52A0;&#x8F7D;&#x5B58;&#x50A8;&#x5728;&#xA0;json&#x6587;&#x4EF6;&#x5185;&#x7684;&#x94FE;&#x63A5;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;js&#x6587;&#x4EF6;&#x3002;&#x5728;json&#x6587;&#x4EF6;&#x90A3;&#x4E9B;js&#x6587;&#x4EF6;&#x6CA1;&#x5168;&#x90E8;&#x6DFB;&#x52A0;body&#x5185;&#xFF0C;&#x662F;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x8BA1;&#x65F6;&#x5668;&#x5185;&#x7684;if&#x8BED;&#x53E5;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BD5;&#x4E00;&#x4E0B;,&#x770B;&#x5B83;&#x6DFB;&#x52A0;&#x5B8C;&#x6BD5;&#x6267;&#x884C;&#x4E86;&#x591A;&#x5C11;&#x6B21;&#x8BA1;&#x65F6;&#x5668;&#x3002;&#x7B80;&#x5355;&#x6DFB;&#x52A0;&#x4E2A;console.log(1)&#x5C31;OK&#x4E86;&#x3002;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd192b.png" alt=""></p>
<p>&#x597D;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x7EC8;&#x4E8E;&#x770B;&#x5230;main.js&#x91CC;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x7684;&#xA0;onStart&#xFF0C;&#x4F11;&#x606F;&#x4E00;&#x4E0B;&#x3002;</p>
<p> <img src="http://taojinke.github.io/img/20150702/9fd1b9c.png" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Ajax/">Ajax</a><a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9fc3b00/" title="前端 | gulp 打包 require.js 模块依赖 -" itemprop="url">前端 | gulp 打包 require.js 模块依赖 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="&#x80CC;&#x666F;">&#x80CC;&#x666F;</h2><p>&#x9879;&#x76EE; JS &#x811A;&#x672C;&#x662F;&#x4F7F;&#x7528; require.js &#x6765;&#x7EC4;&#x7EC7; </p>
<p><img src="http://taojinke.github.io/img/20150702/9fc18d2.png" alt=""></p>
<p>&#x5728;&#x4F9D;&#x8D56;&#x6CA1;&#x6709;&#x6253;&#x5305;&#x4E4B;&#x524D;&#xFF0C;&#x52A0;&#x8F7D;&#x662F;&#x8FD9;&#x6837;</p>
<p><img src="http://taojinke.github.io/img/20150702/9fc1b43.png" alt=""></p>
<p>&#x8BF7;&#x6C42;&#x592A;&#x591A;&#xFF0C;&#x4E00;&#x4E2A;&#x6709;&#x6D01;&#x7656;&#x7684;&#x4EBA;&#x80AF;&#x5B9A;&#x662F;&#x53D7;&#x4E0D;&#x4E86;&#x7684;&#xFF0C;&#x6545;&#x9700;&#x6C42;&#x5C31;&#x4EA7;&#x751F;&#x4E86;&#xFF0C;&#x6253;&#x5305; require.js &#x6A21;&#x5757;&#x4EE3;&#x7801;&#x4F9D;&#x8D56; </p>
<h2 id="&#x5DE5;&#x5177;">&#x5DE5;&#x5177;</h2><p>&#x6211;&#x4F7F;&#x7528; gulp &#x4F5C;&#x4E3A;&#x524D;&#x7AEF;&#x4EFB;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x4F7F;&#x7528; amd-optimize &#x6765;&#x6253;&#x5305; require.js &#x6A21;&#x5757;&#x4F9D;&#x8D56; &#x6709;&#x4EBA;&#x8BF4;&#x6B64;&#x63D2;&#x4EF6;&#x4E0B;&#x8F7D;&#x91CF;&#x592A;&#x4F4E;&#xFF0C;&#x4E0D;&#x6562;&#x7528;&#xFF0C;&#x6211;&#x4E5F;&#x5C31;&#x5475;&#x5475;&#x4E86;&#xFF0C;&#x5DE5;&#x5177;&#x662F;&#x7528;&#x6765;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x4E0D;&#x662F;&#x7ED9;&#x4EBA;&#x770B;&#x7684;,&#x5B9E;&#x5728;&#x4E0D;&#x884C;&#xFF0C;&#x67E5;&#x770B;&#x6E90;&#x4EE3;&#x7801;&#x81EA;&#x5DF1;&#x9020;&#x4E2A;&#x8F6E;&#x5B50;&#x4E5F;&#x4E0D;&#x9519;</p>
<h2 id="&#x6587;&#x4EF6;&#x7ED3;&#x6784;">&#x6587;&#x4EF6;&#x7ED3;&#x6784;</h2><p><img src="http://taojinke.github.io/img/20150702/9fc2025.png" alt=""></p>
<p>&#x6211;&#x662F;&#x7528;&#x4E0A;&#x56FE;&#x4E2D;&#x7684; test.js &#x4F5C;&#x4E3A;&#x6253;&#x5305;&#x5165;&#x53E3;&#x6587;&#x4EF6;</p>
<h3 id="test_&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;">test &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</h3><pre><code>require([&amp;quot<span class="comment">;require-config&amp;quot;], function() {</span>
    require([
        &amp;apos<span class="comment">;xxxxxxx1&amp;apos;,</span>
        &amp;apos<span class="comment">;xxxxxxx2&amp;apos;,</span>
        &amp;apos<span class="comment">;xxxxxxx3&amp;apos;,</span>
        &amp;apos<span class="comment">;xxxxxxx4&amp;apos;,</span>
    ])<span class="comment">;</span>
})<span class="comment">;</span>
</code></pre><h2 id="gulp_&#x4EFB;&#x52A1;&#x51FD;&#x6570;">gulp &#x4EFB;&#x52A1;&#x51FD;&#x6570;</h2><pre><code>var concatFile = require<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;gulp-concat&amp;apos;)</span>
  , uglifyJS = require<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;gulp-uglify&amp;apos;)</span>
  , shell = require<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;gulp-shell&amp;apos;)</span>
  , amdOptimize = require<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;amd-optimize&amp;apos;);</span>

gulp.task<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;bundle&amp;apos;, function () {</span>
  return gulp.src<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;./js/**/*.js&amp;apos;)</span>
    .pipe<span class="list">(<span class="keyword">amdOptimize</span><span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;test&amp;apos;, {</span>
      configFile: <span class="keyword">&amp;apos</span><span class="comment">;./js/require-config.js&amp;apos;,</span>
      findNestedDependencies: true,
      include: false
    })</span>)</span>
    .pipe<span class="list">(<span class="keyword">concatFile</span><span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;test.js&amp;apos;))</span>
    // .pipe<span class="list">(<span class="keyword">uglifyJS</span><span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;test.js&amp;apos;))</span>
    .pipe<span class="list">(<span class="keyword">gulp</span>.dest<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;./jsbuild/&amp;apos;));</span>
})</span><span class="comment">;</span></span></span></span></span></span></span></span></span></span></span></span>
</code></pre><p>&#x8FD0;&#x884C;&#x4EFB;&#x52A1;&#x4E4B;&#x540E;&#xFF0C;&#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x6253;&#x5305;&#x6307;&#x5B9A;&#x76EE;&#x5F55;</p>
<p>&#x6CE8;&#x610F;&#xFF1A; &#x4EFB;&#x52A1;&#x51FD;&#x6570;&#x4E2D;&#x6211;&#x6CA1;&#x6709;&#x538B;&#x7F29;&#xFF0C;&#x7528;&#x610F;&#x7B49;&#x4E0B;&#x89E3;&#x91CA;</p>
<h2 id="&#x95EE;&#x9898;">&#x95EE;&#x9898;</h2><ul>
<li>debug &#x73AF;&#x5883;&#x4E0B;&#x52A0;&#x8F7D;&#x4E86; require-config.js</li>
<li>production &#x73AF;&#x5883;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x6253;&#x5305;&#x540E;&#x7684;&#x6A21;&#x5757;&#x6587;&#x4EF6;&#xFF0C;&#x5373; ./jsbuild &#x4E2D;&#x7684; test.js &#x6CA1;&#x6709;&#x52A0;&#x8F7D; require-config.js ,&#x81F3;&#x4E8E;&#x539F;&#x56E0;&#xFF1A;&#x56E0;&#x4E3A;&#x6A21;&#x5757;&#x4F9D;&#x8D56;&#x5DF2;&#x7ECF;&#x6253;&#x5305;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x52A0;&#x8F7D; require-config.js</li>
</ul>
<p>&#x4F46;&#x662F;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x6D4B;&#x8BD5;&#x53D1;&#x73B0;&#xFF1A;</p>
<p><img src="http://taojinke.github.io/img/20150702/9fc2507.png" alt=""></p>
<p>&#x53D1;&#x73B0;&#x8FD8;&#x662F;&#x6709;&#x5F88;&#x591A;&#x8BF7;&#x6C42;&#x53D1;&#x751F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6253;&#x5305;&#x6CA1;&#x6709;&#x8D77;&#x5230;&#x4F5C;&#x7528;</p>
<p>&#x67E5;&#x770B;&#x751F;&#x6210;&#x7684; ./jsbuild/test.js &#x6587;&#x4EF6;&#xFF0C;&#x76F4;&#x63A5;&#x67E5;&#x770B;&#x6700;&#x540E;&#x51E0;&#x884C;&#x4EE3;&#x7801; &#x5C31;&#x4F1A;&#x53D1;&#x73B0; </p>
<p><img src="http://taojinke.github.io/img/20150702/9fc2778.png" alt=""></p>
<p>&#x53D1;&#x73B0;&#x6253;&#x5305;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x5305;&#x542B;&#x4E86; require-config.js &#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5728;&#x63D2;&#x4EF6;&#x7684;&#x914D;&#x7F6E;&#x9009;&#x9879;&#x4E2D;&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x53BB;&#x9664;&#x5305;&#x542B; require.js &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x9009;&#x9879; &#x3010; &#x5982;&#x679C;&#x4F60;&#x53D1;&#x73B0;&#x4E86;&#xFF0C;&#x8BF7;&#x5206;&#x4EAB;&#x4E0B;&#xFF0C;&#x4E07;&#x5206;&#x611F;&#x8C22; &#x3011; </p>
<p>&#x4E0D;&#x5F97;&#x5DF2;&#x91C7;&#x7528; shell &#x5904;&#x7406;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x4EFB;&#x52A1;&#x51FD;&#x6570;&#x5982;&#x4E0B; </p>
<pre><code>gulp.task<span class="params">(&amp;apos;isport:desk&amp;apos;, function<span class="params">()</span> {
  gulp.src<span class="params">(&amp;apos;./js/**/*.js&amp;apos;)</span>
    .pipe<span class="params">(amdOptimize<span class="params">(&amp;apos;test&amp;apos;, {
      configFile: &amp;apos;./js/require-config.js&amp;apos;,
      findNestedDependencies: <span class="literal">true</span>,
      include: <span class="literal">false</span>
    })</span>)</span>
    .pipe<span class="params">(concatFile<span class="params">(&amp;apos;test.js&amp;apos;)</span>)</span>
    // .pipe<span class="params">(uglifyJS<span class="params">()</span>)</span>
    .pipe<span class="params">(gulp.dest<span class="params">(&amp;apos;./jsbuild/&amp;apos;)</span>)</span>
    .pipe<span class="params">(shell<span class="params">([
      &amp;quot;sed &amp;apos;/require.config<span class="params">({/, $d&amp;apos; ./jsbuild/test.js &amp;gt; ./jsbuild/test-mini.js&amp;quot;,
      &amp;quot;rm ./jsbuild/test.js&amp;quot;])</span>)</span>;

  return gulp.src<span class="params">(&amp;apos;./jsbuild/test-mini.js&amp;apos;)</span>
    .pipe<span class="params">(uglifyJS<span class="params">()</span>)</span>
    .pipe<span class="params">(gulp.dest<span class="params">(&amp;apos;./jsmini&amp;apos;)</span>)</span>;
})</span>; </span>
</code></pre><p>&#x8FD0;&#x884C;&#x4EFB;&#x52A1;&#x540E;&#xFF0C;&#x5728; debug tools &#x4E2D;&#x67E5;&#x770B;&#x7ED3;&#x679C; </p>
<p><img src="http://taojinke.github.io/img/20150702/9fc29e9.png" alt=""></p>
<p>&#x901A;&#x8FC7;&#x53D1;&#x73B0;&#xFF0C;&#x5E72;&#x51C0;&#x4E86;&#xFF0C;&#x5FC3;&#x60C5;&#x8212;&#x7545;&#x4E86; </p>
<h2 id="&#x540E;&#x8BB0;">&#x540E;&#x8BB0;</h2><p>&#x5B9E;&#x8BDD;&#x8BF4;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x6253;&#x5305;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x5B8C;&#x7F8E;&#xFF0C;&#x81F3;&#x4E8E;&#x5B8C;&#x7F8E;&#x7684;&#x65B9;&#x6CD5;&#x4E00;&#x76F4;&#x5728;&#x4E0D;&#x65AD;&#x7684;&#x63A2;&#x7D22;&#x4E2D;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Gulp/">Gulp</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9fbcab2/" title="2015年最佳的15个 Node.js 开发工具 -" itemprop="url">2015年最佳的15个 Node.js 开发工具 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p> Node.js &#x8D8A;&#x6765;&#x6708;&#x6D41;&#x884C;&#xFF0C;&#x8FD9;&#x4E2A;&#x57FA;&#x4E8E; Google V8 &#x5F15;&#x64CE;&#x5EFA;&#x7ACB;&#x7684;&#x5E73;&#x53F0;&#xFF0C; &#x7528;&#x4E8E;&#x65B9;&#x4FBF;&#x5730;&#x642D;&#x5EFA;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x5FEB;&#x3001;&#x6613;&#x4E8E;&#x6269;&#x5C55;&#x7684;&#x7F51;&#x7EDC;&#x5E94;&#x7528;&#x3002;&#x5728;&#x672C;&#x6587;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5217;&#x51FA;&#x4E86;2015&#x5E74;&#x6700;&#x4F73;&#x7684;15&#x4E2A; Node.js &#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x3002;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x5BF9;&#x4E8E;&#x521A;&#x521A;&#x5F00;&#x59CB;&#x5B66;&#x4E60; <a href="http://www.cnblogs.com/lhb25/category/527838.html" target="_blank" rel="external"><strong>Node.js</strong></a> &#x7684;&#x65B0;&#x624B;&#x5F00;&#x53D1;&#x8005;&#x975E;&#x5E38;&#x6709;&#x5E2E;&#x52A9;&#x3002;&#x5982;&#x679C;&#x4F60;&#x77E5;&#x9053;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x6709;&#x7528;&#x7684; Node.js &#x8D44;&#x6E90;&#xFF0C;&#x8BF7;&#x8BA9;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x3002; </p>
<p>&#x60A8;&#x53EF;&#x80FD;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x76F8;&#x5173;&#x6587;&#x7AE0;</p>
<ul>
<li><a href="http://www.cnblogs.com/lhb25/p/must-read-links-for-web-designers-and-developers-volume-12.html" target="_blank" rel="external">Web &#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x548C;&#x8BBE;&#x8BA1;&#x5E08;&#x5FC5;&#x8BFB;&#x7CBE;&#x534E;&#x6587;&#x7AE0;&#x63A8;&#x8350;</a></li>
<li><a href="http://www.cnblogs.com/lhb25/archive/2012/08/08/ajax-jquery-pagination-plugin-tutorial.html" target="_blank" rel="external">&#x7CBE;&#x5FC3;&#x6311;&#x9009;&#x7684;&#x4F18;&#x79C0;jQuery Ajax&#x5206;&#x9875;&#x63D2;&#x4EF6;&#x548C;&#x6559;&#x7A0B;</a></li>
<li><a href="http://www.yyyweb.com/271.html" target="_blank" rel="external">12&#x4E2A;&#x8BA9;&#x4EBA;&#x60CA;&#x53F9;&#x7684;&#x7684;&#x521B;&#x610F;&#x7684; 404 &#x9519;&#x8BEF;&#x9875;&#x9762;&#x8BBE;&#x8BA1;</a></li>
<li><a href="http://www.cnblogs.com/lhb25/p/12-jquery-animation-plugins.html" target="_blank" rel="external">&#x8BA9;&#x7F51;&#x7AD9;&#x52A8;&#x8D77;&#x6765;&#xFF01;12&#x6B3E;&#x4F18;&#x79C0;&#x7684; jQuery &#x52A8;&#x753B;&#x63D2;&#x4EF6;</a></li>
<li><a href="http://www.yyyweb.com/377.html" target="_blank" rel="external">8&#x4E2A;&#x524D;&#x6CBF; HTML5 &amp; CSS3 &#x6548;&#x679C;&#x3010;&#x9644;&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x3011;</a></li>
</ul>
<h2 id="1-_IO-js">1. IO.js</h2><p><img src="http://taojinke.github.io/img/20150702/9fb7a21.jpg" alt=""></p>
<p>JavaScript I/O is an npm compatible platform that was originally based on Node.js and built on Chrome&#x2019;s V8 Runtime. It aims to provide faster and predictable release cycles.</p>
<h2 id="2-_Math-js">2. Math.js</h2><p><img src="http://taojinke.github.io/img/20150702/9fb7c92.jpg" alt=""></p>
<p>Math.js is an extensive math library for JavaScript and Node.js. It features a flexible expression parser and offers an integrated solution to work with numbers, big numbers, complex numbers, units, and matrices. Powerful and easy to use. It supports chained operations. It&#x2019;s easily extensible.</p>
<h2 id="3-_Cyclon-js">3. Cyclon.js</h2><p><img src="http://taojinke.github.io/img/20150702/9fb83e5.jpg" alt=""></p>
<p>Cylon.js is a JavaScript framework for robotics and physical computing built on top of Node.js. It provides a simple, but powerful way to create solutions that incorporate multiple, different hardware devices concurrently. Cylon uses the Gort Command Line Interface (CLI) so you can access important features right from the command line. You can scan, connect, update device firmware, and more. Cylon also has its own CLI to generate new robots, adaptors, and drivers.</p>
<h2 id="4-_Migrat">4. Migrat</h2><p><img src="http://taojinke.github.io/img/20150702/9fb8656.jpg" alt=""></p>
<p>Migrat is a pluggable Node.js migration tool that is not tied any particular database engine and supports multi-node environments. It&#x2019;s designed for diverse stacks and processes, and allows migrations to be run once globally or once per server.</p>
<h2 id="5-_Eskimo">5. Eskimo</h2><p><img src="http://taojinke.github.io/img/20150702/9fb88c7.jpg" alt=""></p>
<p>Eskimo makes it easier to rapidly build Node.js apps, online stores, APIs, and more. It&#x2019;s built with open-source packages, and can be used for everything from coming soon pages to referral systems to CDN-hosted assets.</p>
<h2 id="6-_Taunus">6. Taunus</h2><p><img src="http://taojinke.github.io/img/20150702/9fb8b38.jpg" alt=""></p>
<p>Taunus is a micro isomorphic MVC engine for Node,js that focuses on delivering a progressively enhanced experience to the user. It focuses on usability and performance, as well.</p>
<h2 id="7-_PencilBlue">7. PencilBlue</h2><p><img src="http://taojinke.github.io/img/20150702/9fb8b38.jpg" alt=""></p>
<p>PencilBlue is an open source Node.js content management system that&#x2019;s fully responsive and completely scalable. It&#x2019;s extendable, easy to use, and is great for more than just blogs.</p>
<h2 id="8-_PaperClip">8. PaperClip</h2><p><img src="http://taojinke.github.io/img/20150702/9fb8da9.jpg" alt=""></p>
<p>Paperclip.js is a powerful template engine that&#x2019;s built for extensibility and speed. It creates compiled templates for the browser and Node.js.</p>
<h2 id="9-_Set">9. Set</h2><p><img src="http://taojinke.github.io/img/20150702/9fb901a.jpg" alt=""></p>
<p>Set is an unobtrusive, dry template engine for Node.js and browsers that gives you 100% valid HTML5 templates. It&#x2019;s visual, so you can design in your favorite visual editor and even use mock data in your templates.</p>
<h2 id="10-_Passwordless">10. Passwordless</h2><p><img src="http://taojinke.github.io/img/20150702/9fb928b.jpg" alt=""></p>
<p>Passwordless is a token-based password authentication middleware for Express and Node.js. It&#x2019;s faster to deploy, with just a single form and text field, with no need for separate registration, login, and lost password pages.</p>
<h2 id="11-_Broccoli">11. Broccoli</h2><p><img src="http://taojinke.github.io/img/20150702/9fb976d.jpg" alt=""></p>
<p>Broccoli is a new backend-agnostic, Node.js build tool, comparable to the Rails asset pipeline in scope. It offers chainable plugins, fast rebuilds, and a few plugins ready to go.</p>
<h2 id="12-_Sails-js">12. Sails.js</h2><p><img src="http://taojinke.github.io/img/20150702/9fb9ec0.jpg" alt=""></p>
<p>Sails.js is designed to resemble the MVC architecture from frameworks like Ruby on Rails but for creating enterprise-grade Node.js apps. It has support for more modern, data-oriented web app development, particularly useful for creating realtime things like chat functions.</p>
<h2 id="13-_NodeOS">13. NodeOS</h2><p><img src="http://taojinke.github.io/img/20150702/9fb9ec0.jpg" alt=""></p>
<p>Node OS is the first operating system powered by npm. It&#x2019;s built on top of the Linux kernel, with a node.js runtime.</p>
<h2 id="14-_Express">14. Express</h2><p><img src="http://taojinke.github.io/img/20150702/9fba131.jpg" alt=""></p>
<p>Express is a high performance and minimal web development framework for Node.js. The Express philosophy is to provide small, robust tooling for HTTP servers. Making it a great solution for single page applications, web sites, hybrids, or public HTTP APIs.Built on Connect you can use only what you need, and nothing more, applications can be as big or as small as you like, even a single file.</p>
<h2 id="15-_Flatiron">15. Flatiron</h2><p><img src="http://taojinke.github.io/img/20150702/9fba613.jpg" alt=""></p>
<p>Flatiron is an unobtrusive framework initiative for node.js. It promotes code organization and sustainability by clearly separating development concerns. Each component works elegantly with or without its counterparts. Many of the components work the same in the browser as they do on the server.&#xA0;It is an initiative to build a collection of decoupled tools with the same standard of quality and performance that you would expect from anything built by nodejitsu (intelligent &amp; scalable Node.js).</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Node-js/">Node.js</a><a href="/tags/开发工具/">开发工具</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9fde8b0/" title="“NodeJS在大搜车” 之 MVC基础结构 -" itemprop="url">“NodeJS在大搜车” 之 MVC基础结构 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="&#x957F;&#x957F;&#x800C;&#x4E14;&#x65E0;&#x5173;&#x7684;&#x524D;&#x8A00;">&#x957F;&#x957F;&#x800C;&#x4E14;&#x65E0;&#x5173;&#x7684;&#x524D;&#x8A00;</h2><p>&#x7ECF;&#x5E38;&#x4F1A;&#x6709;&#x540C;&#x5B66;&#x6765;&#x95EE;&#x6211;&#x524D;&#x7AEF;&#x662F;&#x5426;&#x9002;&#x5408;&#x5411;NodeJS&#x65B9;&#x5411;&#x53D1;&#x5C55;&#xFF0C;&#x5176;&#x5B9E;&#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#x6211;&#x662F;&#x62D2;&#x7EDD;&#x7684;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#x524D;&#x7AEF;&#x63A5;&#x89E6;&#x4E00;&#x4E0B;NodeJS&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x672C;&#x8EAB;&#x6211;&#x662F;&#x4E0D;&#x6392;&#x65A5;&#x7684;&#xFF0C;&#x6BD5;&#x7ADF;&#x662F;&#x57FA;&#x4E8E;JS&#xFF0C;&#x80FD;&#x591F;&#x638C;&#x63E1;&#x4E00;&#x95E8;&#x624B;&#x827A;&#xFF0C;&#x62D3;&#x5C55;&#x4E00;&#x4E0B;&#x81EA;&#x5DF1;&#x7684;&#x6280;&#x672F;&#x89C6;&#x91CE;&#xFF0C;&#x7136;&#x540E;&#x5199;&#x4E00;&#x4E9B;&#x8BFB;&#x5199;&#x6587;&#x4EF6;&#xFF0C;grunt&#x63D2;&#x4EF6;&#x4E4B;&#x7C7B;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x4E5F;&#x662F;&#x6781;&#x597D;&#x7684;&#x3002;&#x6211;&#x6240;&#x8C13;&#x7684;&#x62D2;&#x7EDD;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x57FA;&#x4E8E;&#x5F88;&#x591A;&#x540C;&#x5B66;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8003;&#x8651;&#xFF0C;&#x5F88;&#x591A;&#x540C;&#x5B66;&#x60F3;&#x501F;NodeJS&#x8F7B;&#x8F7B;&#x677E;&#x677E;&#x7684;&#x628A;&#x9B54;&#x722A;&#x4F38;&#x5411;&#x7EAF;&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;&#xFF0C;NodeJS&#x672C;&#x8EAB;&#x5BF9;&#x4E8E;&#x524D;&#x7AEF;&#x6765;&#x8BF4;&#x662F;&#x6781;&#x5176;&#x5BB9;&#x6613;&#x638C;&#x63E1;&#x7684;&#xFF0C;&#x7167;&#x7740;&#x6587;&#x6863;&#x5199;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x662F;&#x6781;&#x5176;&#x7B80;&#x5355;&#x7684;&#xFF0C;&#x5F88;&#x591A;&#x540C;&#x5B66;&#x89C9;&#x5F97;&#x81EA;&#x5DF1;&#x4E00;&#x4E0B;&#x5B50;&#x8DE8;&#x8FDB;&#x4E86;&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;&#x7684;&#x5927;&#x95E8;&#xFF0C;&#x7136;&#x800C;&#xFF0C;&#x771F;&#x662F;&#x5982;&#x6B64;&#x4E48;&#xFF1F;</p>
<p>&#x73B0;&#x5728;&#x5F88;&#x591A;&#x6280;&#x672F;&#x65B9;&#x9762;&#x7684;&#x8425;&#x9500;&#x6587;&#xFF0C;&#x837C;&#x6BD2;&#xFF01;&#x8BA9;&#x65B0;&#x4EBA;&#x53D8;&#x5F97;&#x4E5F;&#x6D6E;&#x8E81;&#x8D77;&#x6765;&#x3002;</p>
<p>&#x5728;&#x6211;&#x770B;&#x6765;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x9762;&#x524D;&#x6709;&#x4E00;&#x4E2A;&#x725B;&#x903C;&#x7684;&#x524D;&#x7AEF;&#x548C;&#x725B;&#x903C;&#x7684;PHP&#x5DE5;&#x7A0B;&#x5E08;&#xFF0C;&#x8BA9;&#x6211;&#x9009;&#x4E00;&#x4E2A;&#x6765;&#x8F6C;&#x578B;NodeJS&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;&#xFF0C;&#x6211;&#x4F1A;&#x6BEB;&#x4E0D;&#x72B9;&#x8C6B;&#x7684;&#x9009;&#x62E9;PHP&#x3002;&#x8FD9;&#x6837;&#x6211;&#x9700;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x8BA9;&#x4ED6;&#x53BB;&#x770B;&#x4E00;&#x4E2A;&#x5468;&#x7684;JS&#x8BED;&#x6CD5;&#xFF0C;&#x7ED9;&#x4ED6;&#x82B1;&#x4E00;&#x5929;&#x8BB2;&#x89E3;&#x4E0B;callback&#xFF08;&#x5BF9;php&#xFF0C;java&#xFF0C;ruby&#x6765;&#x8BF4;&#x8FD9;&#x4E2A;&#x7684;&#x786E;&#x5F88;&#x96BE;&#x7406;&#x89E3;&#xFF09;&#xFF0C;&#x82B1;&#x4E00;&#x70B9;&#x65F6;&#x95F4;&#x719F;&#x6089;&#x4E0B;nodejs&#x7684;&#x6A21;&#x5757;&#x548C;&#x5199;&#x6CD5;&#x3002;&#x7136;&#x540E;&#x4E0B;&#x9762;&#x5C31;&#x5F88;&#x987A;&#x7545;&#x4E86;&#x3002;</p>
<p>&#x800C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x524D;&#x7AEF;&#xFF0C;&#x597D;&#x55BD;&#xFF0C;&#x9EBB;&#x70E6;&#x55BD;&#xFF0C;&#x4EE5;&#x4E3A;&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x5806;&#x79EF;&#x4E1A;&#x52A1;&#x4E48;&#xFF1F;&#x670D;&#x52A1;&#x7AEF;&#x903B;&#x8F91;&#x90A3;&#x4E48;&#x7D27;&#x5BC6;&#xFF0C;&#x5982;&#x4F55;hold&#x4F4F;&#xFF1F;&#x670D;&#x52A1;&#x7AEF;&#x8DDF;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#xFF0C;&#x5982;&#x4F55;hold&#x4F4F;&#xFF1F;&#x6574;&#x4F53;&#x4E1A;&#x52A1;&#x7684;&#x628A;&#x63E1;&#xFF0C;&#x8BF7;&#x6C42;&#x91CF;&#x592A;&#x5927;&#x5929;&#x5929;&#x6302;&#xFF0C;IO&#x74F6;&#x9888;&#x4E86;&#x5982;&#x4F55;&#x641E;&#x5B9A;&#xFF0C;&#x7F13;&#x5B58;&#x8BE5;&#x600E;&#x4E48;&#x7528;&#xFF0C;&#x5E94;&#x7528;&#x67B6;&#x6784;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#xFF0C;&#x5206;&#x5C42;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5982;&#x4F55;&#x4F18;&#x5316;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4F55;&#x8C03;&#x8BD5;&#xFF0C;&#x5982;&#x4F55;&#x5206;&#x6790;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#xFF0C;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5199;&#x6CA1;&#x5199;&#x8FC7;&#xFF0C;HTTP&#x539F;&#x7406;&#x4E86;&#x89E3;&#x591A;&#x5C11;&#xFF0C;Nginx&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72;&#x77E5;&#x9053;&#x51E0;&#x4F55;&#xFF0C;&#x6027;&#x80FD;&#x76D1;&#x63A7;&#x8DDF;&#x8E2A;&#x5462;&#xFF1F;</p>
<p>&#x626F;&#x8FDC;&#x4E86;&#x3002;</p>
<p>&#x5176;&#x5B9E;&#x6211;&#x672C;&#x6765;&#x53EA;&#x662F;&#x60F3;&#x8BF4;&#x4E00;&#x4E0B;&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;&#x601D;&#x7EF4;&#x5728;NodeJS&#x5F00;&#x53D1;&#x65B9;&#x9762;&#x4E5F;&#x662F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x800C;&#x4ECA;&#x5929;&#x8981;&#x5206;&#x4EAB;&#x7684;&#x5C31;&#x662F;&#x5176;&#x4E2D;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF1A;MVC&#x3002;</p>
<p>&#x5728;&#x5199;NodeJS&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x5199;&#x8FC7;&#x4E00;&#x9635;Java&#xFF0C;&#x57FA;&#x4E8E;spring&#x6846;&#x67B6;&#xFF0C;&#x6240;&#x4EE5;&#x601D;&#x7EF4;&#x4E2D;&#x5BF9;MVC&#x6A21;&#x5F0F;&#x4E5F;&#x7B97;&#x6709;&#x4E2A;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6784;&#x5EFA;NodeJS&#x6846;&#x67B6;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x591A;&#x5C11;&#x5E26;&#x5165;&#x4E86;&#x4E00;&#x70B9;Spring&#x7684;&#x601D;&#x7EF4;&#x3002;</p>
<p>&#x57FA;&#x672C;&#x8981;&#x7D20;&#xFF1A;</p>
<h2 id="1-_Controller&#xFF0C;Model&#xFF0C;View&#x3002;">1. Controller&#xFF0C;Model&#xFF0C;View&#x3002;</h2><p>&#x4E09;&#x8981;&#x7D20;&#x5566;&#xFF0C;&#x4E0D;&#x7528;&#x8D28;&#x7591;&#xFF0C;&#x518D;&#x590D;&#x8FF0;&#x4E00;&#x904D;&#x3002;</p>
<p>Controller &#xFF0C;&#x8D1F;&#x8D23;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x63A7;&#x5236;&#xFF0C;&#x662F;&#x4E2D;&#x67A2;&#xFF0C;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x548C;&#x89C6;&#x56FE;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x3002;&#x4E0D;&#x8FC7;controller&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E2D;&#x95F4;&#x9700;&#x8981;&#x518D;&#x52A0;&#x4E00;&#x5C42;&#xFF0C;&#x8FD9;&#x4E2A;&#x540E;&#x9762;&#x8BF4;&#x3002;&#x6240;&#x4EE5;&#x4E00;&#x4E2A;&#x5E72;&#x51C0;&#x7684;controller&#x91CC;&#xFF0C;&#x5E94;&#x8BE5;&#x8C03;&#x7528;&#x5404;&#x65B9;&#x6570;&#x636E;&#xFF0C;&#x6700;&#x540E;&#x7EC4;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6700;&#x540E;&#x628A;&#x6570;&#x636E;&#x4F20;&#x7ED9;&#x89C6;&#x56FE;&#x3002;</p>
<p>Model&#xFF0C;&#x4ECE;&#x6982;&#x5FF5;&#x4E0A;&#x6765;&#x8BF4;&#xFF0C;Model&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5C42;&#xFF0C;&#x4E0D;&#x8FC7;&#x5728;&#x6211;&#x4EEC;&#x7684;NodeJS&#x9879;&#x76EE;&#x4E2D;&#xFF0C;Model&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;ORM&#x62BD;&#x8C61;&#x6210;&#x5BF9;&#x8C61;&#x7684;&#xFF0C;&#x53D8;&#x6210;&#x4E86;&#x5B9E;&#x4F53;&#x5B9A;&#x4E49;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E5F;&#x662F;&#x540E;&#x9762;&#x5177;&#x4F53;&#x8BB2;&#x3002;</p>
<p>View&#xFF0C;&#x89C6;&#x56FE;&#x5C42;&#xFF0C;&#x4E00;&#x822C;&#x901A;&#x8FC7;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x628A;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x6210;&#x52A8;&#x6001;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x516C;&#x53F8;&#x7EDF;&#x4E00;&#x4F7F;&#x7528;Jade&#xFF0C;Jade&#x7684;&#x7ED3;&#x6784;&#x4E25;&#x683C;&#x6E05;&#x6670;&#xFF0C;&#x901F;&#x5EA6;&#x4E5F;&#x591F;&#x5FEB;&#xFF0C;&#x529F;&#x80FD;&#x591F;&#x4E30;&#x5BCC;&#xFF0C;&#x65E0;&#x5B83;&#x3002;</p>
<h2 id="2-_Service">2. Service</h2><p>&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x662F;&#x4ECE;Spring&#x91CC;&#x9762;&#x5B66;&#x8FC7;&#x6765;&#x7684;&#xFF0C;&#x611F;&#x89C9;Service&#x8FD9;&#x4E2A;&#x8BCD;&#x672C;&#x8EAB;&#x5C31;&#x5F88;&#x80FD;&#x4EE3;&#x8868;&#x8FD9;&#x4E2A;&#x5206;&#x5C42;&#x6240;&#x62C5;&#x5F53;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x670D;&#x52A1;&#x5C42;&#x3002;</p>
<p>&#x4EC0;&#x4E48;&#x662F;&#x670D;&#x52A1;&#x5462;&#xFF1F;&#x5B83;&#x51CC;&#x9A7E;&#x4E8E;&#x6570;&#x636E;&#x5C42;&#x4E4B;&#x4E0A;&#xFF0C;&#x5BF9;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x62BD;&#x8C61;&#xFF0C;&#x901A;&#x8FC7;&#x670D;&#x52A1;&#x7C7B;&#x578B;&#x62BD;&#x8C61;&#x6210;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x63D0;&#x4F9B;&#x7ED9;&#x4E0D;&#x540C;&#x7684;&#x4E1A;&#x52A1;&#x8C03;&#x7528;&#x3002;&#x4F8B;&#x5982;&#x5728;&#x6211;&#x4EEC;&#x516C;&#x53F8;&#x6700;&#x57FA;&#x7840;&#x7684;&#x51E0;&#x4E2A;&#x670D;&#x52A1;&#xFF1A;&#x8F66;&#x8F86;&#x6570;&#x636E;&#x670D;&#x52A1;&#xFF0C;&#x7528;&#x6237;&#x6570;&#x636E;&#x670D;&#x52A1;&#xFF0C;&#x63A8;&#x9001;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x3002;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x5927;&#x90E8;&#x5206;&#x4E0D;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x64CD;&#x4F5C;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x8868;&#x4E4B;&#x7C7B;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x9876;&#x5C42;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x56E0;&#x4E3A;&#x8F66;&#x8F86;&#x76F8;&#x5173;&#x7684;&#x4E1A;&#x52A1;&#x53EF;&#x80FD;&#x6709;&#x5F88;&#x591A;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x4F8B;&#x5982;&#x8F66;&#x8F86;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#xFF0C;&#x8F66;&#x8F86;&#x5BA1;&#x6838;&#x4FE1;&#x606F;&#xFF0C;&#x5404;&#x79CD;&#x72B6;&#x6001;&#x53D8;&#x66F4;&#x8BB0;&#x5F55;&#x7B49;&#x4E00;&#x7CFB;&#x5217;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x800C;&#x4E14;&#x4F1A;&#x6A2A;&#x8DE8;&#x5728;mysql&#xFF0C;mongodb&#xFF0C;&#x4EE5;&#x53CA;redis&#x7F13;&#x5B58;&#x4E4B;&#x95F4;&#x7684;&#x5404;&#x79CD;&#x903B;&#x8F91;&#x3002;&#x6211;&#x4EEC;&#x628A;&#x79CD;&#x79CD;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x901A;&#x8FC7;service&#x5C42;&#x5B8C;&#x5168;&#x9690;&#x85CF;&#x8D77;&#x6765;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x53D8;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x4E2A;&#x9488;&#x5BF9;&#x8F66;&#x8F86;&#x7684;&#x201C;&#x64CD;&#x4F5C;&#x201D;&#x3002;&#x8FD9;&#x5C31;&#x662F;service&#x6700;&#x540E;&#x63D0;&#x4F9B;&#x51FA;&#x6765;&#x7684;&#x529F;&#x80FD;&#xFF1A;&#x201C;&#x64CD;&#x4F5C;&#x201D;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x8BF4;&#xFF0C;&#x5176;&#x5B9E;service&#x5C42;&#x662F;&#x6574;&#x4E2A;&#x67B6;&#x6784;&#x4E2D;&#x6700;&#x91CD;&#x7684;&#x4E00;&#x5C42;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x90FD;&#x96C6;&#x4E2D;&#x4E8E;&#x8FD9;&#x4E00;&#x5C42;&#x3002;</p>
<p>&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x8FDB;&#x6765;&#xFF0C;&#x8FDB;&#x5165;controller&#x7684;&#x65F6;&#x5019;&#xFF0C;controller&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x5404;&#x4E2A;service&#x6765;&#x62FC;&#x88C5;&#x670D;&#x52A1;&#x6570;&#x636E;&#xFF0C;&#x6700;&#x540E;&#x628A;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x3002;&#x5230;&#x6B64;&#xFF0C;&#x5176;&#x5B9E;service&#x5C42;&#x662F;&#x505A;&#x4EC0;&#x4E48;&#x7684;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x6709;&#x5176;&#x5B58;&#x5728;&#x7684;&#x5FC5;&#x8981;&#x5C31;&#x5F88;&#x6E05;&#x695A;&#x4E86;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x4E00;&#x70B9;&#xFF0C;&#x4E00;&#x4E2A;&#x6E05;&#x6670;&#x7684;MVC&#x91CC;&#xFF0C;controller&#x91CC;&#x4E0D;&#x5E94;&#x8BE5;&#x6709;&#x4EFB;&#x4F55;&#x76F4;&#x63A5;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x90FD;&#x8C03;&#x7528;service&#x5C42;&#x6765;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6837;controller&#x624D;&#x80FD;&#x79F0;&#x4E3A;&#x4E00;&#x4E2A;&#x201C;&#x5E72;&#x51C0;&#x7684;controller&#x201D;&#x3002;</p>
<h2 id="3-_Route">3. Route</h2><p>&#x54A6;&#xFF0C;&#x5947;&#x602A;&#x7684;&#x4E00;&#x5C42;&#xFF0C;Route&#x8DDF;controller&#x6709;&#x5565;&#x533A;&#x522B;&#xFF1F;&#x600E;&#x4E48;&#x8BF4;&#x5462;&#xFF0C;&#x5F88;&#x96BE;&#x5206;&#x6E05;&#x3002;controller&#x662F;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x8FDB;&#x6765;&#x4E4B;&#x540E;&#x5904;&#x7406;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x800C;route&#x5219;&#x5B9A;&#x4E49;&#x4E86;&#x8BF7;&#x6C42;&#x5E94;&#x8BE5;&#x8FDB;&#x5165;&#x90A3;&#x4E2A;controller&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x628A;Route&#x5355;&#x72EC;&#x62FF;&#x51FA;&#x6765;&#x8BF4;&#xFF0C;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x5C55;&#x793A;&#x4E0B;&#x6211;&#x4EEC;&#x662F;&#x5982;&#x4F55;&#x7BA1;&#x7406;Route&#x7684;&#x3002;&#x90A3;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x4E00;&#x4E2A;&#x5C0F;&#x5E93;&#xFF1A;rainbowy&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x73A9;&#x610F;&#x7684;&#x4F5C;&#x7528;&#x662F;&#xFF1A;&#x7528;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x81EA;&#x52A8;&#x751F;&#x6210;route&#x3002;&#x6069;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x7B80;&#x5355;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x7ED9;&#x4ED6;&#x96C6;&#x6210;&#x4E86;&#x4E00;&#x4E9B;&#x5C0F;&#x7279;&#x8272;&#xFF0C;&#x4F8B;&#x5982;&#x5728;route&#x4E2D;&#x76F4;&#x63A5;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x6587;&#x6863;&#xFF0C;&#x7136;&#x540E;&#x6700;&#x540E;&#x6C47;&#x603B;&#x751F;&#x6210;&#x4E00;&#x4E2A;api&#x6587;&#x6863;&#x6C47;&#x603B;&#x9875;&#x9762;&#xFF0C;&#x4F9B;&#x524D;&#x7AEF;&#x81EA;&#x5DF1;&#x6A21;&#x62DF;&#x8BF7;&#x6C42;&#x63A5;&#x53E3;&#x3002;</p>
<p>&#x5177;&#x4F53;&#x6587;&#x6863;&#x548C;&#x4EE3;&#x7801;&#x89C1;&#xFF1A; <a href="https://github.com/xinyu198736/rainbow" target="_blank" rel="external">https://github.com/xinyu198736/rainbow</a></p>
<p>&#x6211;&#x4EEC;&#x4E0D;&#x662F;&#x7528;&#x5305;&#x7684;&#x65B9;&#x5F0F;&#x5F15;&#x5165;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x5185;&#x7F6E;&#x5230;&#x9879;&#x76EE;lib&#x91CC;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x53CA;&#x65F6;&#x66F4;&#x65B0;&#xFF0C;&#x5176;&#x5B9E;&#x539F;&#x7406;&#x5F88;&#x7B80;&#x5355;&#x3002;</p>
<p>&#x4E0D;&#x8981;&#x5C0F;&#x770B;&#x8FD9;&#x79CD;route&#x7BA1;&#x7406;&#x65B9;&#x5F0F;&#xFF0C;&#x5F53;route&#x53D8;&#x5F97;&#x6210;&#x767E;&#x4E0A;&#x5343;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6587;&#x4EF6;&#x5939;&#x5D4C;&#x5957;&#x7684;&#x65B9;&#x5F0F;&#x5C31;&#x53D8;&#x5F97;&#x975E;&#x5E38;&#x5B9E;&#x7528;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5B9A;&#x4F4D;&#x5230;&#x67D0;&#x4E2A;&#x4E1A;&#x52A1;&#x4EE3;&#x7801;&#x4E2D;&#x3002;</p>
<h2 id="4-_ORM">4. ORM</h2><p>ORM&#x662F;&#x4E00;&#x79CD;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x62BD;&#x8C61;&#x6210;&#x8BED;&#x8A00;&#x539F;&#x751F;&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;&#x7684;&#x65B9;&#x6CD5;&#x5DE5;&#x5177;&#x3002;&#x5728;NodeJS&#x91CC;&#x6709;&#x4E0D;&#x5C11;orm&#x5E93;&#xFF0C;&#x4E0D;&#x8FC7;&#x5DF2;&#x7ECF;&#x7A33;&#x5065;&#x6210;&#x719F;&#x7684;&#x4E0D;&#x591A;&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;sequelize&#xFF0C;&#x5DF2;&#x7ECF;&#x53D1;&#x5C55;&#x5F88;&#x4E45;&#x4E86;&#xFF0C;&#x57FA;&#x7840;&#x529F;&#x80FD;&#x7A33;&#x5B9A;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x8FD8;&#x5728;beta&#xFF0C;&#x5076;&#x5C14;&#x8FD8;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x4E9B;&#x86CB;&#x75BC;&#x7684;bug&#xFF0C;&#x4F8B;&#x5982;&#x4ED6;&#x7684;promise&#xFF0C;&#x91CC;&#x9762;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x4E24;&#x6B21;&#x56DE;&#x8C03;&#x4E4B;&#x7C7B;&#x7684;&#x3002;</p>
<p>&#x4E0D;&#x8FC7;&#x65E2;&#x7136;&#x7528;&#x4E86;&#x90A3;&#x4E5F;&#x6CA1;&#x8BDD;&#x8BF4;&#x4E86;&#xFF0C;ORM&#x9664;&#x4E86;&#x6027;&#x80FD;&#x4E0A;&#x6709;&#x4E00;&#x5B9A;&#x5F71;&#x54CD;&#x4E4B;&#x5916;&#xFF0C;&#x597D;&#x5904;&#x8FD8;&#x662F;&#x5927;&#x4E8E;&#x574F;&#x5904;&#x7684;&#xFF0C;&#x9996;&#x5148;&#x662F;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x51E0;&#x53E5;&#x8BDD;&#x641E;&#x5B9A;&#xFF0C;&#x7136;&#x540E;&#x7EF4;&#x62A4;&#x66F4;&#x65B9;&#x4FBF;&#xFF0C;&#x589E;&#x52A0;&#x5B57;&#x6BB5;&#x4E4B;&#x7C7B;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x57FA;&#x672C;&#x5C31;&#x662F;&#x5206;&#x5206;&#x949F;&#x641E;&#x5B9A;&#x3002;</p>
<p>&#x4E00;&#x4E2A;&#x6728;&#x6709;ORM&#x7684;MVC&#x7ED3;&#x6784;&#x662F;&#x4E0D;&#x5B8C;&#x7F8E;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x8BA9;&#x6211;&#x4EEC;&#x7684;&#x7ED3;&#x6784;&#x66F4;&#x5B8C;&#x7F8E;&#xFF0C;&#x6211;&#x4EEC;&#x5F88;&#x86CB;&#x75BC;&#x7684;&#x5728;ORM&#x4E0A;&#x9762;&#x53C8;&#x5C01;&#x88C5;&#x4E86;&#x4E00;&#x5C42;&#x3002;&#x540D;&#x5B57;&#x53EB;&#x505A;SuperModel&#x3002;</p>
<p>SuperModel&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;ORM&#x7684;&#x9876;&#x5C42;&#x5C01;&#x88C5;&#xFF0C;&#x4F5C;&#x7528;&#x6709;&#x4E8C;&#xFF1A;</p>
<p>A. &#x7EDF;&#x8BA1;mysql&#x548C;mongodb&#x7684;&#x64CD;&#x4F5C;&#x63A5;&#x53E3;&#xFF0C;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x5316;&#xFF0C;&#x751A;&#x81F3;&#x4F60;&#x6839;&#x672C;&#x4E0D;&#x77E5;&#x9053;&#x4F60;&#x5728;&#x7528;mysql&#x8FD8;&#x662F;mongo&#x7684;&#x8BF4;&#x3002;</p>
<p>B. &#x628A;ORM&#x5C01;&#x88C5;&#x6210;&#x7EDF;&#x4E00;&#x7684;&#x94FE;&#x5F0F;&#x64CD;&#x4F5C;&#xFF0C;&#x8DDF;mongoose&#x7684;&#x64CD;&#x4F5C;&#x6709;&#x70B9;&#x7C7B;&#x4F3C;&#x3002;</p>
<pre><code><span class="built_in">var</span> userModel <span class="subst">=</span> <span class="literal">new</span> SuperModel(<span class="subst">&amp;</span><span class="variable">#x201C</span>;user<span class="subst">&amp;</span><span class="variable">#x201D</span>;);
</code></pre><p>&#x8FD9;&#x53E5;&#x8BDD;&#x5C31;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;SuperModel&#x5B9E;&#x4F8B;&#xFF0C;user&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x662F;&#x4E00;&#x4E2A;json&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5B9A;&#x4E49;&#xFF0C;&#x4E00;&#x822C;&#x653E;&#x5728;&#x9879;&#x76EE;&#x91CC;&#x7684;model&#x76EE;&#x5F55;&#x4E0B;</p>
<p><img src="http://taojinke.github.io/img/20150702/9fdd2b7.png" alt=""></p>
<p>&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;</p>
<pre><code>Example.findAll<span class="params">()</span>.where<span class="params">({id:{lt:<span class="number">3</span>}})</span>.<span class="built_in">offset</span><span class="params">(<span class="number">10</span>)</span>.limit<span class="params">(<span class="number">10</span>)</span>
.order<span class="params">({id:&amp;quot;desc&amp;quot;})</span>.fields<span class="params">([&amp;apos;id&amp;apos;,&amp;apos;title&amp;apos;,&amp;apos;content&amp;apos;])</span>
.done<span class="params">(function<span class="params">(error,datas)</span>{

})</span>
</code></pre><p>&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x662F;&#x79FB;&#x690D;&#x8FC7;&#x6765;&#x7684;&#xFF0C;&#x65B0;&#x7248;&#x7684;&#x4E1A;&#x52A1;&#x624D;&#x4F7F;&#x7528;&#x4E86;ORM&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x80FD;&#x770B;&#x5230;&#x5F88;&#x5C0F;&#x4E00;&#x90E8;&#x5206;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5B9A;&#x4E49;&#x3002;</p>
<h2 id="5-_Util">5. Util</h2><p>&#x8FD9;&#x4E2A;&#x8DDF;MVC&#x6CA1;&#x4EC0;&#x4E48;&#x5173;&#x7CFB;&#x4E86;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x6709;&#x4E9B;&#x5DE5;&#x5177;&#x7C7B;&#x5355;&#x72EC;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x4F8B;&#x5982;JSON&#x8BF7;&#x6C42;&#x7EDF;&#x4E00;&#x8FD4;&#x56DE;&#x7C7B;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x5904;&#x7406;&#xFF0C;&#x65E5;&#x671F;&#x5904;&#x7406;&#x7C7B;&#xFF0C;&#x7F16;&#x7801;&#x5904;&#x7406;&#x7C7B;&#xFF0C;&#x63A8;&#x9001;&#x77ED;&#x4FE1;&#x7C7B;&#xFF0C;&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;&#x7B49;&#x3002;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x8DDF;&#x6570;&#x636E;&#x5E93;&#x65E0;&#x5173;&#xFF0C;&#x7EAF;&#x5DE5;&#x5177;&#x6027;&#x8D28;&#xFF0C;&#x6240;&#x4EE5;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#x4F5C;&#x4E3A;Util&#x5B58;&#x5728;&#x3002;</p>
<h2 id="6-_filter">6. filter</h2><p>&#x8FD9;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5947;&#x602A;&#x7684;&#x5C42;&#xFF0C;&#x662F;&#x7531;rainbow&#x5F15;&#x5165;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;controller&#x7684;&#x524D;&#x7F6E;&#x5C42;&#xFF0C;&#x5927;&#x6982;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x524D;&#x7F6E;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x4E1C;&#x897F;&#x3002;</p>
<p>&#x529F;&#x80FD;&#x65B9;&#x9762;&#xFF0C;&#x4E3B;&#x8981;&#x505A;&#x4E9B; &#x7528;&#x6237;&#x767B;&#x5F55;&#x524D;&#x7F6E;&#x9A8C;&#x8BC1;&#x7B49;&#x3002;&#x6240;&#x8C13;&#x7684;filter&#xFF0C;&#x5B57;&#x9762;&#x610F;&#x601D;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x7684;&#xFF0C;&#x5728;&#x8FDB;&#x5165;&#x7EAF;&#x51C0;&#x7684;controller&#x4E4B;&#x524D;&#x8FC7;&#x6EE4;&#x4E00;&#x4E0B;&#x3002;</p>
<p>&#x5177;&#x4F53;&#x7528;&#x6CD5;&#x89C1; &#x4E0A;&#x9762; rainbow&#x7684;&#x6587;&#x6863;&#x3002;</p>
<h2 id="&#x5C0F;&#x7ED3;&#x3002;">&#x5C0F;&#x7ED3;&#x3002;</h2><p>&#x5176;&#x5B9E;&#x8BF4;&#x662F;&#x8981;&#x603B;&#x7ED3;MVC&#x57FA;&#x7840;&#x8981;&#x7D20;&#x4E00;&#x6837;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x6700;&#x540E;&#x76EE;&#x7684;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x5206;&#x4EAB;&#x4E0B;&#x6211;&#x4EEC;&#x9879;&#x76EE;&#x7684;&#x5E94;&#x7528;&#x7ED3;&#x6784;&#x3002;&#x4E5F;&#x7B97;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x4E00;&#x70B9;&#x70B9;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;&#xFF0C;&#x5E0C;&#x671B;&#x5BF9;&#x521D;&#x5B66;&#x8005;&#x80FD;&#x591F;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x542F;&#x53D1;&#xFF0C;&#x5BF9;&#x8D44;&#x6DF1;&#x5F00;&#x53D1;&#x80FD;&#x591F;&#x6709;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x601D;&#x8DEF;&#xFF0C;&#x4E5F;&#x6B22;&#x8FCE;&#x5927;&#x5BB6;&#x4E00;&#x8D77;&#x4EA4;&#x6D41;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x8FD8;&#x4F1A;&#x6709;&#x5176;&#x4ED6;&#x4E00;&#x7CFB;&#x5217;&#x6587;&#x7AE0;&#xFF0C;&#x4E8B;&#x5148;&#x9884;&#x544A;&#x4E0B;&#xFF1A;</p>
<ol>
<li>&#x5B58;&#x50A8;&#xFF0C;&#x7F13;&#x5B58;&#xFF0C;&#x4E91;&#x670D;&#x52A1; &#x65B9;&#x9762;&#x7684;&#x4E00;&#x4E9B;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;&#x548C;&#x7ECF;&#x9A8C;&#x3002;</li>
<li>NodeJS&#x670D;&#x52A1;&#x6027;&#x80FD;&#x76D1;&#x6D4B;&#xFF0C;&#x8C03;&#x4F18;&#xFF0C;&#x8C03;&#x8BD5;&#xFF0C;&#x76D1;&#x63A7;&#x62A5;&#x8B66;&#xFF0C;&#x5E94;&#x6025;&#x5904;&#x7406;&#x65B9;&#x9762;&#x7684;&#x8BDD;&#x9898;&#x3002;</li>
<li>NodeJS&#x7EBF;&#x4E0A;&#x591A;&#x673A;&#x90E8;&#x7F72;&#xFF0C;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x90E8;&#x7F72;&#x548C;&#x4F7F;&#x7528;&#xFF0C;&#x65B9;&#x9762;&#x7684;&#x8BDD;&#x9898;&#x3002;</li>
</ol>
<p>&#x6B22;&#x8FCE;&#x5927;&#x5BB6;&#x6301;&#x7EED;&#x5173;&#x6CE8;&#x6211;&#x4EEC;&#x7684;&#x4E13;&#x680F;&#x3002;</p>
<p>&#x53E6;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x7684;NodeJS&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x4E5F;&#x5728;&#x62DB;&#x8058;&#x5C0F;&#x4F19;&#x4F34;&#x4E00;&#x8D77;&#x52A0;&#x5165;&#x5DE5;&#x4F5C;&#x5B66;&#x4E60;&#x7814;&#x7A76;&#x3002;&#x5173;&#x4E8E;&#x6211;&#x4EEC;&#x516C;&#x53F8;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x591A;&#x4ECB;&#x7ECD;&#x5566;&#xFF0C;C&#x8F6E;&#x521A;&#x8FC7;&#x7684;&#x4E8C;&#x624B;&#x8F66;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E92;&#x8054;&#x7F51;&#x4F01;&#x4E1A;&#xFF0C;&#x5750;&#x6807;&#x676D;&#x5DDE;&#xFF0C;300&#x4EBA;&#x56E2;&#x961F;&#xFF0C;&#x5927;&#x6982;100&#x540D;&#x5F00;&#x53D1;&#x4EA7;&#x54C1;&#x8BBE;&#x8BA1;&#xFF0C;&#x6211;&#x7684;&#x56E2;&#x961F;&#x73B0;&#x5728;&#x5927;&#x6982;16&#x4EBA;&#xFF0C;&#x5206;&#x4E3A;&#x524D;&#x7AEF;&#x548C;NodeJS&#x4E24;&#x90E8;&#x5206;&#xFF0C;&#x90FD;&#x7F3A;&#x4EBA;&#xFF0C;&#x5404;&#x79CD;&#x6C42;&#x624D;&#x3002;&#x7B80;&#x5386;&#x76F4;&#x63A5;&#x53D1;&#x6211;&#x90AE;&#x7BB1;&#x5373;&#x53EF;&#xFF1A;sunxinyu@souche.com</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/MVC模式/">MVC模式</a><a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9fab460/" title="Gulp前端代码构建工具 -" itemprop="url">Gulp前端代码构建工具 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x6700;&#x8FD1;&#x5728;&#x5B66;&#x4E60;nodejs express&#x5F00;&#x53D1;&#x7F51;&#x7AD9;&#xFF0C;&#x63A5;&#x89E6;&#x5230;&#x5F88;&#x591A;&#x65B0;&#x4E1C;&#x897F;&#xFF0C;Gulp&#x5C31;&#x662F;&#x5176;&#x4E2D;&#x4E4B;&#x4E00;&#xFF1B;</p>
<p>Gulp&#x662F;&#x4E00;&#x4E2A;&#x6784;&#x5EFA;&#x7CFB;&#x7EDF;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B83;&#x5728;&#x7F51;&#x7AD9;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x5E38;&#x89C1;&#x4EFB;&#x52A1;&#x3002;</p>
<p>Gulp&#x662F;&#x57FA;&#x4E8E;Node.js&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x56E0;&#x6B64;Gulp&#x6E90;&#x6587;&#x4EF6;&#x548C;&#x4F60;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x4EFB;&#x52A1;&#x7684;Gulp&#x6587;&#x4EF6;&#x90FD;&#x88AB;&#x5199;&#x8FDB;&#x4E86;JavaScript&#xFF08;&#x6216;&#x8005;CoffeeScript&#xFF09;&#x91CC;&#x3002;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&#x5E08;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x81EA;&#x5DF1;&#x719F;&#x6089;&#x7684;&#x8BED;&#x8A00;&#x6765;&#x7F16;&#x5199;&#x4EFB;&#x52A1;&#x53BB;lint JavaScript&#x548C;CSS&#x3001;&#x89E3;&#x6790;&#x6A21;&#x677F;&#x4EE5;&#x53CA;&#x5728;&#x6587;&#x4EF6;&#x53D8;&#x52A8;&#x65F6;&#x7F16;&#x8BD1;LESS&#x6587;&#x4EF6;&#xFF08;&#x5F53;&#x7136;&#x8FD9;&#x4E9B;&#x53EA;&#x662F;&#x4E00;&#x5C0F;&#x90E8;&#x5206;&#x4F8B;&#x5B50;&#xFF09;&#x3002; </p>
<p>Gulp&#x672C;&#x8EAB;&#x867D;&#x7136;&#x4E0D;&#x80FD;&#x5B8C;&#x6210;&#x5F88;&#x591A;&#x4EFB;&#x52A1;&#xFF0C;&#x4F46;&#x5B83;&#x6709;&#x5927;&#x91CF;&#x63D2;&#x4EF6;&#x53EF;&#x7528;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x63D2;&#x4EF6;&#x9875;&#x9762;&#x6216;&#x8005;&#x5728;npm&#x641C;&#x7D22;gulpplugin&#x5C31;&#x80FD;&#x770B;&#x5230;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6709;&#x4E9B;&#x63D2;&#x4EF6;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6267;&#x884C;JSHint&#x3001;&#x7F16;&#x8BD1;CoffeeScript&#xFF0C;&#x6267;&#x884C;Mocha&#x6D4B;&#x8BD5;&#xFF0C;&#x751A;&#x81F3;&#x66F4;&#x65B0;&#x7248;&#x672C;&#x53F7;&#x3002; </p>
<h2 id="1&#x3001;Gulp&#x5B89;&#x88C5;">1&#x3001;Gulp&#x5B89;&#x88C5;</h2><p>Gulp&#x662F;&#x57FA;&#x4E8E; Node.js&#x7684;&#xFF0C;&#x6545;&#x8981;&#x9996;&#x5148;&#x5B89;&#x88C5; Node.js</p>
<pre><code>$ npm <span class="keyword">install</span> -g gulp  
</code></pre><p>$ npm install &#x2014;-save-dev gulp</p>
<h2 id="2&#x3001;Gulp&#x4F7F;&#x7528;">2&#x3001;Gulp&#x4F7F;&#x7528;</h2><p>Gulp&#x7684;&#x4EFB;&#x52A1;&#x90FD;&#x662F;&#x4EE5;&#x63D2;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x5728;&#xFF0C;&#x672C;&#x6B21;&#x793A;&#x4F8B;&#x4EE5; gulp-jshint &#x4E3A;&#x4F8B;&#xFF0C;&#x5C55;&#x793A;Gulp&#x7684;&#x5E38;&#x89C4;&#x7528;&#x6CD5;&#x3002;</p>
<h4 id="&#x5B89;&#x88C5;_gulp-jshint">&#x5B89;&#x88C5; gulp-jshint</h4><pre><code>$ npm <span class="keyword">install</span> gulp-jshint &amp;<span class="comment">#x2013;save-dev</span>
</code></pre><h4 id="&#x521B;&#x5EFA;_gulpfile-js">&#x521B;&#x5EFA; gulpfile.js</h4><p>gulp&#x9879;&#x76EE;&#x9875; &#x6709;&#x4E00;&#x4E2A; Sample gulpfile&#x3002;&#x5982;&#x679C;&#x4E0D;&#x4F1A;&#x5199;&#x7684;&#x8BDD;&#xFF0C;&#x76F4;&#x63A5;&#x53C2;&#x8003;&#x4E00;&#x4E0B;&#x5C31;OK&#x4E86;&#x3002;</p>
<pre><code><span class="reserved">var</span> gulp = <span class="built_in">require</span>(&amp;apos;gulp&amp;apos;);  
</code></pre><p>var jshint = require(&apos;gulp-jshint&apos;);<br>var paths = {<br>    scripts: &apos;js/<em>*/</em>.js&apos;,<br>};<br>gulp.task(&apos;lint&apos;, function() {<br>  return gulp.src(paths.scripts)<br>      .pipe(jshint())<br>    .pipe(jshint.reporter(&apos;default&apos;));<br>});</p>
<h4 id="&#x7136;&#x540E;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x884C;">&#x7136;&#x540E;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x884C;</h4><pre><code><span class="variable">$ </span>gulp lint
</code></pre><p>&#x672C;&#x6587;&#x51FA;&#x5904;&#xFF1A; <a href="http://chenyc.gitcafe.io/2015/06/05/gulp-study/" target="_blank" rel="external">http://chenyc.gitcafe.io/2015/06/05/gulp-study/</a></p>
<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x5728;&#x5F00;&#x5934;&#x6CE8;&#x660E;&#x672C;&#x6587;&#x51FA;&#x5904;&#x3002;</p>
<p>&#x6B22;&#x8FCE;&#x5173;&#x6CE8;&#x6211;&#x7684;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#xFF0C;&#x5206;&#x4EAB;Swift&#x5F00;&#x53D1;&#xFF0C;Android &#x5F00;&#x53D1;&#x548C;&#x4E92;&#x8054;&#x7F51;&#x5185;&#x5BB9;</p>
<p>&#x5FAE;&#x4FE1;&#x53F7;&#xFF1A; <a href="http://weixin.sogou.com/gzh?openid=oIWsFt8OmZE0Gy3LRolV8JNGNWyw" target="_blank" rel="external">Swift&#x5F00;&#x53D1;</a></p>
<p><img src="http://taojinke.github.io/img/20150702/9faa0d8.jpg" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Gulp/">Gulp</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9fa48f4/" title="给已有的gulp工程里增加webpack -" itemprop="url">给已有的gulp工程里增加webpack -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF1A;&#x5728;&#x5DF2;&#x6709;&#x7684;gulp&#x5DE5;&#x7A0B;&#x91CC;&#x4F7F;&#x7528;webpack&#x6253;&#x5305;js </p>
<p>&#x601D;&#x8DEF;&#xFF1A;&#x628A;webpack&#x7684;&#x8F93;&#x51FA;&#x4F5C;&#x4E3A;&#x539F;&#x6765;gulp&#x91CC;js&#x7684;&#x8F93;&#x5165;&#x3002; </p>
<ul>
<li>yo gulp-webapp</li>
<li><p>&#x589E;&#x52A0;webpack.config.js</p>
<p>  var path = require(&quot;path&quot;);<br>  module.exports = {</p>
<pre><code><span class="string">entry:</span> &amp;quot;.<span class="regexp">/app/</span>src<span class="regexp">/js/</span>entry.js&amp;quot;,
<span class="string">output:</span> {
<span class="label">    path:</span> path.join(__dirname, &amp;quot;app/scripts&amp;quot;),
<span class="label">    filename:</span> &amp;quot;main.js&amp;quot;
},
<span class="string">module:</span> {
<span class="label">    loaders:</span> [
        { <span class="string">test:</span> <span class="regexp">/\.css$/</span>, <span class="string">loader:</span> &amp;quot;style!css&amp;quot; },
        <span class="comment">// required for react jsx</span>
        { <span class="string">test:</span> <span class="regexp">/\.js$/</span>,    <span class="string">loader:</span> &amp;quot;jsx-loader&amp;quot; }
    ]
}
</code></pre><p>  };</p>
</li>
<li><p>&#x5728;gulpfile.js&#x4E2D;&#x589E;&#x52A0;</p>
<p>  var gutil = require(&quot;gulp-util&quot;);<br>  var webpack = require(&quot;webpack&quot;);<br>  var webpackConfig = require(&quot;./webpack.config.js&quot;);<br>  gulp.task(&quot;webpack&quot;, function(callback) {</p>
<pre><code><span class="keyword">var</span> myConfig = Object.create(webpackConfig);
<span class="comment">// run webpack</span>
webpack(
    <span class="comment">// configuration</span>
    myConfig
, <span class="function"><span class="keyword">function</span><span class="params">(err, stats)</span> </span>{
    <span class="comment">// if(err) throw new gutil.PluginError(&amp;quot;webpack&amp;quot;, err);</span>
    <span class="comment">// gutil.log(&amp;quot;[webpack]&amp;quot;, stats.toString({</span>
    <span class="comment">//     // output options</span>
    <span class="comment">// }));</span>
    <span class="keyword">callback</span>();
});
</code></pre><p>  });</p>
</li>
<li><p>&#x5728;serve&#x4EFB;&#x52A1;&#x91CC;,&#x5176;&#x4ED6; gulp.watch(…); &#x540E;&#x9762;&#x589E;&#x52A0; </p>
<p>  gulp.watch(&apos;app/src/<em>*/</em>.js&apos;, [&apos;webpack&apos;]);</p>
</li>
</ul>
<p>&#x5DE5;&#x7A0B;&#x6837;&#x4F8B;&#xFF1A;</p>
<p><a href="https://bitbucket.org/fangj/yo-gulp-webapp-webpack" target="_blank" rel="external">https://bitbucket.org/fangj/yo-gulp-webapp-webpack</a></p>
<p>&#x53C2;&#x8003;:</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Gulp/">Gulp</a><a href="/tags/Webpack/">Webpack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9fa2937/" title="拒绝外部修改的对象（Node.js） -" itemprop="url">拒绝外部修改的对象（Node.js） -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>document &#x662F; mongoose &#x7684;&#x6570;&#x636E;&#x5B9E;&#x4F8B;&#xFF0C;&#x5B83;&#x62E5;&#x6709;&#x4E00;&#x4E9B;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#x7684;&#x7279;&#x6027; </p>
<ol>
<li>&#x5B9E;&#x4F8B;&#x62E5;&#x6709;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#xFF0C;&#x80FD;&#x88AB;&#x6B63;&#x5E38;&#x8C03;&#x7528;</li>
<li>console.log &#x663E;&#x793A;&#x7684;&#x662F;&#x7EAF;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x5305;&#x542B;&#x65B9;&#x6CD5;</li>
<li>&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x5185;&#x90E8;&#x589E;&#x52A0;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x5728;&#x5916;&#x90E8;&#x589E;&#x52A0;</li>
<li>&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#x5728;&#x5916;&#x90E8;&#x4E0D;&#x53EF;&#x88AB;&#x8986;&#x5199;&#xFF0C;&#x4E5F;&#x4E0D;&#x80FD;&#x88AB;&#x5220;&#x9664;</li>
<li>&#x5B9E;&#x4F8B;&#x5728;&#x6267;&#x884C; update &#x65B9;&#x6CD5;&#x540E;&#xFF0C;&#x5C5E;&#x6027;&#x4E5F;&#x80FD;&#x88AB;&#x66F4;&#x65B0;</li>
</ol>
<p>&#x770B;&#x8D77;&#x6765;&#xFF0C;1 &#x548C; 2 &#x6BD4;&#x8F83;&#x51B2;&#x7A81;&#xFF0C;3&#x3001;4 &#x548C; 5 &#x4E5F;&#x6BD4;&#x8F83;&#x51B2;&#x7A81;&#x3002;&#x6240;&#x4EE5;&#x8981;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x5462;&#xFF1F;</p>
<p>1&#x3001;2 &#x5B9E;&#x73B0;&#x770B;&#x8D77;&#x6765;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x6700;&#x7B80;&#x5355;&#x7684;&#x662F;&#x628A;&#x65B9;&#x6CD5;&#x90FD;&#x6DFB;&#x52A0;&#x5230;&#x5B9E;&#x4F8B;&#x521B;&#x5EFA;&#x7684;&#x539F;&#x578B;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x521B;&#x5EFA;&#x7684; document &#x5B9E;&#x4F8B;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x81EA;&#x52A8;&#x7EE7;&#x627F;&#x539F;&#x578B;&#x4E0A;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x5728; console.log &#x5B9E;&#x4F8B;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x4F1A;&#x663E;&#x793A;&#x7EE7;&#x627F;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x663E;&#x793A;&#x7684;&#x7ED3;&#x679C;&#x4F1A;&#x770B;&#x8D77;&#x6765;&#x975E;&#x5E38;&#x5E72;&#x51C0;&#x3002; </p>
<p>&#x540E;&#x9762;&#x7684; 3&#x3001;4&#x3001;5 &#x7EDF;&#x79F0;&#x8D77;&#x6765;&#x5C31;&#x662F; <strong>&#x5B9E;&#x4F8B;&#x53EF;&#x5185;&#x90E8;&#x4FEE;&#x6539;&#x4F46;&#x4E0D;&#x80FD;&#x88AB;&#x5916;&#x90E8;&#x4FEE;&#x6539;</strong> &#xFF0C;&#x8FD9;&#x4E2A;&#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x5C31;&#x9EBB;&#x70E6;&#x4E86;&#x3002; </p>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <strong>&#x4E0D;&#x53EF;&#x88AB;&#x4FEE;&#x6539;&#x4E5F;&#x4E0D;&#x80FD;&#x88AB;&#x5220;&#x9664;</strong> &#x7684;&#x5BF9;&#x8C61;&#x975E;&#x5E38;&#x5730;&#x5BB9;&#x6613;&#xFF0C;&#x5C06; <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="external">Object.defineProperty</a> &#x4E2D;&#x7684; configurable &#x548C; writable &#x90FD;&#x8BBE;&#x4E3A; false &#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x5B8C;&#x5168;&#x4E0D;&#x80FD;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x66F4;&#x65B0;&#x5C5E;&#x6027;&#x7684;&#x8BDD;&#x6CA1;&#x6CD5;&#x641E;&#x3002; </p>
<p>&#x8981;&#x652F;&#x6301;&#x66F4;&#x65B0;&#x5C5E;&#x6027;&#x4E5F;&#x884C;&#x554A;&#xFF0C;&#x628A; configurable &#x548C; writable &#x90FD;&#x8BBE;&#x4E3A; true … orz&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x5916;&#x90E8;&#x4FEE;&#x6539;&#x4E86;&#x3002; </p>
<p>&#x8FD8;&#x6709;&#x4E2A;&#x529E;&#x6CD5;&#x5C31;&#x662F;&#x7528; getter &#xFF0C;&#x542C;&#x8D77;&#x6765;&#x4E0D;&#x9519;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x53D1;&#x73B0; configurable &#x4E0D;&#x80FD;&#x8BBE;&#x4E3A; false &#xFF0C;&#x4E0D;&#x7136;&#x7684;&#x8BDD;&#x4E0D;&#x80FD;&#x66F4;&#x65B0; getter &#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8BBE;&#x4E3A; true &#x4EE5;&#x540E;&#x6570;&#x636E;&#x867D;&#x7136;&#x4E0D;&#x80FD;&#x88AB;&#x66F4;&#x65B0;&#x4F46;&#x53C8;&#x80FD;&#x88AB;&#x5220;&#x9664;&#x3002; </p>
<p>&#x800C;&#x4E14;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E86; getter &#x4EE5;&#x540E;&#xFF0C;&#x7528; console.log &#x6253;&#x5370;&#x5B9E;&#x4F8B;&#x7684;&#x65F6;&#x5019;&#x5C5E;&#x6027;&#x4F1A;&#x663E;&#x793A;&#x6210; [Getter] &#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B9E;&#x9645;&#x503C;&#xFF0C;&#x8FD9;&#x6837;&#x8DDF; 2 &#x53C8;&#x51B2;&#x7A81;&#x4E86;&#x3002; </p>
<p>&#x8FD8;&#x6709;&#x4E2A;&#x529E;&#x6CD5; <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/seal" target="_blank" rel="external">Object.seal</a> &#x53EF;&#x4EE5;&#x5BC6;&#x5C01;&#x5BF9;&#x8C61;&#x3002; &#x88AB;&#x5BC6;&#x5C01;&#x540E;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x80FD;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4E0D;&#x80FD;&#x5220;&#x9664;&#x5DF2;&#x6709;&#x5C5E;&#x6027;&#xFF0C;&#x4EE5;&#x53CA;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x5DF2;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x53EF;&#x679A;&#x4E3E;&#x6027;&#x3001;&#x53EF;&#x914D;&#x7F6E;&#x6027;&#x3001;&#x53EF;&#x5199;&#x6027;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x5DF2;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x7684;&#x5BF9;&#x8C61; &#x3002;orz … &#x8FD9;&#x91CC;&#x7684;&#x4FEE;&#x6539;&#x5E76;&#x4E0D;&#x80FD;&#x9650;&#x5236;&#x5916;&#x90E8;&#x7684;&#x3002; </p>
<p>&#x4F3C;&#x4E4E;&#x53EF;&#x4EE5;&#x7EFC;&#x5408;&#x4E00;&#x4E0B;&#xFF0C; Object.seal &#x5141;&#x8BB8;&#x4FEE;&#x6539;&#xFF0C; getter &#x53EF;&#x4EE5;&#x9650;&#x5236;&#x4FEE;&#x6539;&#x6765;&#x6E90;&#x3002; </p>
<p>&#x800C;&#x5B9E;&#x9645;&#x4E0A; getter &#x7684;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5230;&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x8FD9;&#x6837;&#x53EA;&#x7528;&#x66F4;&#x6539;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x5C31;&#x53EF;&#x4EE5;&#x66F4;&#x6539;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x4E86;&#xFF0C;&#x800C;&#x4E0D;&#x7528;&#x53BB;&#x76F4;&#x63A5;&#x6539; getter &#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x3002; </p>
<pre><code><span class="keyword">class</span> Model
  <span class="function"><span class="keyword">constructor</span>:</span> (<span class="keyword">record</span>) -&amp;gt;
    _.extend @, <span class="keyword">record</span>: <span class="keyword">record</span>

    _.keys(<span class="keyword">record</span>).map (key) =&amp;gt;
      Object.defineProperty @, key,
        enumerable: <span class="keyword">true</span>
        configurable: <span class="keyword">false</span>
        get: -&amp;gt;
          @<span class="keyword">record</span>[key]

  update: (<span class="keyword">record</span>) -&amp;gt;
    _.extend @, <span class="keyword">record</span>: <span class="keyword">record</span>
</code></pre><p>&#x8FD9;&#x6837;&#x5904;&#x7406;&#x7684;&#x8BDD;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x4E86;&#x4E00;&#x90E8;&#x5206;&#x4E86;&#xFF0C;&#x518D;&#x8FD8;&#x8981;&#x4E0D;&#x5141;&#x8BB8;&#x5F80;&#x5B9E;&#x4F8B;&#x4E0A;&#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#xFF0C;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x91CC;&#x9762;&#x52A0;&#x4E0A; Object.seal @ &#x5C31;&#x597D;&#x4E86;&#x3002; </p>
<p>&#x540E;&#x9762;&#x7684;&#x95EE;&#x9898;&#x5904;&#x7406;&#x5B8C;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x524D;&#x9762;&#x7684; 1&#x3001;2 &#x53C8;&#x51B2;&#x7A81;&#x4E86;&#x3002;&#x6DFB;&#x52A0;&#x7684; record &#x5C5E;&#x6027;&#x4F10;&#x5E5;&#xFFFD;&#x5728; console.log &#x7684;&#x65F6;&#x5019;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x800C;&#x6DFB;&#x52A0;&#x7684; getter &#x4E5F;&#x4F1A;&#x663E;&#x793A;&#x6210;&#x4E86; [Getter] &#x3002; </p>
<p>&#x53BB;&#x7814;&#x7A76;&#x4E86;&#x4E0B; mongoose &#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x53D1;&#x73B0;&#x5B83;&#x5728; document &#x7684;&#x539F;&#x578B;&#x91CC;&#x9762;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A; <a href="https://github.com/Automattic/mongoose/blob/8be119d1e240bd1004972d10da3f110a6f899b59/lib/document.js#L1915" target="_blank" rel="external">inspect</a> &#x65B9;&#x6CD5;&#x3002; </p>
<p>&#x6211;&#x548C;&#x9038;&#x5DDD;&#x4E00;&#x8D77;&#x8FFD;&#x6EAF;&#x4E86;&#x4E00;&#x4E0B; <a href="https://github.com/joyent/node/blob/master/lib/console.js#L57" target="_blank" rel="external">console.log</a> &#x7684;&#x5728; node.js &#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x6574;&#x4E2A;&#x7684;&#x6D41;&#x7A0B;&#x5C31;&#x662F; </p>
<ul>
<li>console.log &#x8C03;&#x7528;&#x4E86; util.format</li>
<li>&#x7136;&#x540E;&#x8FDB;&#x800C;&#x8C03;&#x7528;&#x4E86; util.inspect</li>
<li>util.inspect &#x53C8;&#x8C03;&#x7528;&#x4E86; formatValue</li>
<li>&#x7136;&#x540E;&#x662F; formatValue &#x8C03;&#x7528;&#x4E86;&#x4F20;&#x5165; console.log &#x7684;&#x53C2;&#x6570;&#x7684; inspect &#x65B9;&#x6CD5;</li>
</ul>
<h4 id="&#x6240;&#x4EE5;&#xFF0C;console-log_&#x7684;&#x4F20;&#x5165;&#x53C2;&#x6570;&#x7684;_inspect_&#x65B9;&#x6CD5;&#x4F1A;&#x76F4;&#x63A5;&#x5F71;&#x54CD;_console-log_&#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;&#x3002;">&#x6240;&#x4EE5;&#xFF0C;console.log &#x7684;&#x4F20;&#x5165;&#x53C2;&#x6570;&#x7684; inspect &#x65B9;&#x6CD5;&#x4F1A;&#x76F4;&#x63A5;&#x5F71;&#x54CD; console.log &#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;&#x3002;</h4><pre><code><span class="keyword">class</span> Display
  <span class="function"><span class="keyword">constructor</span>:</span> -&amp;gt;

  inspect: -&amp;gt;
    return &amp;apos;hello&amp;apos;

console.log <span class="keyword">new</span> Display()  # &amp;#x4F1A;&amp;#x663E;&amp;#x793A; hello
</code></pre><p>&#x90A3;&#x6211;&#x4EEC;&#x518D;&#x7ED9;&#x6211;&#x4EEC;&#x7684; Model &#x52A0;&#x4E0A; inspect &#x65B9;&#x6CD5;&#xFF0C;&#x91CC;&#x9762;&#x8FD4;&#x56DE; record &#x7684;&#x6570;&#x636E;&#x5373;&#x53EF;&#x3002; </p>
<p>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A; <strong>&#x53EF;&#x5185;&#x90E8;&#x4FEE;&#x6539;&#x4F46;&#x4E0D;&#x80FD;&#x88AB;&#x5916;&#x90E8;&#x4FEE;&#x6539;</strong> &#x7684;&#x5BF9;&#x8C61;&#x4E86;&#x3002; </p>
<p>&#x5B8C;&#x6574;&#x7684;&#x793A;&#x4F8B;&#x53C2;&#x89C1; <a href="https://github.com/faceair/cado/blob/master/cado.coffee" target="_blank" rel="external">cado</a> &#x3002; </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9ffb13b/" title="Python,Javascript(NodeJS),PHP之间的AES加密解密 -" itemprop="url">Python,Javascript(NodeJS),PHP之间的AES加密解密 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:23.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x573A;&#x666F;&#x662F;&#x73B0;&#x6709;&#x7684;&#x51E0;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x5FAE;&#x4FE1;&#x4F01;&#x4E1A;&#x53F7;&#x662F;PHP&#xFF0C;&#x5E7F;&#x544A;&#x6570;&#x636E;&#x5904;&#x7406;&#x5E73;&#x53F0;&#x662F;Python&#xFF0C;&#x5176;&#x4E2D;&#x7684;Web API&#x90E8;&#x5206;&#x662F;NodeJS&#x3002;&#x73B0;&#x5728;&#x8FD9;&#x51E0;&#x4E2A;&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#x8981;&#x4F20;&#x9012;&#x6570;&#x636E;&#xFF0C;&#x57FA;&#x4E8E;&#x5B89;&#x5168;&#x8003;&#x8651;&#x5148;&#x7528;AES&#x52A0;&#x5BC6;&#xFF0C;&#x63A5;&#x6536;&#x540E;&#x505A;&#x89E3;&#x5BC6;&#x5904;&#x7406;&#x3002;&#x672C;&#x6765;&#x9884;&#x60F3;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x5E93;&#x90FD;&#x662F;&#x73B0;&#x6210;&#x7684;&#xFF0C;&#x4F46;&#x53D1;&#x73B0;&#x7F51;&#x4E0A;&#x7684;&#x4EE3;&#x7801;&#x8981;&#x4E48;&#x662F;&#x4E0D;&#x5168;&#xFF0C;&#x8981;&#x4E48;&#x662F;padding&#x5904;&#x7406;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x6240;&#x4EE5;&#x6700;&#x540E;&#x8FD8;&#x662F;&#x81EA;&#x5DF1;&#x770B;&#x6587;&#x6863;&#x6765;&#x5199;&#x7684;&#xFF0C;&#x5206;&#x4EAB;&#x5176;&#x4E2D;&#x7684;&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#xFF0C;&#x6709;&#x7C7B;&#x4F3C;&#x9700;&#x6C42;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x62FF;&#x53BB;&#x7528;&#x3002;</p>
<h2 id="AES">AES</h2><p>AES&#x7684;&#x4ECB;&#x7ECD;&#x53EF;&#x4EE5;&#x53C2;&#x770B;Wikipedia: <a href="https://zh.wikipedia.org/wiki/%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86" target="_blank" rel="external">&#x9AD8;&#x7EA7;&#x52A0;&#x5BC6;&#x6807;&#x51C6;</a> &#x3002;&#x8FD9;&#x79CD;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x9700;&#x8981;&#x6307;&#x5B9A;Key(&#x5BC6;&#x94A5;)&#x548C;IV(&#x521D;&#x59CB;&#x5316;&#x5411;&#x91CF;)&#xFF0C;&#x89E3;&#x5BC6;&#x65F6;&#x4F7F;&#x7528;&#x540C;&#x6837;&#x7684;Key&#x548C;IV&#x8FDB;&#x884C;&#x89E3;&#x5BC6;&#x3002;&#x5176;&#x6B21;&#x9700;&#x8981;padding(&#x586B;&#x5145;&#x5B57;&#x7B26;)&#xFF0C;&#x7F51;&#x4E0A;&#x4E00;&#x4E9B;&#x4EE3;&#x7801;&#x662F;&#x7528;&#x7A7A;&#x683C;&#x6216;&#x8005;&#x5927;&#x62EC;&#x53F7;&#x505A;padding&#xFF0C;&#x89E3;&#x5BC6;&#x540E;&#x518D;&#x7528;rstrip/rtrim/replace&#x6E05;&#x6389;&#xFF0C;&#x4F46;&#x7528;&#x6807;&#x51C6;&#x7684; <a href="http://en.wikipedia.org/wiki/Padding_%28cryptography%29#PKCS7" target="_blank" rel="external">PKCS</a> &#x4F1A;&#x66F4;&#x597D;&#x3002; </p>
<ul>
<li>&#x4F7F;&#x7528;256&#x4F4D;&#x7684;AES&#xFF0C;Python&#x4F1A;&#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;Key&#x957F;&#x5EA6;&#x81EA;&#x52A8;&#x9009;&#x62E9;&#xFF0C;&#x5728;PHP&#x4E2D;&#x662F;MCRYPT_RIJNDAEL_128&#x3002;</li>
<li>&#x4F7F;&#x7528;AES&#x7684;CBC&#x6A21;&#x5F0F;&#xFF0C;&#x56E0;&#x4E3A;ECB&#x6A21;&#x5F0F;&#x4E0D;&#x4F1A;&#xFFFD;&#xFFFD;&#xFFFD;&#x7528;IV&#xFF0C;&#x52A0;&#x5BC6;&#x5F3A;&#x5EA6;&#x4E0D;&#x5982;CBC&#x3002;</li>
<li>&#x4F7F;&#x7528;PKCS&#x7684;&#x65B9;&#x5F0F;&#x6765;padding&#xFF0C;&#x56E0;&#x4E3A;NodeJS&#x7684;&#x5E93;&#x5728;auto_padding&#x7684;&#x72B6;&#x6001;&#x4E0B;&#x4F7F;&#x7528;&#x7684;&#x4E5F;&#x662F;PKCS&#x3002;Key&#x7528;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA(32&#x4E2A;&#xFF0C;256&#x4F4D;)&#xFF0C;IV&#x7528;AAAAAAAAAAAAAAAA(16&#x4E2A;&#xFF0C;128&#x4F4D;)&#x3002;</li>
<li>Python&#x4F7F;&#x7528; <a href="http://www.pycrypto.org/" target="_blank" rel="external">pycrypto</a> (pip install pycrypto)&#xFF0C;NodeJS&#x4F7F;&#x7528; <a href="https://github.com/Gozala/crypto" target="_blank" rel="external">crypto</a> (npm install crypto)&#xFF0C;PHP&#x9700;&#x8981;mcrypt&#x6A21;&#x5757;&#x3002;</li>
</ul>
<h2 id="Python">Python</h2><p> Python</p>
<pre><code><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES
<span class="keyword">import</span> base64


<span class="function"><span class="keyword">def</span> <span class="title">_pad</span><span class="params">(s)</span>:</span> <span class="keyword">return</span> s + (AES.block_size - len(s) % AES.block_size) * chr(AES.block_size - len(s) % AES.block_size) 
<span class="function"><span class="keyword">def</span> <span class="title">_cipher</span><span class="params">()</span>:</span>
    key = &amp;apos;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&amp;apos;
    iv = &amp;apos;AAAAAAAAAAAAAAAA&amp;apos;
    <span class="keyword">return</span> AES.new(key=key, mode=AES.MODE_CBC, IV=iv)

<span class="function"><span class="keyword">def</span> <span class="title">encrypt_token</span><span class="params">(data)</span>:</span>
    <span class="keyword">return</span> _cipher().encrypt(_pad(data))

<span class="function"><span class="keyword">def</span> <span class="title">decrypt_token</span><span class="params">(data)</span>:</span>
    <span class="keyword">return</span> _cipher().decrypt(data)

<span class="keyword">if</span> __name__ == &amp;apos;__main__&amp;apos;:
    print(&amp;apos;Python encrypt: &amp;apos; + base64.b64encode(encrypt_token(&amp;apos;dmyz.org&amp;apos;)))
    print(&amp;apos;Python decrypt: &amp;apos; + decrypt_token(base64.b64decode(&amp;apos;FSfhJ/gk3iEJOPVLyFVc2Q==&amp;apos;)))
</code></pre><h2 id="Javascript(NodeJS)">Javascript(NodeJS)</h2><p> JavaScript</p>
<pre><code>var crypto = require<span class="params">(&amp;apos;crypto&amp;apos;)</span>,
  key = &amp;apos;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&amp;apos;,
  iv = &amp;apos;AAAAAAAAAAAAAAAA&amp;apos;;

<span class="function"><span class="keyword">function</span> <span class="title">encrypt_token</span><span class="params">(data)</span> {</span>
  var cipher = crypto.createCipheriv<span class="params">(&amp;apos;aes-<span class="number">256</span>-cbc&amp;apos;, key, iv)</span>;
  cipher.update<span class="params">(data, &amp;apos;binary&amp;apos;, &amp;apos;base64&amp;apos;)</span>;
  return cipher.final<span class="params">(&amp;apos;base64&amp;apos;)</span>;
}

<span class="function"><span class="keyword">function</span> <span class="title">decrypt_token</span><span class="params">(data)</span> {</span>
  var decipher = crypto.createDecipheriv<span class="params">(&amp;apos;aes-<span class="number">256</span>-cbc&amp;apos;, key, iv)</span>;
  decipher.update<span class="params">(data, &amp;apos;base64&amp;apos;, &amp;apos;binary&amp;apos;)</span>;
  return decipher.final<span class="params">(&amp;apos;binary&amp;apos;)</span>;
}

console.<span class="built_in">log</span><span class="params">(&amp;apos;NodeJS encrypt: &amp;apos;, encrypt_token<span class="params">(&amp;apos;dmyz.org&amp;apos;)</span>)</span>;
console.<span class="built_in">log</span><span class="params">(&amp;apos;NodeJS decrypt: &amp;apos;, decrypt_token<span class="params">(&amp;apos;FSfhJ/gk3iEJOPVLyFVc2Q==&amp;apos;)</span>)</span>;
</code></pre><h2 id="PHP">PHP</h2><p> PHP</p>
<pre><code>&amp;lt;?php

<span class="class"><span class="keyword">class</span> <span class="title">AES</span>
</span>{
    <span class="keyword">var</span> <span class="variable">$key</span> = &amp;apos;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&amp;apos;;

    <span class="keyword">var</span> <span class="variable">$iv</span> = &amp;apos;AAAAAAAAAAAAAAAA&amp;apos;;

    <span class="function"><span class="keyword">function</span> <span class="title">_cypher</span><span class="params">()</span>
    </span>{
        <span class="keyword">return</span> mcrypt_module_open(MCRYPT_RIJNDAEL_128, &amp;apos;&amp;apos;, MCRYPT_MODE_CBC, &amp;apos;&amp;apos;);
    }

    <span class="function"><span class="keyword">function</span> <span class="title">encryptToken</span><span class="params">(<span class="variable">$data</span>)</span>
    </span>{
          <span class="variable">$padding</span> = <span class="number">16</span> - (strlen(<span class="variable">$data</span>) % <span class="number">16</span>);
          <span class="variable">$data</span> .= str_repeat(chr(<span class="variable">$padding</span>), <span class="variable">$padding</span>);
          <span class="keyword">return</span> mcrypt_encrypt(MCRYPT_RIJNDAEL_128, <span class="variable">$this</span>-&amp;gt;key, <span class="variable">$data</span>, MCRYPT_MODE_CBC, <span class="variable">$this</span>-&amp;gt;iv);
    }

    <span class="function"><span class="keyword">function</span> <span class="title">decryptToken</span><span class="params">(<span class="variable">$data</span>)</span>
    </span>{
        <span class="variable">$data</span> = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, <span class="variable">$this</span>-&amp;gt;key, base64_decode(<span class="variable">$data</span>), MCRYPT_MODE_CBC, <span class="variable">$this</span>-&amp;gt;iv);
        <span class="variable">$padding</span> = ord(<span class="variable">$data</span>[strlen(<span class="variable">$data</span>) - <span class="number">1</span>]);
        <span class="keyword">return</span> substr(<span class="variable">$data</span>, <span class="number">0</span>, -<span class="variable">$padding</span>);
    }

}

<span class="keyword">if</span> (php_sapi_name() === &amp;apos;cli&amp;apos;)
{
    <span class="variable">$aes</span> = <span class="keyword">new</span> AES();
    <span class="keyword">echo</span> (&amp;apos;PHP encrypt: &amp;apos;.base64_encode(<span class="variable">$aes</span>-&amp;gt;encryptToken(&amp;apos;dmyz.org&amp;apos;))).&amp;quot;\n&amp;quot;;
    <span class="keyword">echo</span> (&amp;apos;PHP decrypt: &amp;apos;.<span class="variable">$aes</span>-&amp;gt;decryptToken(&amp;apos;FSfhJ/gk3iEJOPVLyFVc2Q==&amp;apos;)).&amp;quot;\n&amp;quot;;
}
</code></pre><h2 id="Testing">Testing</h2><p>&#x73AF;&#x5883;&#xFF1A; Ubuntu 14.04.2, Python 2.7.6, NodeJS v0.10.25, PHP 5.5.9</p>
<p>$ python test.py &amp;&amp; nodejs test.js &amp;&amp; php test.php</p>
<p>Python encrypt: FSfhJ/gk3iEJOPVLyFVc2Q==</p>
<p>Python decrypt: dmyz.org</p>
<p>Nodejs encrypt: FSfhJ/gk3iEJOPVLyFVc2Q==</p>
<p>Nodejs decrypt: dmyz.org</p>
<p>PHP encrypt: FSfhJ/gk3iEJOPVLyFVc2Q==</p>
<p>PHP decrypt: dmyz.org</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Node-js/">Node.js</a><a href="/tags/PHP/">PHP</a><a href="/tags/加密解密/">加密解密</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/22/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><a class="page-number" href="/page/25/">25</a><span class="space">&hellip;</span><a class="page-number" href="/page/48/">48</a><a class="extend next" rel="next" href="/page/24/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/transcribe/" title="transcribe">transcribe<sup>472</sup></a></li>
		  
		
		  
			<li><a href="/categories/日志/" title="日志">日志<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/ZooKeeper/" title="ZooKeeper">ZooKeeper<sup>73</sup></a></li>
			
		
			
				<li><a href="/tags/JVM/" title="JVM">JVM<sup>65</sup></a></li>
			
		
			
				<li><a href="/tags/Memcached/" title="Memcached">Memcached<sup>61</sup></a></li>
			
		
			
				<li><a href="/tags/Node-js/" title="Node.js">Node.js<sup>52</sup></a></li>
			
		
			
				<li><a href="/tags/Spring-MVC/" title="Spring MVC">Spring MVC<sup>30</sup></a></li>
			
		
			
				<li><a href="/tags/Nosql/" title="Nosql">Nosql<sup>25</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C++">C++<sup>24</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>22</sup></a></li>
			
		
			
				<li><a href="/tags/数据库/" title="数据库">数据库<sup>22</sup></a></li>
			
		
			
				<li><a href="/tags/Gulp/" title="Gulp">Gulp<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/开源/" title="开源">开源<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/Dubbo/" title="Dubbo">Dubbo<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/源码分析/" title="源码分析">源码分析<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Net/" title=".Net">.Net<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Mac-OS-X/" title="Mac OS X">Mac OS X<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/io-js/" title="io.js">io.js<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/程序员/" title="程序员">程序员<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Ubuntu/" title="Ubuntu">Ubuntu<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Kafka/" title="Kafka">Kafka<sup>7</sup></a></li>
			
		
		</ul>
</div>


<div class="weiboshow">
	<p class="asidetitle">新浪微博</p>
	<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1289635200&verifier=e6bef170&dpc=1"></iframe>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/512316815" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/sblig" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/sblig" target="_blank" title="fblog">fblog</a> © 2015
		
		<a href="/about" target="_blank" title="edwin">edwin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
