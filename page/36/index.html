
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu-site-verification" content="1XvvwQ7Apt" />
  
    <title>dianzi blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="edwin">
    

    
    <meta name="description" content="edwin jin dianzi blog">
<meta property="og:type" content="website">
<meta property="og:title" content="dianzi blog">
<meta property="og:url" content="http://taojinke.github.io/page/36/index.html">
<meta property="og:site_name" content="dianzi blog">
<meta property="og:description" content="edwin jin dianzi blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dianzi blog">
<meta name="twitter:description" content="edwin jin dianzi blog">

    
    <link rel="alternative" href="/atom.xml" title="dianzi blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?345f95aea4ada2935d6f9ea4177b51ab";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="dianzi blog" title="dianzi blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="dianzi blog">dianzi blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
						<a href="/music/index.html" target="_blank">Music</a>
					</li>
					<li>
 					
						<form class="search" action="http://taojinke.github.io/" target="_blank">
							<label>Search</label>
						<input name="s" type="hidden" value= null ><input type="text" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9af0a42/" title="gulp-clean----gulp系列（五) -" itemprop="url">gulp-clean----gulp系列（五) -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:15.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x524D;&#x9762;&#x8BF4;&#x8FC7;&#xFF0C;&#x5F53;css&#xFF0C;img&#xFF0C;js&#x51FA;&#x73B0;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x867D;&#x7136;watch&#x4F1A;&#x76D1;&#x542C;&#xFF0C;&#x4F46;&#x662F;&#x5E76;&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x76F8;&#x5E94;&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x73B0;&#x5728;&#x5B9E;&#x73B0;clean&#x4EFB;&#x52A1;&#xFF0C;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x524D;&#x5148;&#x5220;&#x9664;&#x4E00;&#x6B21;build&#x76EE;&#x5F55;&#x3002;</p>
<p>&#x5148;&#x914D;&#x7F6E;JS&#x4EFB;&#x52A1;&#xFF0C;&#x8BBE;&#x7F6E;&#x5220;&#x9664;&#x76EE;&#x5F55;&#x3002;</p>
<p>&#x5728;&#x7CFB;&#x5217;&#xFF08;&#x56DB;&#xFF09;&#x4EE3;&#x7801;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x6269;&#x5C55;&#x3002;</p>
<h4 id="1-&#x5B89;&#x88C5;gulp-clean:">1.&#x5B89;&#x88C5;gulp-clean:</h4><pre><code>npm install --<span class="built_in">save</span>-<span class="built_in">dev</span> gulp-clean
</code></pre><h4 id="2-&#x627E;&#x5230;gulp-&gt;config-js&#xFF0C;&#x914D;&#x7F6E;clean:">2.&#x627E;&#x5230;gulp-&gt;config.js&#xFF0C;&#x914D;&#x7F6E;clean:</h4><pre><code>/* gulp&amp;<span class="symbol">#x547D</span>;&amp;<span class="symbol">#x4EE4</span>;&amp;<span class="symbol">#x4F1A</span>;&amp;<span class="symbol">#x7531</span>;gulpfile.js&amp;<span class="symbol">#x8FD0</span>;&amp;<span class="symbol">#x884C</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x6240</span>;&amp;<span class="symbol">#x4EE5</span>;src&amp;<span class="symbol">#x548C</span>;build&amp;<span class="symbol">#x6587</span>;&amp;<span class="symbol">#x4EF6</span>;&amp;<span class="symbol">#x5939</span>;&amp;<span class="symbol">#x8DEF</span>;&amp;<span class="symbol">#x5F84</span>;&amp;<span class="symbol">#x5982</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#xFF08</span>;&amp;<span class="symbol">#x6839</span>;&amp;<span class="symbol">#x76EE</span>;&amp;<span class="symbol">#x5F55</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#xFF09</span>; */
var src = &amp;apos;./src&amp;apos;;     
var dest = &amp;apos;./build&amp;apos;;  
module.exports = {
    <span class="method">less:</span> {
        <span class="method">all:</span> src + &amp;quot;/less/**/*.less&amp;quot;, //&amp;<span class="symbol">#x6240</span>;&amp;<span class="symbol">#x6709</span>;less
        <span class="method">src:</span> src + &amp;quot;/less/*.less&amp;quot;,      //&amp;<span class="symbol">#x9700</span>;&amp;<span class="symbol">#x8981</span>;&amp;<span class="symbol">#x7F16</span>;&amp;<span class="symbol">#x8BD1</span>;&amp;<span class="symbol">#x7684</span>;less
        <span class="method">dest:</span> dest + &amp;quot;/css&amp;quot;,          //&amp;<span class="symbol">#x8F93</span>;&amp;<span class="symbol">#x51FA</span>;&amp;<span class="symbol">#x76EE</span>;&amp;<span class="symbol">#x5F55</span>;
        <span class="method">settings:</span> {                      //&amp;<span class="symbol">#x7F16</span>;&amp;<span class="symbol">#x8BD1</span>;less&amp;<span class="symbol">#x8FC7</span>;&amp;<span class="symbol">#x7A0B</span>;&amp;<span class="symbol">#x9700</span>;&amp;<span class="symbol">#x8981</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x914D</span>;&amp;<span class="symbol">#x7F6E</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x53EF</span>;&amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x7A7A</span>;

        }
    },
    <span class="method">images:</span> {
        <span class="method">src:</span> src + &amp;quot;/img/**/*&amp;quot;,      
        <span class="method">dest:</span> dest + &amp;quot;/img&amp;quot;
    },
    <span class="method">js:</span> {
        <span class="method">src:</span> src + &amp;quot;/js/**/*&amp;quot;,
        <span class="method">dest:</span> dest + &amp;quot;/js&amp;quot;
    },
    <span class="method">clean:</span>{
        <span class="method">src:</span> dest
    }
}
</code></pre><h4 id="3-gulp-&gt;tasks&#x91CC;&#x65B0;&#x5EFA;clean&#x4EFB;&#x52A1;:">3.gulp-&gt;tasks&#x91CC;&#x65B0;&#x5EFA;clean&#x4EFB;&#x52A1;:</h4><pre><code><span class="keyword">var</span> gulp = <span class="built_in">require</span>(&amp;apos;gulp&amp;apos;);
<span class="keyword">var</span> clean = <span class="built_in">require</span>(&amp;apos;gulp-clean&amp;apos;);
<span class="keyword">var</span> config = <span class="built_in">require</span>(&amp;apos;../config&amp;apos;).clean;

gulp.task(&amp;quot;clean&amp;quot;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
    <span class="keyword">return</span> gulp.src(config.src)
        .pipe(clean());
})
</code></pre><h4 id="4-&#x540C;&#x65F6;&#x5728;default&#x4EFB;&#x52A1;&#x5E8F;&#x5217;&#x91CC;&#x6DFB;&#x52A0;clean&#x4EFB;&#x52A1;&#xFF1A;">4.&#x540C;&#x65F6;&#x5728;default&#x4EFB;&#x52A1;&#x5E8F;&#x5217;&#x91CC;&#x6DFB;&#x52A0;clean&#x4EFB;&#x52A1;&#xFF1A;</h4><p>&#x6CE8;&#x610F;&#xFF01;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x662F;&#x9519;&#x8BEF;&#x7684;&#xFF1A;</p>
<pre><code>//&amp;<span class="symbol">#x56E0</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x8FD9</span>;&amp;<span class="symbol">#x6837</span>;&amp;<span class="symbol">#x5199</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x8FD9</span>;&amp;<span class="symbol">#x4E9B</span>;&amp;<span class="symbol">#x4EFB</span>;&amp;<span class="symbol">#x52A1</span>;&amp;<span class="symbol">#x662F</span>;&amp;<span class="symbol">#x540C</span>;&amp;<span class="symbol">#x6B65</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x5B8C</span>;&amp;<span class="symbol">#x5168</span>;&amp;<span class="symbol">#x53EF</span>;&amp;<span class="symbol">#x80FD</span>;&amp;<span class="symbol">#x51FA</span>;&amp;<span class="symbol">#x73B0</span>;&amp;<span class="symbol">#x8FB9</span>;&amp;<span class="symbol">#x7F16</span>;&amp;<span class="symbol">#x8BD1</span>;&amp;<span class="symbol">#x8FB9</span>;&amp;<span class="symbol">#x5220</span>;&amp;<span class="symbol">#x9664</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x60C5</span>;&amp;<span class="symbol">#x51B5</span>;

gulp.task(&amp;apos;default&amp;apos;, [&amp;apos;clean&amp;apos;, &amp;apos;less&amp;apos;, &amp;apos;images&amp;apos;, &amp;apos;js&amp;apos;, &amp;apos;watch&amp;apos;]);
</code></pre><p>&#x6240;&#x4EE5;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x5F02;&#x6B65;&#xFF0C;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x52A0;&#x4E2A;&#x56DE;&#x8C03;:&#xA0;</p>
<pre><code><span class="keyword">var</span> gulp = <span class="built_in">require</span>(&amp;apos;gulp&amp;apos;);

gulp.task(&amp;apos;<span class="keyword">default</span>&amp;apos;, [&amp;apos;clean&amp;apos;], <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
    gulp.start(&amp;apos;less&amp;apos;, &amp;apos;images&amp;apos;, &amp;apos;js&amp;apos;, &amp;apos;watch&amp;apos;);
});
</code></pre><h4 id="5-&#x4E5F;&#x5728;deploy&#x4EFB;&#x52A1;&#x5E8F;&#x5217;&#x91CC;&#x6DFB;&#x52A0;clean&#xFF1A;">5.&#x4E5F;&#x5728;deploy&#x4EFB;&#x52A1;&#x5E8F;&#x5217;&#x91CC;&#x6DFB;&#x52A0;clean&#xFF1A;</h4><pre><code><span class="keyword">var</span> gulp = <span class="built_in">require</span>(&amp;apos;gulp&amp;apos;);

gulp.task(&amp;apos;deploy&amp;apos;, [&amp;apos;clean&amp;apos;], <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
    gulp.start(&amp;apos;less&amp;apos;, &amp;apos;imagemin&amp;apos;, &amp;apos;uglify&amp;apos;);
});
</code></pre><p>&#x6B64;&#x65F6;&#x8FD0;&#x884C;gulp&#xFF0C;build&#x5C31;&#x4F1A;&#x5148;&#x5220;&#x9664;&#x4E00;&#x6B21;&#x3002;</p>
<p>&#x8FD8;&#x662F;&#x90A3;&#x53E5;&#x8BDD;&#x591A;&#x770B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x3002;</p>
<p><a href="https://github.com/zimv/gulpStart" target="_blank" rel="external">&gt;&gt;&gt;&#xA0;github&#xA0;&#x5730;&#x5740;&#xFF0C;&#x8BF7;&#x9009;&#x62E9; &#xA0; <strong>clean&#xA0;</strong> &#xA0;&#x5206;&#x652F;&lt;&lt;&lt;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Gulp/">Gulp</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9afc63f/" title="【每日一博】Node.js 模块加载机制 Require -" itemprop="url">【每日一博】Node.js 模块加载机制 Require -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:15.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="&#x9898;&#x5916;&#x8BDD;">&#x9898;&#x5916;&#x8BDD;</h3><p>&#x9996;&#x5148;&#xFF0C;&#x89E3;&#x4E00;&#x4E0B;&#x535A;&#x5BA2;&#x6807;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;&#x7B2C;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x8BC4;&#x8BBA;&#x4E2D;&#xFF0C;&#x6709;&#x4EBA;&#x8D28;&#x7591;&#x79BB;&#x9898;&#x5F88;&#x8FDC;&#xFF0C;&#x8BF4;&#x4E86;&#x534A;&#x5929;&#x548C;Angular Material&#x6CA1;&#x6709;&#x534A;&#x6BDB;&#x5173;&#x7CFB;&#x3002;</p>
<ol>
<li>&#x6211;&#x7684;&#x91CD;&#x5FC3;&#x5728;&#x540E;&#x534A;&#x53E5;&#x300A;&#x4E32;&#x4E32;&#x5B66;&#x5BA2;&#x6237;&#x7AEF;&#x5F00;&#x53D1;&#x300B;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x8FD9;&#x4E00;&#x5E74;&#x4EE5;&#x6765;&#xFF0C;&#x6211;&#x81EA;&#x5DF1;&#x7684;&#x7EA0;&#x7ED3;&#x548C;&#x6478;&#x7D22;&#x7684;&#x4E00;&#x4E2A;&#x603B;&#x7ED3;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5F00;&#x53D1;&#x81EA;&#x4ECE;NodeJS&#x7684;&#x51FA;&#x73B0;&#x4EE5;&#x540E;&#xFF0C;&#x5DF2;&#x7ECF;&#x4EA7;&#x751F;&#x4E86;&#x5929;&#x7FFB;&#x5730;&#x8986;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x4E0D;&#x518D;&#x662F;&#x5728;html&#x4E2D;&#x5F15;&#x7528;js&#x6587;&#x4EF6;, &#x7528;alert&#x8C03;&#x8BD5;&#x3002;&#x53EF;&#x4EE5;&#x8BF4;NodeJS&#x8BA9;javascript&#x6210;&#x4E00;&#x4E2A;&#x5B8C;&#x5907;&#x7684;&#x5F00;&#x53D1;&#x8BED;&#x8A00;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B8C;&#x5907;&#x5305;&#x62EC;&#x5B83;&#x7684;&#x529F;&#x80FD;&#x548C;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x3002;&#x6240;&#x8C13;&#x7684;&#x300A;&#x4E32;&#x4E32;&#x5B66;&#x5BA2;&#x6237;&#x7AEF;&#x5F00;&#x53D1;&#x300B;&#x5C31;&#x662F;&#x5C55;&#x793A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;IDE&#x90A3;&#x4E48;&#x7B80;&#x5355;&#xFF08;&#x73B0;&#x5728;&#x53EF;&#x7528;&#x7684;IDE&#x6709;WebStorm, Sublime &#x751A;&#x81F3;Visual Studio &#xFF0D; &#x662F;&#x7684;VS2015&#x5DF2;&#x7ECF;&#x80FD;&#x975E;&#x5E38;&#x597D;&#x7684;&#x652F;&#x6301;NodeJS&#x9879;&#x76EE;&#x5F00;&#x53D1;&#xFF09;&#x3002;&#x5728;&#x6211;&#x4E4B;&#x540E;&#x7684;&#x7CFB;&#x5217;&#x4E2D;&#xFF0C;&#x4F1A;&#x6162;&#x6162;&#x628A;&#x8FD9;&#x4E9B;&#x5C55;&#x73B0;&#x51FA;&#x6765;&#x3002;</li>
<li>&#x4E3A;&#x4EC0;&#x4E48;Angular Material&#x3002;&#x56E0;&#x4E3A;&#x6211;&#x786E;&#x786E;&#x5B9E;&#x5B9E;&#x5728;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x6700;&#x65B0;&#x7684;&#x9879;&#x76EE;&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x5168;&#x90E8;&#x6539;&#x7528;&#x5B83;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x73B0;&#x5728;&#x786E;&#x5B9E;&#x6709;&#x5F88;&#x591A;&#x5F00;&#x6E90;&#x7684;js&#x9879;&#x76EE;&#xFF0C;&#x4F46;&#x662F;&#x5927;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x6846;&#x67B6;&#x9879;&#x76EE;&#xFF0C;&#x5982;Angular Material&#x672C;&#x8EAB;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x7EC8;&#x7AEF;&#x5BA2;&#x6237;&#x9879;&#x76EE;(&#x5373;&#x5B9E;&#x9645;&#x7684;&#x7F51;&#x7AD9;&#x9879;&#x76EE;)&#x3002;&#x800C;&#x6700;&#x8FD1;&#x975E;&#x5E38;&#x51D1;&#x5DE7;&#x53D1;&#x73B0;Angular Material&#x6E90;&#x4EE3;&#x7801;&#x4E0D;&#x4EC5;&#x6709;&#x6846;&#x67B6;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x7F51;&#x7AD9;&#x4EE3;&#x7801;&#x3002;&#x8FD9;&#x4E2A;&#x7F51;&#x7AD9;&#x4EE3;&#x7801;&#x672C;&#x8EAB;&#xFF0C;&#x5373;&#x5C55;&#x73B0;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x5F00;&#x53D1;&#x7684;&#x5168;&#x90E8;&#x5185;&#x5BB9;&#xFF0C;&#x4E5F;&#x5305;&#x542B;&#x4E86;&#x5BF9;&#x6846;&#x67B6;&#x7684;&#x6DF1;&#x5EA6;&#x4F7F;&#x7528;&#x3002;&#x6240;&#x8C13;&#xFF0C;&#x4E00;&#x7BAD;&#x53CC;&#x96D5;&#x975E;&#x5E38;&#x5B8C;&#x7F8E;&#xFF0C;&#x8FD9;&#x624D;&#x4FC3;&#x4F7F;&#x6211;&#x542F;&#x52A8;&#x5FF5;&#x5934;&#xFF0C;&#x5F00;&#x59CB;&#x5199;&#x8FD9;&#x4E2A;&#x7CFB;&#x5217;&#x3002;</li>
<li>&#x5982;&#x4F55;&#x5B66;&#x4E60;&#xFF1F;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6781;&#x6D45;&#x53C8;&#x6781;&#x6DF1;&#x7684;&#x8BDD;&#x9898;&#x3002;&#x73B0;&#x5728;&#x4E0D;&#x4EC5;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x8F6F;&#x4EF6;&#x7684;&#x9886;&#x57DF;&#x90FD;&#x6709;&#x592A;&#x591A;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x6211;&#x524D;&#x51E0;&#x5929;&#x8FD8;&#x548C;&#x670B;&#x53CB;&#x804A;&#x5230;&#xFF0C;&#x770B;&#x770B;github&#x5C31;&#x80FD;&#x611F;&#x89C9;&#x5230;&#xFF0C;&#x592A;&#x591A;&#x7684;js&#x6846;&#x67B6;&#xFF08;&#x8033;&#x719F;&#x80FD;&#x8BE6;&#x7684;&#x5C31;&#x6709;jQuery, underscore, AngularJS, ReactJS&#xFF0C;Grunt, Gulp &#x2026;), &#x6839;&#x672C;&#x5C31;&#x6CA1;&#x6709;&#x65F6;&#x95F4;&#x548C;&#x7CBE;&#x529B;&#x4E00;&#x4E00;&#x638C;&#x63E1;&#x3002;&#x6211;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E1C;&#x897F;&#x72B9;&#x5982;&#x4E00;&#x7C92;&#x4E00;&#x7C92;&#x6563;&#x843D;&#x7684;&#x73E0;&#x5B50;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x4E00;&#x6839;&#x7EBF;&#x628A;&#x5B83;&#x4EEC;&#x4E32;&#x8D77;&#x6765;&#xFF0C;&#x5C31;&#x597D;&#x628A;&#x63E1;&#x591A;&#x4E86;&#x3002; &#x8FD9;&#x5C31;&#x662F;&#x6211;&#x6587;&#x7AE0;&#x6807;&#x9898;&#x7684;&#x771F;&#x6B63;&#x542B;&#x4E49;&#xFF1A;&#x6211;&#x8981;&#x7528;Angular Material&#x8FD9;&#x6839;&#x7EBF;&#x628A;&#x5BA2;&#x6237;&#x7AEF;&#x5F00;&#x53D1;&#x7684;&#x5404;&#x4E2A;&#x65B9;&#x9762;&#x4E32;&#x8D77;&#x6765;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x4E0D;&#x90A3;&#x4E48;&#x6563;&#xFF0C;&#x4E0D;&#x90A3;&#x4E48;&#x7D2F;&#x3002;</li>
<li>&#x5982;&#x679C;&#x6709;&#x4EBA;&#x53EA;&#x5BF9;ngMaterial&#x672C;&#x8EAB;&#x611F;&#x5174;&#x8DA3;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x6211;&#x5176;&#x4ED6;&#x7684;&#x6587;&#x7AE0;&#xFF1A; <a href="http://my.oschina.net/wonner/blog/401605" target="_blank" rel="external">&#x624B;&#x52BF;&#x6A21;&#x578B;&#x548C;Angular Material&#x7684;&#x5B9E;&#x73B0;</a><a href="http://www.cnblogs.com/Wonner/p/Material_Design_And_AngularJS_Implementation.html" target="_blank" rel="external">&#x62DF;&#x7269;&#x8BBE;&#x8BA1;&#x548C;Angular&#x7684;&#x5B9E;&#x73B0; - Material Design</a> &#x548C;&#x6DF1;&#x5165;&#x63A2;&#x7D22;AngularJS&#x3002;</li>
</ol>
<h3 id="require()">require()</h3><p>&#x4E0D;&#x8981;&#x628A;&#x8FD9;&#x91CC;&#x7684;Require&#xFF08;&#xFF09;&#x548C;RequireJS&#x6DF7;&#x4E3A;&#x4E00;&#x8C08;&#x3002;&#x4E0D;&#x8FC7;&#x6709;&#x610F;&#x601D;&#x7684;&#x662F;&#xFF0C;Typescript&#x7684;&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#xFF0C;&#x751A;&#x81F3;&#x540C;&#x65F6;&#x652F;&#x6301;&#x8FD9;&#x4E24;&#x79CD;&#x6A21;&#x5757;&#x673A;&#x5236;&#x3002;</p>
<p>&#x5BFC;&#x5165;&#x548C;&#x4F7F;&#x7528;&#x5916;&#x90E8;&#x6A21;&#x5757;&#xFF0C;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x53E5; require() ,&#x770B;&#x770B;angular/material/docs&#x4E0B;&#x7684;&#x7F16;&#x8BD1;&#x6587;&#x4EF6;gulpfile.js&#x7684;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x3002;&#x5BF9;&#x6A21;&#x5757;&#x5BFC;&#x5165;&#x548C;&#x4F7F;&#x7528;&#x6709;&#x4E2A;&#x76F4;&#x89C2;&#x7684;&#x611F;&#x89C9;&#x3002; </p>
<pre><code><span class="xml">var gulp = require(&amp;apos;gulp&amp;apos;);
var concat = require(&amp;apos;gulp-concat&amp;apos;);
var fs = require(&amp;apos;fs&amp;apos;);

... 

//&amp;#x5BF9;&amp;#x6A21;&amp;#x5757;gulp&amp;#x7684;&amp;#x4F7F;&amp;#x7528;
gulp.task(&amp;apos;demos&amp;apos;, function() </span><span class="expression">{ <span class="variable">...</span>  

//&amp;<span class="begin-block">#x</span>5<span class="variable">BF</span>9;&amp;<span class="begin-block">#x</span>6<span class="variable">A</span>21;&amp;<span class="begin-block">#x</span>5757;<span class="variable">gulp-concat</span>&amp;<span class="begin-block">#x</span>7684;&amp;<span class="begin-block">#x</span>4<span class="variable">F</span>7<span class="variable">F</span>;&amp;<span class="begin-block">#x</span>7528;
<span class="variable">gulp.src</span>([
    &amp;<span class="variable">apos</span>;<span class="variable">node</span>_<span class="variable">modules</span><span class="end-block">/angularytics</span><span class="end-block">/dist</span><span class="end-block">/angularytics.js</span>&amp;<span class="variable">apos</span>;,
    &amp;<span class="variable">apos</span>;<span class="variable">dist</span><span class="end-block">/docs</span><span class="end-block">/js</span>/**/*<span class="variable">.js</span>&amp;<span class="variable">apos</span>;
  ])
    <span class="variable">.pipe</span>(<span class="variable">concat</span>(&amp;<span class="variable">apos</span>;<span class="variable">docs.js</span>&amp;<span class="variable">apos</span>;))

//&amp;<span class="begin-block">#x</span>5<span class="variable">BF</span>9;&amp;<span class="begin-block">#x</span>6<span class="variable">A</span>21;&amp;<span class="begin-block">#x</span>5757;<span class="variable">fs</span>&amp;<span class="begin-block">#x</span>7684;&amp;<span class="begin-block">#x</span>4<span class="variable">F</span>7<span class="variable">F</span>;&amp;<span class="begin-block">#xFFFD</span>;&amp;<span class="begin-block">#xFFFD</span>;&amp;<span class="begin-block">#xFFFD</span>;
<span class="variable">fs.writeFileSync</span>(<span class="variable">dest</span> + &amp;<span class="variable">apos</span>;<span class="end-block">/demo-data.js</span>&amp;<span class="variable">apos</span>;, <span class="variable">file</span>);</span>
</code></pre><p>gulp.task &#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#xFF1B; cancat &#x7528;&#x4E8E;&#x5408;&#x5E76;&#x6587;&#x4EF6;&#xFF1B;fs&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x7684;&#x6A21;&#x5757;&#x3002;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x6709;&#x6A21;&#x5757;&#x7684;&#x5F15;&#x5165;&#xFF0C;&#x4EE3;&#x7801;&#x66F4;&#x4E3A;&#x6E05;&#x6670;&#x800C;&#x660E;&#x786E;&#xFF0C;&#x8FD9;&#x4E9B;&#x5E38;&#x7528;&#x6A21;&#x5757;&#x76F8;&#x5F53;&#x4E8E;&#x5BF9;&#x57FA;&#x672C;&#x8BED;&#x8A00;&#x529F;&#x80FD;&#x7684;&#x6269;&#x5C55;&#x3002; </p>
<p>&#x8FD9;&#x91CC;&#xFF0C;&#x5173;&#x952E;&#x8BCD;require()&#x628A;&#x4E00;&#x5207;&#x8054;&#x7CFB;&#x5728;&#x4E00;&#x8D77;&#x3002;&#x90A3;&#x4E48;&#x8FD9;&#x53E5;&#x7B80;&#x5355;&#x7684;&#x8BED;&#x53E5;&#x80CC;&#x540E;&#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48;&#x4E8B;&#x60C5;&#x5462;&#xFF1F;</p>
<ol>
<li>require&#x5176;&#x5B9E;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x8BED;&#x8A00;&#x7684;&#x5173;&#x952E;&#x8BCD;&#xFF0C;&#x5728;&#x6587;&#x7AE0;&#x540E;&#x9762;&#x7684;&#x7814;&#x7A76;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x3002;</li>
<li>&#x8FD8;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x8FC7;require()&#x6216;&#x8005;&#x5BF9;&#x5B83;&#x5B9E;&#x73B0;&#x673A;&#x5236;&#x4E0D;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#xFF0C;&#x53EF;&#x4EE5;&#x7565;&#x4E2A;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x3002;&#x786E;&#x5B9E;&#xFF0C;&#x540E;&#x9762;&#x5B9E;&#x73B0;&#x673A;&#x5236;&#x4E0D;&#x592A;&#x5F71;&#x54CD;&#x4F7F;&#x7528;&#x3002;</li>
</ol>
<p>&#x4EE5;&#x4E0B;&#x5927;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x90FD;&#x6765;&#x81EA;&#x539F;&#x6587;&#xFF1A; <a href="http://thenodeway.io/posts/how-require-actually-works/?utm_source=fredkschott.com&amp;utm_medium=referral" target="_blank" rel="external">How require() Actually Works</a></p>
<p>&#x56E0;&#x4E3A;NodeJS&#x662F;&#x5F00;&#x6E90;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FFD;&#x6EAF; require() &#x5230;node&#x7684;&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x4E2D;&#x53BB;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x627E;&#x5230;&#x7684;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x800C;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;module.js&#x3002;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5B9E;&#x73B0;&#x4E86;node&#x7684;&#x6574;&#x4E2A;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x7CFB;&#x7EDF;&#x3002;&#x6DB5;&#x76D6;&#x7684;&#x8FC7;&#x7A0B;&#x6709;&#x52A0;&#x8F7D;&#x3001;&#x7F16;&#x8BD1;&#x548C;&#x7F13;&#x5B58;&#x3002;&#x800C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684; require() &#x53EA;&#x662F;&#x5176;&#x51B0;&#x4E0A;&#x4E00;&#x89D2;&#x3002; </p>
<h3 id="module-js">module.js</h3><pre><code><span class="function"><span class="keyword">function</span> <span class="title">Module</span><span class="params">(id, parent)</span> </span>{
    <span class="keyword">this</span>.id = id;
    <span class="keyword">this</span>.exports = {};
    <span class="keyword">this</span>.parent = parent;
    <span class="comment">//...</span>
</code></pre><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;module.js&#x9996;&#x5148;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#xFF08;&#x51FD;&#x6570;&#xFF09;Module&#x3002;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x6709;&#x4E24;&#x4E2A;&#x529F;&#x80FD;&#x3002;&#x4E00;&#x4E2A;&#xFF0C;&#x5B83;&#x662F;&#x6240;&#x6709;&#x6A21;&#x5757;&#x7684;&#x57FA;&#x7C7B;&#xFF0C;&#x4E4B;&#x540E;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x90FD;&#x662F;&#x8FD9;&#x4E2A;Module&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x63A2;&#x8BA8;&#x7684; module.exports &#x6700;&#x7EC8;&#x6765;&#x6E90;&#x3002; </p>
<p>&#x8FD9;&#x4E2A;Module&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x529F;&#x80FD;&#x5C31;&#x662F;&#x5B8C;&#x6210;Node&#x6A21;&#x5757;&#x7684;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x3002;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684; require() &#x6700;&#x7EC8;&#x5C31;&#x662F;&#x8C03;&#x7528;module.require&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53C8;&#x8C03;&#x7528;&#x4E86;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x65B9;&#x6CD5;Module._load&#x3002;&#x6700;&#x7EC8;&#x7684;&#x8FD9;&#x4E2A;load&#x65B9;&#x6CD5;&#x624D;&#x662F;&#x771F;&#x6B63;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4E48;&#x5C06;&#x8981;&#x5206;&#x6790;&#x7814;&#x7A76;&#x7684;&#x3002; </p>
<h3 id="Module-_load">Module._load</h3><pre><code>Module._load = function(request, parent, isMain) {
    //1. <span class="operator"><span class="keyword">Check</span> <span class="keyword">Module</span>._cache <span class="keyword">for</span> the cached <span class="keyword">module</span>.
    //<span class="number">2.</span> <span class="keyword">Create</span> a new <span class="keyword">module</span> instance <span class="keyword">if</span> <span class="keyword">cache</span> empty
    //<span class="number">3.</span> Save it <span class="keyword">to</span> the <span class="keyword">cache</span>
    //<span class="number">4.</span> <span class="keyword">Call</span> <span class="keyword">module</span>.<span class="keyword">load</span>() <span class="keyword">with</span> your the given filename, this will <span class="keyword">call</span> <span class="keyword">module</span>.compile() <span class="keyword">after</span> reading the file contents.
    //<span class="number">5.</span> <span class="keyword">If</span> there was error loading /parsing the file, <span class="keyword">delete</span> the bad <span class="keyword">module</span> <span class="keyword">from</span> <span class="keyword">cache</span>.
    //<span class="number">6.</span> <span class="keyword">return</span> <span class="keyword">module</span>.exports
};</span>
</code></pre><p>Module._load&#x8D1F;&#x8D23;&#x88C5;&#x8F7D;&#x65B0;&#x6A21;&#x5757;&#x548C;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x7684;&#x7F13;&#x5B58;&#x3002;&#x7F13;&#x5B58;&#x673A;&#x5236;&#x5728;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x8F7D;&#x5165;&#x65F6;&#x51CF;&#x5C11;&#x91CD;&#x590D;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5171;&#x4EAB;&#x6A21;&#x5757;&#x5B9E;&#x4F8B;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x5F97;&#x5355;&#x4F8B;&#x6A21;&#x5757;&#x5728;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x4E2D;&#x4FDD;&#x7559;&#x72B6;&#x6001;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x8BE5;&#x6A21;&#x5757;&#xFF0C;Module._load&#x5C31;&#x4F1A;&#x4E3A;&#x8BE5;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Module&#x5B9E;&#x4F8B;&#x3002;&#x5E76;&#x7528;&#x8BE5;&#x5B9E;&#x4F8B;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x9001;&#x7ED9;Module._compile&#x3002;</p>
<p>&#x6CE8;&#x610F;&#x5230;&#x5728;&#x4E0A;&#x9762;&#x7B2C;6&#x6B65;&#xFF0C;&#x8FD4;&#x56DE;&#x4E86;module.exports&#x3002;&#x8FD9;&#x4E2A;&#x8FD4;&#x56DE;&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x89E3;&#x91CA;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x5728;&#x4F60;&#x7684;&#x6A21;&#x5757;&#x6587;&#x4EF6;&#x4E2D;&#x8981;&#x628A;&#x516C;&#x5F00;&#x7684;&#x63A5;&#x53E3;&#xFF08;&#x65B9;&#x6CD5;&#xFF09;&#x8D4B;&#x7ED9;module.exports(&#x6216;&#x8005;&#x522B;&#x540D;exports)&#xFF1B;&#x8FD9;&#x4E5F;&#x89E3;&#x91CA;&#x4E86;&#xFF0C;require()&#x8FD4;&#x56DE;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x5BFC;&#x5165;&#x6A21;&#x5757;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x5230;&#x6B64;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x795E;&#x5947;&#x6216;&#x7279;&#x522B;&#x7684;&#x5730;&#x65B9;&#x3002;</p>
<h3 id="module-_compile">module._compile</h3><pre><code><span class="keyword">Module</span>.prototype._compile = <span class="function"><span class="keyword">function</span><span class="params">(content, filename)</span></span> {
    // <span class="number">1.</span> Create the standalone require <span class="function"><span class="keyword">function</span></span> that calls <span class="keyword">module</span> require.
    // <span class="number">2.</span> Attach other helper methods to require.
    // <span class="number">3.</span> Wraps the JS code <span class="type">in</span> a <span class="function"><span class="keyword">function</span></span> that provides require, <span class="keyword">module</span>, etc. variables locally to the <span class="keyword">module</span> scope.
    // <span class="number">4.</span> Run that <span class="function"><span class="keyword">function</span>.</span>
</code></pre><p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x521B;&#x5EFA;require&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x975E;&#x5E38;&#x719F;&#x6089;&#x7684;&#x90A3;&#x4E2A; require() (&#x6A21;&#x5757;&#x88C5;&#x8F7D;&#x673A;&#x5236;&#x4E0D;&#x4EC5;&#x4EC5;&#x6709;&#x8F7D;&#x5165;&#x6A21;&#x5757;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x4E5F;&#x6709;&#x5BFC;&#x5165;&#x548C;&#x8C03;&#x7528;&#x7684;&#x6D41;&#x7A0B;&#xFF0C;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x8C03;&#x7528;&#x65B9;&#x7684;&#x6D41;&#x7A0B;&#xFF0C;&#x5982;&#x6211;&#x4EEC;&#x63D0;&#x5230;&#x7684;main.js)&#x3002;&#x800C;&#x8FD9;&#x4E2A;&#x4E2A;&#x51FD;&#x6570;&#x672C;&#x8EAB;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x5C01;&#x88C5;&#x4E86;Module.require&#x548C;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x5E2E;&#x52A9;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; </p>
<ul>
<li>require() &#x5C31;&#x662F;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;require()</li>
<li>require.main &#x4E3B;&#x6A21;&#x5757;</li>
<li>require.cache &#x6240;&#x6709;&#x7F13;&#x5B58;&#x7684;&#x6A21;&#x5757;</li>
<li>require.extensions &#x4E0D;&#x540C;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#xFF08;&#x540E;&#x7F00;&#xFF09;&#x7684;&#x7F16;&#x8BD1;&#x65B9;&#x6CD5;</li>
</ul>
<p>&#x5728;&#x6784;&#x5EFA;require&#x4E4B;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x539F;&#x6587;&#x4EF6;&#x7684;&#x4EE3;&#x7801;&#x88AB;&#x5C01;&#x88C5;&#x7684;&#x4E00;&#x4E2A;&#x65B0;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x628A;require,module,exports&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002; &#x8FD9;&#x4E5F;&#x53EF;&#x4EE5;&#x89E3;&#x91CA;&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;require(),&#x4E3A;&#x4EC0;&#x4E48;exports&#x662F;module.exports&#x7684;&#x522B;&#x540D;&#x3002; </p>
<p>(function(exports,require, module, <strong>filename, </strong>dirname){<br>        //&#x539F;&#x6A21;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x6CE8;&#x5165;&#x5728;&#x8FD9;<br>    });</p>
<p>&#x4E86;&#x89E3;&#x6A21;&#x5757;&#x6A21;&#x5F0F;(Module Pattern)&#x7684;&#x4EBA;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x770B;&#x51FA;&#x8FD9;&#x6BB5;&#x770B;&#x65F6;&#x6BEB;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x91CD;&#x65B0;&#x5206;&#x5E10;&#xFF0C;&#x5C31;&#x662F;&#x6A21;&#x5757;&#x6A21;&#x5F0F;&#xFF0C;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x6A21;&#x5757;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5B9A;&#x4E49;&#x6C61;&#x67D3;&#x7CFB;&#x7EDF;&#x7684;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF08;&#x8BB0;&#x4F4F;javascript&#x65F6;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF09;&#x3002;</p>
<p>&#x6700;&#x540E;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x51FD;&#x6570;&#x76F4;&#x63A5;&#x88AB;&#x8FD0;&#x884C;&#xFF0C;&#x8FD9;&#x5176;&#x5B9E;&#x4E5F;&#x662F;&#x5B8C;&#x6574;&#x6A21;&#x5757;&#x6A21;&#x5F0F;&#x7684;&#x4E00;&#x90E8;&#x5206;,&#x6700;&#x540E;&#x90A3;&#x5BF9;&#x7A7A;&#x62EC;&#x5F27;&#x5C31;&#x662F;&#x8FD0;&#x884C;&#x90E8;&#x5206;&#xFF1A;</p>
<p>(function(…){<br>        //…<br>    })();</p>
<p>&#x5982;&#x679C;&#x4E0D;&#x719F;&#x6089;&#x6A21;&#x5757;&#x6A21;&#x5F0F;(Module Patter)&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x770B;&#x6211;&#x53E6;&#x5916;&#x4E00;&#x7BC7;&#x6587;&#x7AE0; <a href="http://kb.skight.com/&#x5BA2;&#x6237;&#x7AEF;/&#x6DF1;&#x5165;&#x63A2;&#x7D22;AngularJS.html" target="_blank" rel="external">&#x6DF1;&#x5165;&#x63A2;&#x7D22;AngularJS</a> &#x7684;&#x4E00;&#x4E2A;&#x7AE0;&#x8282;&#x300A;&#x6A21;&#x5757;&#x6A21;&#x5F0F; - Module Pattern&#x300B; </p>
<p>&#x5B8C;&#x6574;&#x5168;&#x6587;&#xFF1A; <a href="http://kb.skight.com/&#x5BA2;&#x6237;&#x7AEF;/&#x901A;&#x8FC7;Anuglar%20Material&#x4E32;&#x4E32;&#x5B66;&#x5BA2;&#x6237;&#x7AEF;&#x5F00;&#x53D1;.html" target="_blank" rel="external">&#x901A;&#x8FC7;ANUGLAR MATERIAL&#x4E32;&#x4E32;&#x5B66;&#x5BA2;&#x6237;&#x7AEF;&#x5F00;&#x53D1;</a></p>
<h3 id="&#x5C0F;&#x7ED3;">&#x5C0F;&#x7ED3;</h3><p>&#x81F3;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x8D70;&#x5B8C;&#x4E86;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x7684;&#x5168;&#x90E8;&#x6D41;&#x7A0B;&#x3002;&#x4ECE;&#x521B;&#x5EFA;&#x6A21;&#x5757;module.exports&#x5230;&#x8C03;&#x7528;require,&#x4EE5;&#x53CA;&#x8C03;&#x7528;&#x5B9E;&#x73B0;&#x7684;&#x5185;&#x90E8;&#x8FC7;&#x7A0B;&#x3002;&#x867D;&#x7136;&#x8FD9;&#x4E9B;&#x5BF9;&#x4F60;&#x4EE3;&#x7801;&#x8FD8;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#xFF0C;&#x539F;&#x6765;&#x8BE5;&#x600E;&#x4E48;&#x505A;&#x8FD8;&#x600E;&#x4E48;&#x505A;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x4F60;&#x5199;&#x540C;&#x6837;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x5FC3;&#x91CC;&#x66F4;&#x6709;&#x5E95;&#xFF0C;&#x4E0D;&#x518D;&#x5F3A;&#x884C;&#x8BB0;&#x5FC6;&#x6A21;&#x5757;&#x7684;&#x8BED;&#x6CD5;&#x3002;&#x6700;&#x91CD;&#x8981;&#x7684;&#x4E8B;&#x901A;&#x8FC7;&#x5B66;&#x4E60;&#x826F;&#x597D;&#x7684;&#x4EE3;&#x8D2D;&#x67B6;&#x6784;&#xFF0C;&#x63D0;&#x9AD8;&#x81EA;&#x5DF1;&#x7684;&#x67B6;&#x6784;&#x6C34;&#x5E73;&#x3002;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/AngularJS/">AngularJS</a><a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9ae7a37/" title="初窥JavaScript事件机制的实现（二）—— Node.js中定时器的实现 -" itemprop="url">初窥JavaScript事件机制的实现（二）—— Node.js中定时器的实现 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:15.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="Node-js&#x4E2D;&#x5B9A;&#x65F6;&#x5668;&#x7684;&#x5B9E;&#x73B0;">Node.js&#x4E2D;&#x5B9A;&#x65F6;&#x5668;&#x7684;&#x5B9E;&#x73B0;</h2><p>&#x4E0A;&#x4E00;&#x7BC7;&#x535A;&#x6587;&#x63D0;&#x5230;&#xFF0C;&#x5728;Node&#x4E2D;timer&#x5E76;&#x4E0D;&#x662F;&#x901A;&#x8FC7;&#x65B0;&#x5F00;&#x7EBF;&#x7A0B;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x5728;event loop&#x4E2D;&#x5B8C;&#x6210;&#x3002;&#x4E0B;&#x9762;&#x901A;&#x8FC7;&#x51E0;&#x4E2A;JavaScript&#x7684;&#x5B9A;&#x65F6;&#x5668;&#x793A;&#x4F8B;&#x4EE5;&#x53CA;Node&#x76F8;&#x5173;&#x6E90;&#x7801;&#x6765;&#x5206;&#x6790;&#x5728;Node&#x4E2D;&#xFF0C;timer&#x529F;&#x80FD;&#x5230;&#x5E95;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#x3002; </p>
<h2 id="JavaScript&#x4E2D;&#x5B9A;&#x65F6;&#x5668;&#x529F;&#x80FD;&#x7684;&#x7279;&#x70B9;">JavaScript&#x4E2D;&#x5B9A;&#x65F6;&#x5668;&#x529F;&#x80FD;&#x7684;&#x7279;&#x70B9;</h2><p>&#x65E0;&#x8BBA;&#x662F;Node&#x8FD8;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#xFF0C;&#x90FD;&#x6709;setTimeout&#x548C;setInterval&#x8FD9;&#x4E24;&#x4E2A;&#x5B9A;&#x65F6;&#x5668;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x5176;&#x5DE5;&#x4F5C;&#x7279;&#x70B9;&#x57FA;&#x672C;&#x76F8;&#x540C;&#xFF0C;&#x56E0;&#x6B64;&#x4E0B;&#x9762;&#x4EC5;&#x4EE5;Node&#x4E3A;&#x4F8B;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;JavaScript&#x4E2D;&#x7684;&#x5B9A;&#x65F6;&#x5668;&#x5E76;&#x4E0D;&#x540C;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x5E95;&#x5C42;&#x7684;&#x5B9A;&#x65F6;&#x4E2D;&#x65AD;&#x3002;&#x4E2D;&#x65AD;&#x5230;&#x6765;&#x65F6;&#xFF0C;&#x5F53;&#x524D;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x4F1A;&#x88AB;&#x6253;&#x65AD;&#xFF0C;&#x8F6C;&#x53BB;&#x6267;&#x884C;&#x5B9A;&#x65F6;&#x4E2D;&#x65AD;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;&#x800C;JavaScript&#x7684;&#x5B9A;&#x65F6;&#x5668;&#x5230;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6267;&#x884C;&#x7EBF;&#x7A0B;&#x6CA1;&#x6709;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5219;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF1B;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6709;&#x4EE3;&#x7801;&#x5728;&#x6267;&#x884C;&#x4E2D;&#xFF0C;JavaScript&#x5F15;&#x64CE;&#x65E2;&#x4E0D;&#x4F1A;&#x4E2D;&#x65AD;&#x5F53;&#x524D;&#x4EE3;&#x7801;&#x8F6C;&#x53BB;&#x6267;&#x884C;&#x56DE;&#x8C03;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5F00;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x56DE;&#x8C03;&#xFF0C;&#x800C;&#x662F;&#x5F53;&#x524D;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#x624D;&#x53BB;&#x5904;&#x7406;&#x3002;</p>
<pre><code><span class="built_in">console</span>.time(&amp;apos;A&amp;apos;)
setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="built_in">console</span>.timeEnd(&amp;apos;A&amp;apos;);
}, <span class="number">100</span>);
<span class="keyword">var</span> i = <span class="number">0</span>;
<span class="keyword">for</span> (; i &amp;lt; <span class="number">100000</span>; i++) { }
</code></pre><p>&#x6267;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6700;&#x7EC8;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x95F4;&#x5E76;&#x4E0D;&#x662F;100ms&#x5DE6;&#x53F3;&#xFF0C;&#x800C;&#x662F;&#x6570;&#x79D2;&#x3002;&#x8FD9;&#x8BF4;&#x660E;&#x5728;&#x5FAA;&#x73AF;&#x5B8C;&#x6210;&#x4E4B;&#x524D;&#xFF0C;&#x5B9A;&#x65F6;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x786E;&#x5B9E;&#x6CA1;&#x6709;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x800C;&#x662F;&#x63A8;&#x8FDF;&#x5230;&#x4E86;&#x5FAA;&#x73AF;&#x7ED3;&#x675F;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x5728;JavaScript&#x4EE3;&#x7801;&#x6267;&#x884C;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x4EF6;&#x90FD;&#x65E0;&#x6CD5;&#x5F97;&#x5230;&#x5904;&#x7406;&#xFF0C;&#x5FC5;&#x987B;&#x7B49;&#x5230;&#x5F53;&#x524D;&#x4EE3;&#x7801;&#x5168;&#x90E8;&#x5B8C;&#x6210;&#xFF0C;&#x624D;&#x80FD;&#x53BB;&#x5904;&#x7406;&#x65B0;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8FD0;&#x884C;&#x8017;&#x65F6;JavaScript&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x5931;&#x53BB;&#x54CD;&#x5E94;&#x3002;&#x4E3A;&#x4E86;&#x5E94;&#x5BF9;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91C7;&#x53D6;Yielding Processes&#x7684;&#x6280;&#x5DE7;&#xFF0C;&#x5C06;&#x8017;&#x65F6;&#x7684;&#x4EE3;&#x7801;&#x5206;&#x6210;&#x5C0F;&#x5757;&#xFF08;chunks&#xFF09;&#xFF0C;&#x6BCF;&#x5904;&#x7406;&#x5B8C;&#x4E00;&#x5757;&#x5C31;&#x6267;&#x884C;&#x4E00;&#x6B21; setTimeout &#xFF0C;&#x7EA6;&#x5B9A;&#x5728;&#x4E00;&#x5C0F;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#x624D;&#x5904;&#x7406;&#x4E0B;&#x4E00;&#x5757;&#xFF0C;&#x800C;&#x5728;&#x8FD9;&#x6BB5;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#x91CC;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;/Node&#x53EF;&#x4EE5;&#x53BB;&#x5904;&#x7406;&#x6392;&#x961F;&#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#x3002; </p>
<h3 id="&#x8865;&#x5145;&#x8D44;&#x6599;">&#x8865;&#x5145;&#x8D44;&#x6599;</h3><p>&#x5728; JavaScript &#x9AD8;&#x7EA7;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1; &#x7B2C;&#x4E09;&#x7248; &#x7B2C;22&#x7AE0; &#x9AD8;&#x7EA7;&#x6280;&#x5DE7; &#x4E2D;&#x5BF9;&#x9AD8;&#x7EA7;&#x5B9A;&#x65F6;&#x5668;&#x4EE5;&#x53CA;Yielding Processes&#x6709;&#x8F83;&#x8BE6;&#x7EC6;&#x7684;&#x8BA8;&#x8BBA;&#x3002; </p>
<h2 id="Node&#x4E2D;&#x7684;timer&#x5B9E;&#x73B0;">Node&#x4E2D;&#x7684;timer&#x5B9E;&#x73B0;</h2><h3 id="libuv&#x5BF9;uv_loop_t&#x7C7B;&#x578B;&#x7684;&#x521D;&#x59CB;&#x5316;">libuv&#x5BF9;uv_loop_t&#x7C7B;&#x578B;&#x7684;&#x521D;&#x59CB;&#x5316;</h3><p>&#x4E0A;&#x4E00;&#x7BC7;&#x535A;&#x6587;&#x63D0;&#x5230;Node&#x4F1A;&#x8C03;&#x7528;libuv&#x7684; uv_run &#x51FD;&#x6570;&#x542F;&#x52A8; default_loop_ptr &#x8FDB;&#x884C;&#x4E8B;&#x4EF6;&#x8C03;&#x5EA6;&#xFF0C; default_loop_ptr &#x6307;&#x5411;&#x4E00;&#x4E2A; uv_loop_t &#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF; default_loop_struct &#x3002;Node&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x8C03;&#x7528; uv_loop_init(&amp;default_loop_struct) &#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#xFF0C; uv_loop_init &#x51FD;&#x6570;&#x8282;&#x9009;&#x5982;&#x4E0B;&#xFF1A; </p>
<pre><code>int uv_loop_init(uv_loop_t<span class="subst">*</span> <span class="keyword">loop</span>) {
  <span class="attribute">...</span>
  <span class="keyword">loop</span><span class="subst">-&amp;</span><span class="literal">gt</span>;time <span class="subst">=</span> <span class="number">0</span>;
  uv_update_time(<span class="keyword">loop</span>);
  <span class="attribute">...</span>
}
</code></pre><p>&#x53EF;&#x4EE5;&#x770B;&#x5230; loop &#x7684; time &#x5B57;&#x6BB5;&#x5148;&#x88AB;&#x8D4B;&#x503C;&#x4E3A;0&#xFF0C;&#x4E4B;&#x540E;&#x8C03;&#x7528; uv_update_time &#x51FD;&#x6570;,&#x8FD9;&#x4F1A;&#x5C06;&#x6700;&#x65B0;&#x7684;&#x8BA1;&#x6570;&#x65F6;&#x95F4;&#x8D4B;&#x7ED9; loop.time &#x3002; </p>
<p>&#x521D;&#x59CB;&#x5316;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C; default_loop_struct.time &#x5C31;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x521D;&#x59CB;&#x503C;&#xFF0C;&#x4E0E;&#x65F6;&#x95F4;&#x6709;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x4F1A;&#x4E0E;&#x6B64;&#x503C;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x4ECE;&#x800C;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x8C03;&#x7528;&#x76F8;&#x5E94;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002; </p>
<h3 id="libuv&#x7684;&#x4E8B;&#x4EF6;&#x8C03;&#x5EA6;&#x6838;&#x5FC3;">libuv&#x7684;&#x4E8B;&#x4EF6;&#x8C03;&#x5EA6;&#x6838;&#x5FC3;</h3><p>&#x524D;&#x9762;&#x63D0;&#x5230; uv_run &#x51FD;&#x6570;&#x5C31;&#x662F;libuv&#x5E93;&#x5B9E;&#x73B0;event loop&#x7684;&#x6838;&#x5FC3;&#x90E8;&#x5206;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x5176;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A; </p>
<p><img src="http://taojinke.github.io/img/20150702/9ae6920.png" alt=""></p>
<p>&#x8FD9;&#x91CC;&#x7B80;&#x8FF0;&#x4E00;&#x4E0B;&#x4E0A;&#x9762;&#x4E0E;&#x5B9A;&#x65F6;&#x5668;&#x76F8;&#x5173;&#x7684;&#x903B;&#x8F91;&#xFF1A;</p>
<ol>
<li>&#x66F4;&#x65B0;&#x5F53;&#x524D; loop &#x7684; time &#x5B57;&#x6BB5;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x6807;&#x5FD7;&#x7740;&#x5F53;&#x524D; loop &#x6982;&#x5FF5;&#x4E0B;&#x7684;&#xFFFD;&#xFFFD;&#xFFFD;&#x73B0;&#x5728;&#x201D;&#xFF1B;</li>
<li>&#x68C0;&#x67E5; loop &#x662F;&#x5426;alive&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x68C0;&#x67E5; loop &#x4E2D;&#x662F;&#x5426;&#x8FD8;&#x6709;&#x9700;&#x8981;&#x5904;&#x7406;&#x7684;&#x4EFB;&#x52A1;&#xFF08; handlers/requests &#xFF09;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x4E0D;&#x5FC5;&#x5FAA;&#x73AF;&#x4E86;&#xFF1B;</li>
<li>&#x68C0;&#x67E5;&#x6CE8;&#x518C;&#x8FC7;&#x7684;timer&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E00;&#x4E2A;timer&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x843D;&#x540E;&#x4E8E;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x8BF4;&#x660E;&#x8BE5;timer&#x5DF2;&#x5230;&#x65F6;&#xFF0C;&#x4E8E;&#x662F;&#x6267;&#x884C;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF1B;</li>
<li>&#x6267;&#x884C;&#x4E00;&#x6B21;I/O polling&#xFF08;&#x5373;&#x963B;&#x585E;&#x4F4F;&#x7EBF;&#x7A0B;&#xFF0C;&#x7B49;&#x5F85;I/O&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4E0B;&#x4E00;&#x4E2A;timer&#x5230;&#x671F;&#x65F6;&#x8FD8;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;I/O&#x5B8C;&#x6210;&#xFF0C;&#x5219;&#x505C;&#x6B62;&#x7B49;&#x5F85;&#xFF0C;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x4E2A;timer&#x7684;&#x56DE;&#x8C03;&#x3002;<br>&#x5982;&#x679C;&#x53D1;&#x751F;&#x4E86;I/O&#x4E8B;&#x4EF6;&#xFF0C;&#x5219;&#x6267;&#x884C;&#x5BF9;&#x5E94;&#x7684;&#x56DE;&#x8C03;&#xFF1B;&#x7531;&#x4E8E;&#x6267;&#x884C;&#x56DE;&#x8C03;&#x7684;&#x65F6;&#x95F4;&#x91CC;&#x53EF;&#x80FD;&#x53C8;&#x6709;timer&#x5230;&#x671F;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x8981;&#x518D;&#x6B21;&#x68C0;&#x67E5;timer&#x5E76;&#x6267;&#x884C;&#x56DE;&#x8C03;&#x3002;<br>&#xFF08;&#x5B9E;&#x9645;&#x4E0A;(4.)&#x8FD9;&#x91CC;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x6837;&#x63CF;&#x8FF0;&#x4EC5;&#x662F;&#x4E3A;&#x4E86;&#x4E0D;&#x6D89;&#x53CA;&#x5176;&#x4ED6;&#x7EC6;&#x8282;&#xFF0C;&#x800C;&#x4E13;&#x6CE8;&#x4E8E;timer&#x7684;&#x5B9E;&#x73B0;&#x3002;&#xFF09;</li>
</ol>
<p>Node&#x4F1A;&#x4E00;&#x76F4;&#x8C03;&#x7528; uv_run &#x76F4;&#x5230; loop &#x4E0D;&#x518D;alive&#x3002; </p>
<h3 id="Node&#x4E2D;&#x7684;timer_wrap&#x4E0E;timers">Node&#x4E2D;&#x7684;timer_wrap&#x4E0E;timers</h3><p>Node&#x4E2D;&#x6709;&#x4E00;&#x4E2A; TimerWrap &#x7C7B;&#xFF0C;&#x88AB;&#x6CE8;&#x518C;&#x4E3A;Node&#x5185;&#x90E8;&#x7684; timer_wrap &#x6A21;&#x5757;&#x3002; </p>
<pre><code>NODE_MODULE_CONTEXT_AWARE_BUILTIN<span class="list">(<span class="keyword">timer_wrap</span>, node:<span class="keyword">:TimerWrap</span>:<span class="keyword">:Initialize</span>)</span>
</code></pre><p>&#x5176;&#x4E2D; TimerWrap &#x7C7B;&#x57FA;&#x672C;&#x4E0A;&#x5C31;&#x662F;&#x5BF9; uv_timer_t &#x7684;&#x4E00;&#x4E2A;&#x76F4;&#x63A5;&#x5C01;&#x88C5;&#xFF0C; NODE_MODULE_CONTEXT_AWARE_BUILTIN &#x662F;Node&#x7528;&#x4E8E;&#x6CE8;&#x518C;built-in&#x6A21;&#x5757;&#x7684;&#x5B8F;&#x3002; </p>
<p>&#x7ECF;&#x8FC7;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#xFF0C;JavaScript&#x5C31;&#x53EF;&#x4EE5;&#x62FF;&#x5230;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x4E86;&#x3002; src/lib/timers.js &#x6587;&#x4EF6;&#x4F7F;&#x7528;JavaScript&#x7684;&#x5F62;&#x5F0F;&#x628A; timer_wrap &#x7684;&#x529F;&#x80FD;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#xFF0C;&#x5E76;&#x5BFC;&#x51FA;&#x4E86; exports.setTimeout, exports.setInterval, exports.setImmediate &#x7B49;&#x51FD;&#x6570;&#x3002; </p>
<h3 id="Node&#x542F;&#x52A8;&#x4E0E;global&#x521D;&#x59CB;&#x5316;">Node&#x542F;&#x52A8;&#x4E0E;global&#x521D;&#x59CB;&#x5316;</h3><p>&#x4E0A;&#x4E00;&#x7BC7;&#x63D0;&#x5230;Node&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x8F7D;&#x5165;&#x6267;&#x884C;&#x73AF;&#x5883; LoadEnvironment(env) &#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x6B65;&#x5C31;&#x662F;&#x8F7D;&#x5165; src/node.js &#x5E76;&#x6267;&#x884C;&#xFF0C; src/node.js &#x4F1A;&#x8F7D;&#x5165;&#x6307;&#x5B9A;&#x7684;&#x6A21;&#x5757;&#x5E76;&#x521D;&#x59CB;&#x5316; global &#x548C; process &#x3002;&#x5F53;&#x7136;&#xFF0C; setTimeout &#x7B49;&#x51FD;&#x6570;&#x4E5F;&#x4F1A;&#x88AB; src/node.js &#x7ED1;&#x5B9A;&#x5230; global &#x5BF9;&#x8C61;&#x4E0A;&#x3002; </p>
<p>&#x81F3;&#x6B64;&#xFF0C; setTimeout/setInterval &#x8FD9;&#x7C7B;&#x5B9A;&#x65F6;&#x5668;&#x51FD;&#x6570;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x4E3A;JavaScript&#x6240;&#x7528;&#x4E86;&#x3002; </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9ae1fe2/" title="极简的 NodeJS npm 模块开发 -" itemprop="url">极简的 NodeJS npm 模块开发 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:15.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x6781;&#x7B80;&#x7684; NodeJS npm &#x6A21;&#x5757;&#x5F00;&#x53D1;</p>
<p>&#x5982;&#x4F55;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;NPM&#x6A21;&#x5757;&#xFF1F;&#x52A8;&#x624B;&#x5B9E;&#x9A8C;&#xFF0C;&#x7167;&#x7740;&#x5F04;&#xFF0C;&#x5B8C;&#x4E86;&#x5C31;&#x61C2;&#x4E86;&#x3002;&#x63A8;&#x8350;&#x4E0B;cmder &#x7ED9;windows&#x7684;&#x7528;&#x6237;&#x66FF;&#x4EE3;cmd&#xFF0C;&#x6709;&#x4E86;&#x5B83;&#x65E5;&#x5B50;&#x4F1A;&#x5E78;&#x798F;&#x5F88;&#x591A;&#x3002; </p>
<h3 id="&#x518D;&#x6765;&#x4E00;&#x4E2A;helloworld&#xFF0C;&#x53CD;&#x6B63;&#x4E16;&#x754C;&#x4E0A;&#x5DF2;&#x7ECF;&#x5F88;&#x591A;&#x3002;">&#x518D;&#x6765;&#x4E00;&#x4E2A;helloworld&#xFF0C;&#x53CD;&#x6B63;&#x4E16;&#x754C;&#x4E0A;&#x5DF2;&#x7ECF;&#x5F88;&#x591A;&#x3002;</h3><pre><code>mkdir hellopack
cd hellopack
&amp;#x3BB; <span class="keyword">type</span> con: &amp;gt;hello.js

exports.hello = <span class="function"><span class="keyword">function</span></span> ( <span class="keyword">name</span> ) {
    <span class="keyword">return</span>  &amp;quot;Hello &amp;quot; + <span class="keyword">name</span> ;
}
^Z
</code></pre><h3 id="&#x521B;&#x5EFA;&#x6253;&#x5305;&#x6587;&#x4EF6;">&#x521B;&#x5EFA;&#x6253;&#x5305;&#x6587;&#x4EF6;</h3><pre><code>&amp;#x3BB<span class="comment">; type con: &amp;gt;package.json</span>
{
    &amp;quot<span class="comment">;name&amp;quot;: &amp;quot;hello&amp;quot;,</span>
    &amp;quot<span class="comment">;version&amp;quot;: &amp;quot;0.0.1&amp;quot;,</span>
    &amp;quot<span class="comment">;main&amp;quot;: &amp;quot;hello.js&amp;quot;</span>
}
^Z
</code></pre><h3 id="&#x6D4B;&#x8BD5;&#x5B89;&#x88C5;">&#x6D4B;&#x8BD5;&#x5B89;&#x88C5;</h3><pre><code><span class="built_in">cd</span> ..
npm install packdemo/
&amp;<span class="comment">#x3BB; ls node_modules\hello</span>
hello.js package.json 
</code></pre><p>&#x8BF4;&#x660E;&#xFF1A;npm install &#x5C31;&#x662F;&#x62F7;&#x8D1D;&#x76EE;&#x5F55;&#x5230;node_module &#x7684;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x3002;&#x5F53;&#x7136;package.json &#x505A;&#x4E86;&#x4E9B;&#x8010;&#x4EBA;&#x5BFB;&#x5473;&#x7684;&#x4FEE;&#x6539;</p>
<pre><code>diff hellopack\<span class="keyword">package</span>.json node_modules\hello\<span class="keyword">package</span>.json

<span class="number">1</span>,<span class="number">5</span>c1,<span class="number">11</span>
&amp;<span class="keyword">lt</span>;  {
&amp;<span class="keyword">lt</span>;     &amp;quot;name&amp;quot;: &amp;quot;hello&amp;quot;,
&amp;<span class="keyword">lt</span>;     &amp;quot;version&amp;quot;: &amp;quot;<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span>&amp;quot;,
&amp;<span class="keyword">lt</span>;     &amp;quot;main&amp;quot;: &amp;quot;hello.js&amp;quot;
&amp;<span class="keyword">lt</span>;   }
\ No newline at end of file
---
&amp;<span class="keyword">gt</span>; {
&amp;<span class="keyword">gt</span>;   &amp;quot;name&amp;quot;: &amp;quot;hello&amp;quot;,
&amp;<span class="keyword">gt</span>;   &amp;quot;version&amp;quot;: &amp;quot;<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span>&amp;quot;,
&amp;<span class="keyword">gt</span>;   &amp;quot;main&amp;quot;: &amp;quot;hello.js&amp;quot;,
&amp;<span class="keyword">gt</span>;   &amp;quot;readme&amp;quot;: &amp;quot;ERROR: No README data found!&amp;quot;,
&amp;<span class="keyword">gt</span>;   &amp;quot;_id&amp;quot;: &amp;quot;hello<span class="variable">@0</span>.<span class="number">0</span>.<span class="number">1</span>&amp;quot;,
&amp;<span class="keyword">gt</span>;   &amp;quot;scripts&amp;quot;: {},
&amp;<span class="keyword">gt</span>;   &amp;quot;_shasum&amp;quot;: &amp;quot;0d23e155b4a222c8f8496b9c01c9cb9403d1fe2c&amp;quot;,
&amp;<span class="keyword">gt</span>;   &amp;quot;_from&amp;quot;: &amp;quot;packdemo&amp;quot;,
&amp;<span class="keyword">gt</span>;   &amp;quot;_resolved&amp;quot;: &amp;quot;file:packdemo&amp;quot;
&amp;<span class="keyword">gt</span>; }
</code></pre><p>&#x6CE8;&#x610F;: &#x76EE;&#x5F55;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x662F;package.json&#x5185;&#x7684;name&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F60;&#x7684;&#x5F00;&#x53D1;&#x76EE;&#x5F55;&#x540D;&#x3002;</p>
<p>&#x800C;js&#x6587;&#x4EF6;&#x5219;&#x662F;&#x7167;&#x7740;&#x62F7;&#x8D1D;&#xFF1A;</p>
<pre><code><span class="tag">diff</span> <span class="tag">node_modules</span>\<span class="tag">hello</span>\<span class="tag">hello</span><span class="class">.js</span> <span class="tag">packdemo</span>\<span class="tag">hello</span><span class="class">.js</span>
(&amp;<span class="id">#x65E0</span>;&amp;<span class="id">#x8F93</span>;&amp;<span class="id">#x51FA</span>;)
</code></pre><h3 id="&#x9A8C;&#x8BC1;&#x5305;&#x5B89;&#x88C5;&#x3002;&#x7559;&#x610F;&#x76F4;&#x63A5;&#x5199;&#x5305;&#x540D;&#x5373;&#x53EF;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;">&#x9A8C;&#x8BC1;&#x5305;&#x5B89;&#x88C5;&#x3002;&#x7559;&#x610F;&#x76F4;&#x63A5;&#x5199;&#x5305;&#x540D;&#x5373;&#x53EF;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;</h3><pre><code>&amp;#x3BB<span class="comment">; node</span>
&amp;gt<span class="comment">; var a = require(&amp;quot;hello&amp;quot;)</span>
undefined
&amp;gt<span class="comment">; a</span>
{ hello: [Function] }
&amp;gt<span class="comment">; a.hello(1)</span>
&amp;apos<span class="comment">;Hello 1&amp;apos;</span>
</code></pre><h3 id="&#x53D1;&#x5E03;&#x5230;npm_-_&#x6CE8;&#x518C;&#x5E10;&#x53F7;">&#x53D1;&#x5E03;&#x5230;npm - &#x6CE8;&#x518C;&#x5E10;&#x53F7;</h3><pre><code>&amp;<span class="preprocessor">#x3BB; npm adduser</span>
<span class="label">Username:</span> name 
<span class="label">Password:</span>
<span class="label">Email:</span> mail@gmail.com
</code></pre><h3 id="&#x53D1;&#x5E03;&#x5230;npm_-_&#x53D1;&#x5E03;">&#x53D1;&#x5E03;&#x5230;npm - &#x53D1;&#x5E03;</h3><pre><code><span class="built_in">cd</span> hello
npm publish 
</code></pre><h3 id="&#x53D1;&#x5E03;&#x6210;&#x529F;&#x4E86;&#x5417;&#xFF1F;">&#x53D1;&#x5E03;&#x6210;&#x529F;&#x4E86;&#x5417;&#xFF1F;</h3><p><a href="https://www.npmjs.com/search?q=hello" target="_blank" rel="external">https://www.npmjs.com/search?q=hello</a></p>
<p>&#x6709;&#x554A;&#xFF0C;&#x8FD8;&#x5F88;&#x591A;&#x3002;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9ad2e2f/" title="node.js与express4.X实战（二）------快速构建一个简单的API接口 -" itemprop="url">node.js与express4.X实战（二）------快速构建一个简单的API接口 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:15.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x5BF9;&#x4E8E;express &#x65B0;&#x624B;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x63A8;&#x8350;&#x4E00;&#x4E2A; express&#x811A;&#x624B;&#x67B6;&#x5DE5;&#x5177;&#x3002;</p>
<pre><code>npm <span class="keyword">install</span> -g express-generator
</code></pre><p><img src="http://taojinke.github.io/img/20150702/9acc7a5.png" alt=""></p>
<p>&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x547D;&#x4EE4;&#x5B89;&#x88C5;express&#x811A;&#x624B;&#x67B6;&#x5DE5;&#x5177; &#xFF0C;&#x63A5;&#x4E0B;&#x6765;</p>
<pre><code>exress <span class="operator">-e</span> myapp
</code></pre><p>&#x751F;&#x6210;&#x4E00;&#x4E2A;express&#x7684;&#x6846;&#x67B6;&#xFF08;&#x53C2;&#x6570;e&#x4EE3;&#x8868;&#x4F7F;&#x7528;ejs&#x6A21;&#x677F;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;jade&#x6A21;&#x677F;&#xFF09;</p>
<p><img src="http://taojinke.github.io/img/20150702/9ace762.png" alt=""></p>
<p>&#x4ECA;&#x5929;&#x4E3B;&#x8981;&#x7528;&#x505A;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x540C;&#x6E90;&#x7B56;&#x6E90;&#x5141;&#x8BB8;&#x4E0B;&#x7684;&#x60C5;&#x51B5;json&#x5C31;&#x8FD4;&#x56DE;json&#xFF0C;&#x8BF7;&#x6C42;&#x662F;JSONP&#x5C31;&#x8FD4;&#x56DE;JSONP&#x3002;</p>
<p>1.&#x9996;&#x5148;&#x5728;routes&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;api.js&#xFF0C;&#x62F7;&#x8D1D;&#x540C;&#x76EE;&#x5F55;&#x4E0B;index.js&#x4E0B;&#x7684;&#x5185;&#x5BB9;&#x5230;api.js&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x540E;&#x9762;&#x5C06;&#x505A;&#x5904;&#x7406;json&#x8FD8;&#x662F;jsonp&#x63A5;&#x53E3;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<p>2.&#x6253;&#x5F00;app.js&#xFF0C; &#x5728;</p>
<pre><code><span class="reserved">var</span> users = <span class="built_in">require</span>(&amp;apos;./routes/users&amp;apos;);
</code></pre><p>&#x540E;&#x9762;&#x6DFB;&#x52A0;</p>
<pre><code><span class="reserved">var</span> api = <span class="built_in">require</span>(&amp;apos;./routes/api&amp;apos;);
</code></pre><p>&#x5728;</p>
<pre><code>app.<span class="keyword">use</span><span class="params">(&amp;apos;/users&amp;apos;, users)</span>;
</code></pre><p>&#x540E;&#x9762;&#x6DFB;&#x52A0;</p>
<pre><code>app.<span class="keyword">use</span><span class="params">(&amp;apos;/api&amp;apos;, api)</span>;
</code></pre><p>&#x4E0A;&#x9762;&#x64CD;&#x4F5C;&#x5C31;&#x662F;&#x52A0;&#x8F7D;&#x4F9D;&#x8D56;&#x6A21;&#x5757;api&#x8DEF;&#x7531;&#x5904;&#x7406;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x67D0;&#x4E2A;&#x8DEF;&#x5F84;&#x5904;&#x7406;&#x3002;</p>
<p>&#x9898;&#x5916;&#x8BDD;&#xFF1A;&#x8FD9;&#x662F;express&#x5B98;&#x65B9;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x91C7;&#x7528;&#x5176;&#x7ECF;&#x5178;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x6765;&#x5904;&#x7406;&#x3002;&#x4F46;&#x6211;&#x8BA4;&#x4E3A;&#x8FD9;&#x4E0D;&#x5229;&#x4E8E;MVC&#xFF0C;&#x6211;&#x5728;&#x771F;&#x5B9E;&#x9879;&#x76EE;&#x4E2D;&#x91C7;&#x7528;&#x4E86;&#x5176;&#x4ED6;&#x7684;&#x505A;&#x6CD5;&#x8BB2;&#x8DEF;&#x7531;&#x548C;&#x63A7;&#x5236;&#x5C42;&#x5206;&#x79BB;&#x3002;</p>
<p>3.&#x63A5;&#x4E0B;&#x6765;&#x5199;api.js</p>
<pre><code>var express = require(&amp;apos;express&amp;apos;);
var router = express.Router();
router.get(&amp;apos;/&amp;apos;, function(req, res) {
    if (req.query &amp;amp;&amp;amp; req.query.callback) {
        <span class="comment">//console.log(params.query.callback);</span>
res.jsonp({status: <span class="number">200</span>, message: &amp;quot;&amp;<span class="label">#x8</span>FD9;&amp;<span class="label">#x662</span>F;&amp;<span class="label">#x4</span>E00;&amp;<span class="label">#x4</span>E2A;JSONP&amp;<span class="label">#x63</span>A5;&amp;<span class="label">#x53</span>E3;&amp;quot;, <span class="keyword">data</span>:[]});
    } else {
        res.json({status: <span class="number">200</span>, message: &amp;quot;&amp;<span class="label">#x8</span>FD9;&amp;<span class="label">#x662</span>F;&amp;<span class="label">#x4</span>E00;&amp;<span class="label">#x4</span>E2A;JSON&amp;<span class="label">#x63</span>A5;&amp;<span class="label">#x53</span>E3;&amp;quot;, <span class="keyword">data</span>:[]});
    }
});
module.exports = router;
</code></pre><p>&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5DF2;&#x7ECF;&#x5B8C;&#x6BD5;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;GET&#x7684;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF0C;req.query&#x662F;URL&#x91CC;&#x9762;&#x7684;&#x53C2;&#x6570;&#x3002;&#x6211;&#x662F;&#x76F4;&#x63A5;&#x91C7;&#x7528;express&#x5B98;&#x65B9;&#x7684;&#x5199;&#x6CD5;&#x6765;&#x5199;&#x7684;&#xFF0C;&#x5B9E;&#x9645;&#x7528;node.js&#x4E5F;&#x6570;&#x884C;&#x4EE3;&#x7801;&#x3002;&#x5355;&#x978B;&#x539F;&#x751F;&#x7684;&#x5BF9;http&#x5934;&#x4F1A;&#x6709;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x7406;&#x89E3;&#x3002;</p>
<p>4.&#x6253;&#x5F00;&#x5BA2;&#x6237;&#x7AEF;&#x5199;&#x4E0B;&#x6E38;&#x89C8;&#x5668;js&#xFF0C;&#x6253;&#x5F00;view&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#xFF0C; index.ejs&#x6A21;&#x677F;&#x3002;</p>
<pre><code><span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!</span>DOCTYPE html<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;html<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;head<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;title<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">%=</span> title <span class="subst">%&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/title<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="keyword">link</span> rel<span class="subst">=&amp;</span>apos;stylesheet<span class="subst">&amp;</span>apos; href<span class="subst">=&amp;</span>apos;/stylesheets/style<span class="built_in">.</span>css<span class="subst">&amp;</span>apos; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;script src<span class="subst">=&amp;</span>quot;/javascripts/jquery<span class="built_in">.</span>js<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/script<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;/head<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;body<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;h1<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">%=</span> title <span class="subst">%&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/h1<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;p<span class="subst">&amp;</span><span class="literal">gt</span>;Welcome <span class="keyword">to</span> <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">%=</span> title <span class="subst">%&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/p<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;script <span class="keyword">type</span><span class="subst">=&amp;</span>quot;text/javascript<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
      function get_jsonp() {
        $<span class="built_in">.</span>getJSON(<span class="subst">&amp;</span>quot;http:<span class="comment">//127.0.0.1:3000/api?callback=?&amp;quot;,</span>
                function(<span class="built_in">data</span>) {
                  $(<span class="subst">&amp;</span>apos;<span class="variable">#rjsonp</span><span class="subst">&amp;</span>apos;)<span class="built_in">.</span>val(<span class="subst">&amp;</span>apos;Jsonp info : <span class="subst">&amp;</span>apos; <span class="subst">+</span> <span class="built_in">data</span><span class="built_in">.</span>message);
                });
        }

      function get_json(){
        $<span class="built_in">.</span>getJSON(<span class="subst">&amp;</span>quot;/api<span class="subst">&amp;</span>quot;,
                function(<span class="built_in">data</span>) {
                  $(<span class="subst">&amp;</span>apos;<span class="variable">#rjson</span><span class="subst">&amp;</span>apos;)<span class="built_in">.</span>val(<span class="subst">&amp;</span>apos;Json info : <span class="subst">&amp;</span>apos; <span class="subst">+</span> <span class="built_in">data</span><span class="built_in">.</span>message);
                });
        }
    <span class="subst">&amp;</span><span class="literal">lt</span>;/script<span class="subst">&amp;</span><span class="literal">gt</span>;

    <span class="subst">&amp;</span><span class="literal">lt</span>;a href<span class="subst">=&amp;</span>quot;javascript:get_jsonp();<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;Click me for jsonp<span class="subst">&amp;</span><span class="literal">lt</span>;/a<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;br <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;textarea id<span class="subst">=&amp;</span>quot;rjsonp<span class="subst">&amp;</span>quot; cols<span class="subst">=&amp;</span>quot;<span class="number">50</span><span class="subst">&amp;</span>quot; <span class="keyword">rows</span><span class="subst">=&amp;</span>quot;<span class="number">3</span><span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/textarea<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;br <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;

    <span class="subst">&amp;</span><span class="literal">lt</span>;a href<span class="subst">=&amp;</span>quot;javascript:get_json();<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;Click me for json<span class="subst">&amp;</span><span class="literal">lt</span>;/a<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;br <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;textarea id<span class="subst">=&amp;</span>quot;rjson<span class="subst">&amp;</span>quot; cols<span class="subst">=&amp;</span>quot;<span class="number">50</span><span class="subst">&amp;</span>quot; <span class="keyword">rows</span><span class="subst">=&amp;</span>quot;<span class="number">3</span><span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/textarea<span class="subst">&amp;</span><span class="literal">gt</span>;

  <span class="subst">&amp;</span><span class="literal">lt</span>;/body<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/html<span class="subst">&amp;</span><span class="literal">gt</span>;
</code></pre><p>&#x5230;&#x6B64;&#x7ED3;&#x675F;&#x5B8C;&#x6BD5;&#x3002;&#x6253;&#x5F00;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;</p>
<pre><code>npm <span class="keyword">install</span>
</code></pre><p>&#x5B89;&#x88C5;node.js&#x4F9D;&#x8D56;&#x5305;</p>
<pre><code><span class="title">node</span> bin/www
</code></pre><p>&#x542F;&#x52A8;node&#x7A0B;&#x5E8F;</p>
<p>&#x6253;&#x5F00;&#x6E38;&#x89C8;&#x5668;&#x8BBF;&#x95EE;<a href="http://localhost:3000/" target="_blank" rel="external">http://localhost:3000/</a></p>
<p>&#x7531;&#x4E8E;&#x65F6;&#x95F4;&#x7D27;&#x5F20;&#xFF0C;&#x5F88;&#x591A;&#x4EE3;&#x7801;&#x90FD;&#x6709;&#x6CA1;&#x6709;&#x505A;&#x592A;&#x591A;&#x7684;&#x8BB2;&#x89E3;&#x3002;</p>
<p>express&#x6846;&#x67B6;&#x5BF9;&#x4E8E;json&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x5904;&#x7406;</p>
<pre><code>res.json = <span class="function"><span class="keyword">function</span> <span class="title">json</span>(<span class="params">obj</span>) </span>{
  <span class="keyword">var</span> val = obj;

  <span class="comment">// allow status / body</span>
<span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">2</span>) {
    <span class="comment">// res.json(body, status) backwards compat</span>
<span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">arguments</span>[<span class="number">1</span>] === &amp;apos;<span class="built_in">number</span>&amp;apos;) {
      deprecate(&amp;apos;res.json(obj, status): Use res.status(status).json(obj) instead&amp;apos;);
      <span class="keyword">this</span>.statusCode = <span class="built_in">arguments</span>[<span class="number">1</span>];
    } <span class="keyword">else</span> {
      deprecate(&amp;apos;res.json(status, obj): Use res.status(status).json(obj) instead&amp;apos;);
      <span class="keyword">this</span>.statusCode = <span class="built_in">arguments</span>[<span class="number">0</span>];
      val = <span class="built_in">arguments</span>[<span class="number">1</span>];
    }
  }

  <span class="comment">// settings</span>
<span class="keyword">var</span> app = <span class="keyword">this</span>.app;
  <span class="keyword">var</span> replacer = app.get(&amp;apos;json replacer&amp;apos;);
  <span class="keyword">var</span> spaces = app.get(&amp;apos;json spaces&amp;apos;);
  <span class="keyword">var</span> body = <span class="built_in">JSON</span>.stringify(val, replacer, spaces);

  <span class="comment">// content-type</span>
<span class="keyword">if</span> (!<span class="keyword">this</span>.get(&amp;apos;Content-Type&amp;apos;)) {
    <span class="keyword">this</span>.set(&amp;apos;Content-Type&amp;apos;, &amp;apos;application/json&amp;apos;);
  }

  <span class="keyword">return</span> <span class="keyword">this</span>.send(body);
};


res.send = <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params">body</span>) </span>{
  <span class="keyword">var</span> chunk = body;
  <span class="keyword">var</span> encoding;
  <span class="keyword">var</span> len;
  <span class="keyword">var</span> req = <span class="keyword">this</span>.req;
  <span class="keyword">var</span> <span class="keyword">type</span>;

  <span class="comment">// settings</span>
<span class="keyword">var</span> app = <span class="keyword">this</span>.app;

  <span class="comment">// allow status / body</span>
<span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">2</span>) {
    <span class="comment">// res.send(body, status) backwards compat</span>
<span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">arguments</span>[<span class="number">0</span>] !== &amp;apos;<span class="built_in">number</span>&amp;apos; &amp;amp;&amp;amp; <span class="keyword">typeof</span> <span class="built_in">arguments</span>[<span class="number">1</span>] === &amp;apos;<span class="built_in">number</span>&amp;apos;) {
      deprecate(&amp;apos;res.send(body, status): Use res.status(status).send(body) instead&amp;apos;);
      <span class="keyword">this</span>.statusCode = <span class="built_in">arguments</span>[<span class="number">1</span>];
    } <span class="keyword">else</span> {
      deprecate(&amp;apos;res.send(status, body): Use res.status(status).send(body) instead&amp;apos;);
      <span class="keyword">this</span>.statusCode = <span class="built_in">arguments</span>[<span class="number">0</span>];
      chunk = <span class="built_in">arguments</span>[<span class="number">1</span>];
    }
  }

  <span class="comment">// disambiguate res.send(status) and res.send(status, num)</span>
<span class="keyword">if</span> (<span class="keyword">typeof</span> chunk === &amp;apos;<span class="built_in">number</span>&amp;apos; &amp;amp;&amp;amp; <span class="built_in">arguments</span>.length === <span class="number">1</span>) {
    <span class="comment">// res.send(status) will set status message as text string</span>
<span class="keyword">if</span> (!<span class="keyword">this</span>.get(&amp;apos;Content-Type&amp;apos;)) {
      <span class="keyword">this</span>.type(&amp;apos;txt&amp;apos;);
    }

    deprecate(&amp;apos;res.send(status): Use res.status(status).end() instead&amp;apos;);
    <span class="keyword">this</span>.statusCode = chunk;
    chunk = http.STATUS_CODES[chunk];
  }

  <span class="keyword">switch</span> (<span class="keyword">typeof</span> chunk) {
    <span class="comment">// string defaulting to html</span>
<span class="keyword">case</span> &amp;apos;<span class="built_in">string</span>&amp;apos;:
 <span class="keyword">if</span> (!<span class="keyword">this</span>.get(&amp;apos;Content-Type&amp;apos;)) {
        <span class="keyword">this</span>.type(&amp;apos;html&amp;apos;);
      }
      <span class="keyword">break</span>;
    <span class="keyword">case</span> &amp;apos;<span class="built_in">boolean</span>&amp;apos;:
 <span class="keyword">case</span> &amp;apos;<span class="built_in">number</span>&amp;apos;:
 <span class="keyword">case</span> &amp;apos;object&amp;apos;:
 <span class="keyword">if</span> (chunk === <span class="literal">null</span>) {
        chunk = &amp;apos;&amp;apos;;
      } <span class="keyword">else</span> <span class="keyword">if</span> (Buffer.isBuffer(chunk)) {
        <span class="keyword">if</span> (!<span class="keyword">this</span>.get(&amp;apos;Content-Type&amp;apos;)) {
          <span class="keyword">this</span>.type(&amp;apos;bin&amp;apos;);
        }
      } <span class="keyword">else</span> {
        <span class="keyword">return</span> <span class="keyword">this</span>.json(chunk);
      }
      <span class="keyword">break</span>;
  }

  <span class="comment">// write strings in utf-8</span>
<span class="keyword">if</span> (<span class="keyword">typeof</span> chunk === &amp;apos;<span class="built_in">string</span>&amp;apos;) {
    encoding = &amp;apos;utf8&amp;apos;;
    <span class="keyword">type</span> = <span class="keyword">this</span>.get(&amp;apos;Content-Type&amp;apos;);

    <span class="comment">// reflect this in content-type</span>
<span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">type</span> === &amp;apos;<span class="built_in">string</span>&amp;apos;) {
      <span class="keyword">this</span>.set(&amp;apos;Content-Type&amp;apos;, setCharset(<span class="keyword">type</span>, &amp;apos;utf-<span class="number">8</span>&amp;apos;));
    }
  }

  <span class="comment">// populate Content-Length</span>
<span class="keyword">if</span> (chunk !== <span class="literal">undefined</span>) {
    <span class="keyword">if</span> (!Buffer.isBuffer(chunk)) {
      <span class="comment">// convert chunk to Buffer; saves later double conversions</span>
chunk = <span class="keyword">new</span> Buffer(chunk, encoding);
      encoding = <span class="literal">undefined</span>;
    }

    len = chunk.length;
    <span class="keyword">this</span>.set(&amp;apos;Content-Length&amp;apos;, len);
  }

  <span class="comment">// method check</span>
<span class="keyword">var</span> isHead = req.method === &amp;apos;HEAD&amp;apos;;

  <span class="comment">// ETag support</span>
<span class="keyword">if</span> (len !== <span class="literal">undefined</span> &amp;amp;&amp;amp; (isHead || req.method === &amp;apos;GET&amp;apos;)) {
    <span class="keyword">var</span> etag = app.get(&amp;apos;etag fn&amp;apos;);
    <span class="keyword">if</span> (etag &amp;amp;&amp;amp; !<span class="keyword">this</span>.get(&amp;apos;ETag&amp;apos;)) {
      etag = etag(chunk, encoding);
      etag &amp;amp;&amp;amp; <span class="keyword">this</span>.set(&amp;apos;ETag&amp;apos;, etag);
    }
  }

  <span class="comment">// freshness</span>
<span class="keyword">if</span> (req.fresh) <span class="keyword">this</span>.statusCode = <span class="number">304</span>;

  <span class="comment">// strip irrelevant headers</span>
<span class="keyword">if</span> (<span class="number">204</span> == <span class="keyword">this</span>.statusCode || <span class="number">304</span> == <span class="keyword">this</span>.statusCode) {
    <span class="keyword">this</span>.removeHeader(&amp;apos;Content-Type&amp;apos;);
    <span class="keyword">this</span>.removeHeader(&amp;apos;Content-Length&amp;apos;);
    <span class="keyword">this</span>.removeHeader(&amp;apos;Transfer-Encoding&amp;apos;);
    chunk = &amp;apos;&amp;apos;;
  }

  <span class="comment">// skip body for HEAD</span>
<span class="keyword">if</span> (isHead) {
    <span class="keyword">this</span>.end();
  }

  <span class="comment">// respond</span>
<span class="keyword">this</span>.end(chunk, encoding);

  <span class="keyword">return</span> <span class="keyword">this</span>;
};
</code></pre><p>send&#x65B9;&#x6CD5;&#x4E3B;&#x8981;&#x6570;&#x5BF9;&#x8F93;&#x51FA;&#x6570;&#x636E; &#x5408;&#x7406;&#x5B57;&#x7B26;&#x4E32;&#x5316;&#xFF0C;node&#x4E2D;&#x53EA;&#x5141;&#x8BB8;&#x4F20;&#x8F93;Buffer&#x6216;&#x8005;String&#x3002;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Html/">Html</a><a href="/tags/JSONP/">JSONP</a><a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9abf0cd/" title="gulp插件开发手札 -" itemprop="url">gulp插件开发手札 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:15.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>gulp</p>
<p>&#x4E00;&#x4E2A;&#x6BD4;grunt&#x4F7F;&#x7528;&#x66F4;&#x4E3A;&#x7B80;&#x5355;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x6784;&#x5EFA;&#x5DE5;&#x5177;&#xFF0C;Gulp&#x901A;&#x8FC7;&#x6D41;&#x548C;&#x4EE3;&#x7801;&#x4F18;&#x4E8E;&#x914D;&#x7F6E;&#x7B56;&#x7565;&#x6765;&#x5C3D;&#x91CF;&#x7B80;&#x5316;&#x4EFB;&#x52A1;&#x7F16;&#x5199;&#x7684;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x4E0D;&#x5728;&#x8D58;&#x8FF0;gulp&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;&#x6CD5;&#x3002;&#x8BF7;&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li><a href="https://github.com/gulpjs/gulp/blob/master/docs/getting-started.md" target="_blank" rel="external">gulp getting-started</a></li>
<li><a href="http://segmentfault.com/a/1190000000711469" target="_blank" rel="external">gulp&#x9AD8;&#x7EA7;&#x6280;&#x5DE7;</a></li>
<li><a href="http://segmentfault.com/a/1190000002491282" target="_blank" rel="external">gulp vs grunt</a></li>
</ul>
<p>&#x9700;&#x6C42;</p>
<p>&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;gulp&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x63D2;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x538B;&#x7F29;&#xFF0C;md5&#x540E;&#x7F00;&#x7B49;&#x7B49;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x4EC5;&#x5728;&#x79FB;&#x52A8;&#x7AEF;&#x8FD0;&#x884C;&#xFF0C;&#x8003;&#x8651;&#x5230;&#x6027;&#x80FD;&#xFF0C;&#x9700;&#x8981;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;js&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x4E3A;&#x538B;&#x7F29;&#x540E;&#x7684;js&#x6587;&#x4EF6;&#x4F53;&#x79EF;&#x76F8;&#x5BF9;&#x6BD4;&#x8F83;&#xFF0C;&#x60F3;&#x901A;&#x8FC7;&#x521B;&#x5EFA;script&#x6807;&#x7B7E;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x7B49;&#x9875;&#x9762;ready&#x4E86;&#x518D;&#x53BB;&#x52A0;&#x8F7D;js&#x3002;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x4E86;md5&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x6B21;&#x538B;&#x7F29;&#x5B8C;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x90FD;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x800C;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x7684;&#x811A;&#x672C;&#x9700;&#x8981;&#x77E5;&#x9053;&#x538B;&#x7F29;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x60F3;&#x6BCF;&#x6B21;&#x624B;&#x90FD;&#x4FEE;&#x6539;&#x3002;</p>
<p>&#x63D2;&#x4EF6;&#x529F;&#x80FD;</p>
<p>&#x6240;&#x4EE5;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x662F;&#xFF0C;&#x5728;js&#x8FDB;&#x884C;&#x538B;&#x7F29;&#xFF0C;&#x5408;&#x5E76;&#x4EE5;&#x540E;&#xFF0C;&#x5904;&#x7406;&#x9996;&#x9875;html.</p>
<p>&#x9996;&#x5148;&#x8981;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;gulp&#x63D2;&#x4EF6;</p>
<ul>
<li><a href="https://github.com/gulpjs/gulp/blob/master/docs/writing-a-plugin/guidelines.md" target="_blank" rel="external">gulp&#x63D2;&#x4EF6;&#x5F00;&#x53D1;&#x89C4;&#x8303;(&#x82F1;&#x6587;)</a></li>
<li><a href="http://www.u396.com/gulp-plugin-guildlines.html" target="_blank" rel="external">gulp&#x63D2;&#x4EF6;&#x5F00;&#x53D1;&#x89C4;&#x8303;(&#x4E2D;&#x6587;)</a></li>
</ul>
<p>&#x56E0;&#x4E3A;&#x662F;&#x4E2A;&#x5C0F;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4E5F;&#x5C31;&#x6CA1;&#x6709;&#x5355;&#x72EC;&#x5C01;&#x88C5;&#x6210;&#x6A21;&#x5757;&#xFF0C;&#x800C;&#x662F;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x51FD;&#x6570;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;&#xFF1A;</p>
<p> JavaScript</p>
<pre><code><span class="function"><span class="keyword">function</span></span> asyncLoad() {

  console.<span class="built_in">log</span>(&amp;quot;Starting &amp;apos;async load&amp;apos;...&amp;quot;);

  <span class="keyword">return</span> through.obj(<span class="function"><span class="keyword">function</span><span class="params">(file,enc,cb)</span></span>{

    <span class="keyword">if</span>(<span class="keyword">file</span>.isNull()) {

      cb(null,<span class="keyword">file</span>);

    }

    <span class="keyword">if</span> (<span class="keyword">file</span>.isBuffer()) {

      var <span class="type">data</span> = Buffer.concat([<span class="keyword">file</span>.contents]).toString();

      <span class="type">data</span> = <span class="type">data</span>.replace(&amp;apos;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;&amp;apos;, &amp;apos;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;&amp;apos; + statics + &amp;apos;/&amp;apos;);

      <span class="type">data</span> = <span class="type">data</span>.replace(&amp;apos;&amp;lt;img src=&amp;quot;./img/icon.png&amp;quot; style=&amp;quot;width:0px&amp;quot; alt=&amp;quot;&amp;quot;/&amp;gt;&amp;apos;, &amp;apos;&amp;lt;img src=&amp;quot;&amp;apos; +statics + &amp;apos;/img/icon.png&amp;quot; style=&amp;quot;width:0px&amp;quot; alt=&amp;quot;&amp;quot;/&amp;gt;&amp;apos;);

      <span class="type">data</span> = <span class="type">data</span>.replace(&amp;apos;&amp;lt;script src=&amp;quot;js/ionic.<span class="built_in">all</span>&amp;apos;,&amp;apos;&amp;lt;script src=&amp;quot;load.js&amp;quot; id=&amp;quot;asyncLoading&amp;quot; <span class="type">data</span>-asyncLoading=&amp;quot;&amp;apos;+ statics +&amp;apos;/js/ionic.<span class="built_in">all</span>&amp;apos;);

      <span class="type">data</span> = <span class="type">data</span>.replace(&amp;apos;&amp;lt;/head&amp;gt;&amp;apos;, &amp;apos;&amp;lt;script <span class="keyword">type</span>=&amp;quot;text/javascript&amp;quot; src=&amp;quot;http://tajs.qq.com/stats?sId=<span class="number">45760313</span>&amp;quot; charset=&amp;quot;UTF-<span class="number">8</span>&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;\n&amp;lt;/head&amp;gt;&amp;apos;);

      <span class="keyword">file</span>.contents = new Buffer(<span class="type">data</span>);

    }

    <span class="keyword">if</span> (<span class="keyword">file</span>.isStream()) {

        console.<span class="built_in">log</span>(&amp;apos;async load error&amp;apos;);

    }

    cb(null, <span class="keyword">file</span>);

  });

}
</code></pre><p>&#x8BF4;&#x660E;&#xFF1A;</p>
<ul>
<li>&#x9700;&#x8981;&#x5B89;&#x88C5;through2&#x6A21;&#x5757;&#xFF1A; npm install throuth2 &#x2013;save-dev</li>
<li>Node&#x4E2D;buffer&#x7684;&#x4F7F;&#x7528; <ul>
<li><a href="http://blog.chinaunix.net/uid-26672038-id-4173346.html" target="_blank" rel="external">node&#x7684;buffer&#x4ECB;&#x7ECD;</a></li>
<li><a href="https://cnodejs.org/topic/5189ff4f63e9f8a54207f60c" target="_blank" rel="external">&#x6D45;&#x6790;nodejs&#x7684;buffer&#x7C7B;</a></li>
</ul>
</li>
</ul>
<p>&#x4F7F;&#x7528;</p>
<p>&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x8DDF;&#x666E;&#x901A;&#x7684;gulp&#x63D2;&#x4EF6;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4E00;&#x6837;</p>
<p> JavaScript</p>
<pre><code>gulp.task<span class="params">(&amp;apos;usemin&amp;apos;, function<span class="params">(cd)</span> {

  return gulp.src<span class="params">(&amp;apos;./www/index.html&amp;apos;)</span>

    .pipe<span class="params">(usemin<span class="params">({

      css: [minifyCss<span class="params">()</span>, &amp;apos;concat&amp;apos;, rev<span class="params">()</span>],      

      js: [rev<span class="params">()</span>]

    })</span>)</span>

    .pipe<span class="params">(asyncLoad<span class="params">()</span>)</span>

    .pipe<span class="params">(gulp.dest<span class="params">(&amp;apos;./dest/&amp;apos;)</span>)</span>;

})</span>;
</code></pre><p>&#x603B;&#x7ED3;&#xFF1A;</p>
<p>&#x529F;&#x80FD;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5F00;&#x53D1;gulp&#x63D2;&#x4EF6;&#xFF0C;&#x53C2;&#x8003;&#x4E0A;&#x9762;&#x7684;&#x6A21;&#x677F;&#xFF0C;&#x7136;&#x540E;&#x53C2;&#x770B;&#x4E86;&#x4E00;&#x4E9B;gulp&#x5B98;&#x7F51;&#x4E0A;&#x7684;&#x63D2;&#x4EF6;&#x662F;&#x5982;&#x4F55;&#x5199;&#x7684;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x5C31;&#x5B8C;&#x4E86;&#xFF0C;&#x540C;&#x4E8B;&#x9700;&#x8981;&#x77E5;&#x9053;nodejs&#x5982;&#x4F55;&#x64CD;&#x4F5C;buffer&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Gulp/">Gulp</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/9ac6fc1/" title="Node.js异常处理uncaughtException篇 -" itemprop="url">Node.js异常处理uncaughtException篇 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:04:15.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x5F88;&#x591A; NodeJS &#x7684;&#x5F00;&#x53D1;&#x8005;&#x5728;&#x62B1;&#x6028;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x592A;&#x9EBB;&#x70E6;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x5217;&#x535A;&#x5BA2;&#x68B3;&#x7406;&#x4E00;&#x4E0B;NodeJS&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x5F02;&#xFFFD;&#xFFFD;&#xFFFD;&#x5904;&#x7406;&#x7684;&#x624B;&#x6BB5;&#x3002;</p>
<p>&#x548C;&#x5927;&#x591A;&#x6570;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E00;&#x6837;&#xFF0C;&#x5728; NodeJS &#x91CC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; throw &#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#xFF1A; </p>
<pre><code><span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Error</span>(&amp;apos;<span class="keyword">Catch</span> <span class="keyword">me</span>&amp;apos;);
</code></pre><p>&#x4E3A;&#x4E86;&#x6355;&#x83B7;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#x9700;&#x8981;&#x628A;&#x4EE3;&#x7801;&#x5305;&#x5728; Try Catch &#x4E2D;&#xFF1A; </p>
<pre><code><span class="keyword">try</span>{
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(&amp;apos;<span class="keyword">Catch</span> me&amp;apos;);
}<span class="keyword">catch</span>(e){
    // <span class="built_in">error</span> captured
}
</code></pre><p>&#x7136;&#x800C;&#xFF0C;&#x7531;&#x4E8E; NodeJS &#x7684;&#x5F02;&#x6B65;&#x7279;&#x6027;&#xFF0C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x53EA;&#x9700;&#x7A0D;&#x52A0;&#x6539;&#x9020;&#x5C31;&#x4F1A;&#x5931;&#x6548;&#xFF1A;</p>
<pre><code><span class="keyword">try</span>{
    process.nextTick(<span class="function"><span class="keyword">function</span> <span class="title">my_app</span>(<span class="params"></span>)</span>{
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(&amp;apos;Catch me&amp;apos;);
    })
}<span class="keyword">catch</span>(e){
    <span class="comment">// never called</span>
}
</code></pre><p>&#x5728;&#x73B0;&#x5B9E;&#x4E16;&#x754C;&#x91CC;&#xFF0C;&#x5F02;&#x5E38;&#x603B;&#x662F;&#x4F1A;&#x4EA7;&#x751F;&#x5728;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x4E2D;&#x3002;&#x6240;&#x8C13;&#x6A21;&#x5757;&#x5C31;&#x662F;&#x80FD;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x7684;&#x5355;&#x5143;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x51FD;&#x6570;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x770B;&#x505A;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x3002;&#x968F;&#x7740;&#x9879;&#x76EE;&#x4EE3;&#x7801;&#x884C;&#x6570;&#x589E;&#x591A;&#xFF0C;&#x5F02;&#x6B65;&#x5D4C;&#x5957;&#x7684;&#x590D;&#x6742;&#x6027;&#x52A0;&#x5F3A;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x6709;&#x5F02;&#x5E38;&#x6CA1;&#x6355;&#x83B7;&#x7684;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#x3002;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x5F88;&#x5F3A;&#x5065;&#x58EE;&#x6027;&#x7684; NodeJS &#x5E94;&#x7528;&#xFF0C;&#x4F1A;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x672A;&#x6355;&#x83B7;&#x7684;&#x5F02;&#x5E38;&#x5C31;&#x6574;&#x4E2A;&#x6302;&#x6389;&#xFF0C;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#x3002;&#x8981;&#x6539;&#x53D8;&#x5927;&#x5BB6;&#x89C9;&#x5F97;NodeJS&#x662F;&#x8106;&#x5F31;&#x7684;&#x8FD9;&#x4E2A;&#x8BA4;&#x8BC6;&#xFF0C;&#x9700;&#x8981;&#x5F00;&#x53D1;&#x8005;&#x52A0;&#x6DF1;&#x5BF9;&#x8FD9;&#x95E8;&#x8BED;&#x8A00;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x673A;&#x5236;&#x7684;&#x4E86;&#x89E3;&#x3002;</p>
<h3 id="uncaughtException">uncaughtException</h3><p>uncaughtException &#x5176;&#x5B9E;&#x662F; NodeJS &#x8FDB;&#x7A0B;&#x7684;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x91CC;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x800C;&#x6CA1;&#x6709;&#x88AB;&#x4EFB;&#x4F55; Try Catch &#x6355;&#x83B7;&#x4F1A;&#x89E6;&#x53D1;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;&#x4E3A;&#x4E86;&#x7B80;&#x5316;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x5148;&#x770B;&#x770B;&#x540C;&#x6B65;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x4F8B;&#x5B50;&#x3002; </p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">external</span><span class="params">()</span> </span>{
    <span class="keyword">throw</span> <span class="keyword">new</span> Error(&amp;apos;Catch me&amp;apos;);
}
<span class="function"><span class="keyword">function</span> <span class="title">internal</span><span class="params">()</span> </span>{
    external();
}
<span class="keyword">internal</span>(); <span class="comment">//error will be thrown</span>
</code></pre><p>&#x5728;&#x547D;&#x4EE4;&#x884C;&#x91CC;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#x811A;&#x672C;&#x4F1A;&#x5728;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x7684;&#x90A3;&#x4E00;&#x884C;&#x4E2D;&#x65AD;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x7531;&#x4E8E;&#x6CA1;&#x6709; Try Catch &#xFF0C;&#x5F02;&#x5E38;&#x4F1A;&#x4E00;&#x76F4;&#x5192;&#x6CE1;&#x76F4;&#x5230;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4E3A;&#x6B62;&#xFF0C;&#x800C;NodeJS&#x5BF9;&#x5F02;&#x5E38;&#x7684;&#x9ED8;&#x8BA4;&#x5904;&#x7406;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x5904;&#x7406;&#x7684;&#x4EE3;&#x7801; <em>&#x7C7B;&#x4F3C;</em> &#x4E8E;&#xFF1A; </p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">_MyFatalException</span><span class="params">(err)</span>{</span>
    <span class="keyword">if</span><span class="params">(!process.emit<span class="params">(&amp;apos;uncaughtException&amp;apos;,err)</span>)</span>{
        console.error<span class="params">(err.stack)</span>;
        process.emit<span class="params">(&amp;apos;exit&amp;apos;,<span class="number">1</span>)</span>;
    }
}
</code></pre><p>NodeJS&#x5BF9;&#x4E8E;&#x672A;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x7684;&#x9ED8;&#x8BA4;&#x5904;&#x7406;&#x662F;&#xFF1A; - &#x89E6;&#x53D1; uncaughtException &#x4E8B;&#x4EF6; - &#x5982;&#x679C; uncaughtException &#x6CA1;&#x6709;&#x88AB;&#x76D1;&#x542C;&#xFF0C;&#x90A3;&#x4E48; - &#x6253;&#x5370;&#x5F02;&#x5E38;&#x7684;&#x5806;&#x6808;&#x4FE1;&#x606F; - &#x89E6;&#x53D1;&#x8FDB;&#x7A0B;&#x7684; exit &#x4E8B;&#x4EF6; </p>
<p>&#x5982;&#x679C;&#x4F60;&#x6B63;&#x5728;&#x7528; NodeJS &#x5F00;&#x53D1;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x80AF;&#x5B9A;&#x4E0D;&#x5E0C;&#x671B;&#x5076;&#x7136;&#x7684;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x8BA9;&#x6574;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x6302;&#x6389;&#x3002;&#x90A3;&#x4E48;&#x662F;&#x4E0D;&#x662F;&#x53EA;&#x8981;&#x76D1;&#x542C;&#x4E86; uncaughtException &#x5C31;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x5462;&#xFF1F; &#x7B54;&#x6848;&#x662F;&#x53EF;&#x4EE5;&#xFF0C; <strong>&#x4F46;&#x662F;&#x4E0D;&#x8981;&#x8FD9;&#x4E48;&#x505A;&#xFF01;</strong> &#x3002;&#x770B;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; </p>
<pre><code><span class="keyword">var</span> express = require(&amp;apos;express&amp;apos;);
<span class="function"><span class="keyword">function</span> <span class="title">external</span><span class="params">(cb)</span> </span>{
    process.nextTick(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{
        <span class="keyword">throw</span> <span class="keyword">new</span> Error();
        cb.call(<span class="literal">null</span>, &amp;apos;sunny&amp;apos;);
    })
}
<span class="keyword">var</span> app = express();
app.<span class="keyword">get</span>(&amp;apos;/weather&amp;apos;, <span class="function"><span class="keyword">function</span> <span class="params">(req, res)</span> </span>{
    external(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>{
        res.end(&amp;apos;Weather of Beijing <span class="keyword">is</span> &amp;apos; + data);
    })
})
app.listen(<span class="number">8018</span>);
<span class="function"><span class="keyword">function</span> <span class="title">noop</span><span class="params">()</span></span>{}
process.on(&amp;apos;uncaughtException&amp;apos;, noop)
</code></pre><p>&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x5047;&#x8BBE;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x7AD9;&#x70B9;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5F53;&#x5730;&#x7684;&#x5929;&#x6C14;&#xFF0C;&#x6211;&#x4EEC;&#x7528; apache2-utils &#x6765;&#x6A21;&#x62DF;&#x8BF7;&#x6C42; </p>
<p>ab -n 1000 -c 20 <a href="http://localhost:8018/weather" target="_blank" rel="external">http://localhost:8018/weather</a></p>
<p>&#x7CDF;&#x7CD5;&#xFF01;&#x8BF7;&#x6C42;&#x4E00;&#x76F4;&#x5728;&#x7B49;&#x5F85;&#xFF0C;&#x5185;&#x5B58;&#x4E0A;&#x6DA8;&#x3002;&#x539F;&#x56E0;&#x5728;&#x4E8E; res.end &#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x73B0;&#x6709;&#x7684; I/O &#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5DF2;&#x7ECF;&#x5F00;&#x8F9F;&#x7684;&#x8D44;&#x6E90;&#x4E0D;&#x4EC5;&#x4E0D;&#x4F1A;&#x88AB;&#x91CA;&#x653E;&#xFF0C;&#x800C;&#x4E14;&#x670D;&#x52A1;&#x5668;&#x8FD8;&#x5728;&#x4E0D;&#x77E5;&#x75B2;&#x5026;&#x5730;&#x63A5;&#x53D7;&#x65B0;&#x7684;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x3002; </p>
<p>&#x5728; NodeJS &#x4E2D;&#x5904;&#x7406;&#x5F02;&#x5E38;&#x662F;&#x4EE3;&#x4EF7;&#x9AD8;&#x6602;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x4E00;&#x4E0D;&#x5C0F;&#x5FC3;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#x548C;&#x8BA9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5904;&#x4E8E;&#x4E0D;&#x7A33;&#x5B9A;&#x7684;&#x72B6;&#x6001;&#x3002;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x5065;&#x58EE;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528; Cluster &#x6A21;&#x5F0F;&#xFF0C;&#x7531;&#x4E4B;&#x800C;&#x6765;&#x7684;&#x63A8;&#x8350;&#x505A;&#x6CD5;&#x662F;&#xFF1A; - &#x9488;&#x5BF9;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x7684;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x4EE3;&#x7801; - &#x51FA;&#x9519;&#x7684;Worker&#x4E0D;&#x518D;&#x63A5;&#x53D7;&#x65B0;&#x7684;&#x8BF7;&#x6C42; - &#x9000;&#x51FA;&#x5173;&#x95ED;Worker&#x8FDB;&#x7A0B; </p>
<p>CentOS&#x7F16;&#x8BD1;&#x5B89;&#x88C5;MongoDB <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2012-02/53834.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-02/53834.htm</a></p>
<p>CentOS &#x7F16;&#x8BD1;&#x5B89;&#x88C5; MongoDB&#x4E0E;mongoDB&#x7684;php&#x6269;&#x5C55; <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2012-02/53833.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-02/53833.htm</a></p>
<p>CentOS 6 &#x4F7F;&#x7528; yum &#x5B89;&#x88C5;MongoDB&#x53CA;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x914D;&#x7F6E; <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2012-08/68196.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-08/68196.htm</a></p>
<p>Ubuntu 13.04&#x4E0B;&#x5B89;&#x88C5;MongoDB2.4.3 <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2013-05/84227.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2013-05/84227.htm</a></p>
<p>MongoDB&#x5165;&#x95E8;&#x5FC5;&#x8BFB;(&#x6982;&#x5FF5;&#x4E0E;&#x5B9E;&#x6218;&#x5E76;&#x91CD;) <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2013-07/87105.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2013-07/87105.htm</a></p>
<p>Ubunu 14.04&#x4E0B;MongoDB&#x7684;&#x5B89;&#x88C5;&#x6307;&#x5357; <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2014-08/105364.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2014-08/105364.htm</a></p>
<p>&#x300A;MongoDB &#x6743;&#x5A01;&#x6307;&#x5357;&#x300B;(MongoDB: The Definitive Guide)&#x82F1;&#x6587;&#x6587;&#x5B57;&#x7248;[PDF] <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2012-07/66735.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2012-07/66735.htm</a></p>
<p>Nagios&#x76D1;&#x63A7;MongoDB&#x5206;&#x7247;&#x96C6;&#x7FA4;&#x670D;&#x52A1;&#x5B9E;&#x6218; <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2014-10/107826.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2014-10/107826.htm</a></p>
<p>&#x57FA;&#x4E8E;CentOS 6.5&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x642D;&#x5EFA;MongoDB&#x670D;&#x52A1;<a href="http://www.lin" target="_blank" rel="external">http://www.lin</a> <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2014-11/108900.htm" target="_blank" rel="external">uxidc.com/Linux/2014-11/108900.htm</a></p>
<p> <strong>MongoDB &#x7684;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;</strong> &#xFF1A;&#x8BF7;&#x70B9;&#x8FD9;&#x91CC; </p>
<p> <strong>MongoDB &#x7684;&#x4E0B;&#x8F7D;&#x5730;&#x5740;</strong> &#xFF1A;&#x8BF7;&#x70B9;&#x8FD9;&#x91CC; </p>
<p> <strong>&#x672C;&#x6587;&#x6C38;&#x4E45;&#x66F4;&#x65B0;&#x94FE;&#x63A5;&#x5730;&#x5740;</strong> &#xFF1A; <a href="http://www.linuxidc.com/Linux/2015-06/../../Linux/2015-06/118849.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2015-06/118849.htm</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/MongoDB/">MongoDB</a><a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/6bb6a51/" title="gulp插件开发手札 -" itemprop="url">gulp插件开发手札 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:02:56.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>gulp</p>
<p>&#x4E00;&#x4E2A;&#x6BD4;grunt&#x4F7F;&#x7528;&#x66F4;&#x4E3A;&#x7B80;&#x5355;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x6784;&#x5EFA;&#x5DE5;&#x5177;&#xFF0C;Gulp&#x901A;&#x8FC7;&#x6D41;&#x548C;&#x4EE3;&#x7801;&#x4F18;&#x4E8E;&#x914D;&#x7F6E;&#x7B56;&#x7565;&#x6765;&#x5C3D;&#x91CF;&#x7B80;&#x5316;&#x4EFB;&#x52A1;&#x7F16;&#x5199;&#x7684;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x4E0D;&#x5728;&#x8D58;&#x8FF0;gulp&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;&#x6CD5;&#x3002;&#x8BF7;&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li><a href="https://github.com/gulpjs/gulp/blob/master/docs/getting-started.md" target="_blank" rel="external">gulp getting-started</a></li>
<li><a href="http://segmentfault.com/a/1190000000711469" target="_blank" rel="external">gulp&#x9AD8;&#x7EA7;&#x6280;&#x5DE7;</a></li>
<li><a href="http://segmentfault.com/a/1190000002491282" target="_blank" rel="external">gulp vs grunt</a></li>
</ul>
<p>&#x9700;&#x6C42;</p>
<p>&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;gulp&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x63D2;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x538B;&#x7F29;&#xFF0C;md5&#x540E;&#x7F00;&#x7B49;&#x7B49;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x4EC5;&#x5728;&#x79FB;&#x52A8;&#x7AEF;&#x8FD0;&#x884C;&#xFF0C;&#x8003;&#x8651;&#x5230;&#x6027;&#x80FD;&#xFF0C;&#x9700;&#x8981;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;js&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x4E3A;&#x538B;&#x7F29;&#x540E;&#x7684;js&#x6587;&#x4EF6;&#x4F53;&#x79EF;&#x76F8;&#x5BF9;&#x6BD4;&#x8F83;&#xFF0C;&#x60F3;&#x901A;&#x8FC7;&#x521B;&#x5EFA;script&#x6807;&#x7B7E;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x7B49;&#x9875;&#x9762;ready&#x4E86;&#x518D;&#x53BB;&#x52A0;&#x8F7D;js&#x3002;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x4E86;md5&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x6B21;&#x538B;&#x7F29;&#x5B8C;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x90FD;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x800C;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x7684;&#x811A;&#x672C;&#x9700;&#x8981;&#x77E5;&#x9053;&#x538B;&#x7F29;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x60F3;&#x6BCF;&#x6B21;&#x624B;&#x90FD;&#x4FEE;&#x6539;&#x3002;</p>
<p>&#x63D2;&#x4EF6;&#x529F;&#x80FD;</p>
<p>&#x6240;&#x4EE5;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x662F;&#xFF0C;&#x5728;js&#x8FDB;&#x884C;&#x538B;&#x7F29;&#xFF0C;&#x5408;&#x5E76;&#x4EE5;&#x540E;&#xFF0C;&#x5904;&#x7406;&#x9996;&#x9875;html.</p>
<p>&#x9996;&#x5148;&#x8981;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;gulp&#x63D2;&#x4EF6;</p>
<ul>
<li><a href="https://github.com/gulpjs/gulp/blob/master/docs/writing-a-plugin/guidelines.md" target="_blank" rel="external">gulp&#x63D2;&#x4EF6;&#x5F00;&#x53D1;&#x89C4;&#x8303;(&#x82F1;&#x6587;)</a></li>
<li><a href="http://www.u396.com/gulp-plugin-guildlines.html" target="_blank" rel="external">gulp&#x63D2;&#x4EF6;&#x5F00;&#x53D1;&#x89C4;&#x8303;(&#x4E2D;&#x6587;)</a></li>
</ul>
<p>&#x56E0;&#x4E3A;&#x662F;&#x4E2A;&#x5C0F;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4E5F;&#x5C31;&#x6CA1;&#x6709;&#x5355;&#xFFFD;&#xFFFD;&#xFFFD;&#x5C01;&#x88C5;&#x6210;&#x6A21;&#x5757;&#xFF0C;&#x800C;&#x662F;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x51FD;&#x6570;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;&#xFF1A;</p>
<p> JavaScript</p>
<pre><code><span class="function"><span class="keyword">function</span></span> asyncLoad() {

  console.<span class="built_in">log</span>(&amp;quot;Starting &amp;apos;async load&amp;apos;...&amp;quot;);

  <span class="keyword">return</span> through.obj(<span class="function"><span class="keyword">function</span><span class="params">(file,enc,cb)</span></span>{

    <span class="keyword">if</span>(<span class="keyword">file</span>.isNull()) {

      cb(null,<span class="keyword">file</span>);

    }

    <span class="keyword">if</span> (<span class="keyword">file</span>.isBuffer()) {

      var <span class="type">data</span> = Buffer.concat([<span class="keyword">file</span>.contents]).toString();

      <span class="type">data</span> = <span class="type">data</span>.replace(&amp;apos;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;&amp;apos;, &amp;apos;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;&amp;apos; + statics + &amp;apos;/&amp;apos;);

      <span class="type">data</span> = <span class="type">data</span>.replace(&amp;apos;&amp;lt;img src=&amp;quot;./img/icon.png&amp;quot; style=&amp;quot;width:0px&amp;quot; alt=&amp;quot;&amp;quot;/&amp;gt;&amp;apos;, &amp;apos;&amp;lt;img src=&amp;quot;&amp;apos; +statics + &amp;apos;/img/icon.png&amp;quot; style=&amp;quot;width:0px&amp;quot; alt=&amp;quot;&amp;quot;/&amp;gt;&amp;apos;);

      <span class="type">data</span> = <span class="type">data</span>.replace(&amp;apos;&amp;lt;script src=&amp;quot;js/ionic.<span class="built_in">all</span>&amp;apos;,&amp;apos;&amp;lt;script src=&amp;quot;load.js&amp;quot; id=&amp;quot;asyncLoading&amp;quot; <span class="type">data</span>-asyncLoading=&amp;quot;&amp;apos;+ statics +&amp;apos;/js/ionic.<span class="built_in">all</span>&amp;apos;);

      <span class="type">data</span> = <span class="type">data</span>.replace(&amp;apos;&amp;lt;/head&amp;gt;&amp;apos;, &amp;apos;&amp;lt;script <span class="keyword">type</span>=&amp;quot;text/javascript&amp;quot; src=&amp;quot;http://tajs.qq.com/stats?sId=<span class="number">45760313</span>&amp;quot; charset=&amp;quot;UTF-<span class="number">8</span>&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;\n&amp;lt;/head&amp;gt;&amp;apos;);

      <span class="keyword">file</span>.contents = new Buffer(<span class="type">data</span>);

    }

    <span class="keyword">if</span> (<span class="keyword">file</span>.isStream()) {

        console.<span class="built_in">log</span>(&amp;apos;async load error&amp;apos;);

    }

    cb(null, <span class="keyword">file</span>);

  });

}
</code></pre><p>&#x8BF4;&#x660E;&#xFF1A;</p>
<ul>
<li>&#x9700;&#x8981;&#x5B89;&#x88C5;through2&#x6A21;&#x5757;&#xFF1A; npm install throuth2 &#x2013;save-dev</li>
<li>Node&#x4E2D;buffer&#x7684;&#x4F7F;&#x7528; <ul>
<li><a href="http://blog.chinaunix.net/uid-26672038-id-4173346.html" target="_blank" rel="external">node&#x7684;buffer&#x4ECB;&#x7ECD;</a></li>
<li><a href="https://cnodejs.org/topic/5189ff4f63e9f8a54207f60c" target="_blank" rel="external">&#x6D45;&#x6790;nodejs&#x7684;buffer&#x7C7B;</a></li>
</ul>
</li>
</ul>
<p>&#x4F7F;&#x7528;</p>
<p>&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x8DDF;&#x666E;&#x901A;&#x7684;gulp&#x63D2;&#x4EF6;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4E00;&#x6837;</p>
<p> JavaScript</p>
<pre><code>gulp.task<span class="params">(&amp;apos;usemin&amp;apos;, function<span class="params">(cd)</span> {

  return gulp.src<span class="params">(&amp;apos;./www/index.html&amp;apos;)</span>

    .pipe<span class="params">(usemin<span class="params">({

      css: [minifyCss<span class="params">()</span>, &amp;apos;concat&amp;apos;, rev<span class="params">()</span>],      

      js: [rev<span class="params">()</span>]

    })</span>)</span>

    .pipe<span class="params">(asyncLoad<span class="params">()</span>)</span>

    .pipe<span class="params">(gulp.dest<span class="params">(&amp;apos;./dest/&amp;apos;)</span>)</span>;

})</span>;
</code></pre><p>&#x603B;&#x7ED3;&#xFF1A;</p>
<p>&#x529F;&#x80FD;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5F00;&#x53D1;gulp&#x63D2;&#x4EF6;&#xFF0C;&#x53C2;&#x8003;&#x4E0A;&#x9762;&#x7684;&#x6A21;&#x677F;&#xFF0C;&#x7136;&#x540E;&#x53C2;&#x770B;&#x4E86;&#x4E00;&#x4E9B;gulp&#x5B98;&#x7F51;&#x4E0A;&#x7684;&#x63D2;&#x4EF6;&#x662F;&#x5982;&#x4F55;&#x5199;&#x7684;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x5C31;&#x5B8C;&#x4E86;&#xFF0C;&#x540C;&#x4E8B;&#x9700;&#x8981;&#x77E5;&#x9053;nodejs&#x5982;&#x4F55;&#x64CD;&#x4F5C;buffer&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Gulp/">Gulp</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/2ddbaf1/" title="在业余项目使用 Node.js -" itemprop="url">在业余项目使用 Node.js -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:01:12.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="&#x672C;&#x6587;&#x662F;&#x7FFB;&#x8BD1;&#xFF0C;&#x7248;&#x6743;&#x5F52;&#x539F;&#x4F5C;&#x8005;&#x6240;&#x6709;">&#x672C;&#x6587;&#x662F;&#x7FFB;&#x8BD1;&#xFF0C;&#x7248;&#x6743;&#x5F52;&#x539F;&#x4F5C;&#x8005;&#x6240;&#x6709;</h4><ul>
<li>&#x539F;&#x6587;&#x5730;&#x5740;&#xFF08;original source&#xFF09;&#xFF1A; <a href="http://jkchu.com/2015/06/23/node-js-for-side-projects/" target="_blank" rel="external">http://jkchu.com/2015/06/23/node-js-for-side-projects/</a></li>
</ul>
<p>&#x6709;&#x4E00;&#x79CD;&#x4E1C;&#x897F;&#xFF0C;&#x628A;&#x8F6F;&#x4EF6;&#x884C;&#x4E1A;&#x7684;&#x4EBA;&#x4EEC;&#x8054;&#x7CFB;&#x5728;&#x4E86;&#x4E00;&#x8D77;&#xFF1A;&#x6211;&#x4EEC;&#x559C;&#x6B22;&#x521B;&#x9020;&#x80FD;&#x591F;&#x8FD0;&#x884C;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x3001;&#x6216;&#x521A;&#x597D;&#x7B26;&#x5408;&#x9884;&#x671F;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x662F;&#x6700;&#x8BA9;&#x4EBA;&#x6EE1;&#x610F;&#x7684;&#x3002;&#x5BF9;&#x4E8E;&#x6211;&#x7684;&#x4E1A;&#x4F59;&#x9879;&#x76EE;&#xFF08;side projects&#xFF09;&#xFF0C;&#x6211;&#x70ED;&#x7231;&#x5B66;&#x4E60;&#x65B0;&#x6846;&#x67B6;&#x3001;&#x6280;&#x672F;&#x548C;&#x8BED;&#x8A00;&#x3002;&#x4F46;&#x662F;&#x5230;&#x4E86;&#x6700;&#x540E;&#xFF0C;&#x6700;&#x6709;&#x6536;&#x83B7;&#x548C;&#x6B23;&#x6170;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x662F;&#x5B8C;&#x6210;&#x4E86;&#x9879;&#x76EE;&#x5E76;&#x5BF9;&#x5916;&#x53D1;&#x5E03;&#x4E86;&#x67D0;&#x4E9B;&#x4E1C;&#x897F;&#x3002;&#x8001;&#x5B9E;&#x8BB2;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6709;&#x5168;&#x804C;&#x5DE5;&#x4F5C;&#xFF0C; <a href="http://www.labazhou.net/2014/09/work-life-imbalance/" target="_blank" rel="external">&#x62C5;&#x5FC3;&#x953B;&#x70BC;&#x8EAB;&#x4F53;&#x3001;&#x6742;&#x4E8B;&#x548C;&#x53EF;&#x80FD;&#x8FD8;&#x8981;&#x7761;&#x89C9;</a> &#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x5E38;&#x5E38;&#x96BE;&#x4EE5;&#x627E;&#x5230;&#x5B8C;&#x6210;&#x4E1A;&#x4F59;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5F53;&#x6211;&#x8C08;&#x5230;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x65F6;&#xFF0C;&#x4F60;&#x4F1A;&#x7406;&#x89E3;&#x7684;&#x3002;&#x501F;&#x52A9;&#x63D0;&#x524D;&#x89C4;&#x5212;&#xFF0C;&#x6216;&#x8BB8;&#x5229;&#x7528;&#x4E00;&#x4E9B;&#x4E0D;&#x9519;&#x7684;&#x9879;&#x76EE;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x81EA;&#x5DF1;&#x3002;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x6280;&#x672F;&#x6808;&#x600E;&#x4E48;&#x6837;&#xFF1F;&#x5982;&#x679C;&#x5B8C;&#x6210;&#x5E76;&#x53D1;&#x5E03;&#x9879;&#x76EE;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x90A3;&#x4E48;&#x6311;&#x9009;&#x4E00;&#x79CD;&#x80FD;&#x591F;&#x8F83;&#x597D;&#x9002;&#x5E94;&#x5FEB;&#x901F;&#x5F00;&#x53D1;&#x7684;&#x6280;&#x672F;&#x6808;&#x5C31;&#x663E;&#x5F97;&#x5341;&#x5206;&#x91CD;&#x8981;&#x4E86;&#x3002; </p>
<p><a href="https://nodejs.org/" target="_blank" rel="external">Node.js</a> &#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x6D41;&#x884C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5E73;&#x53F0;&#xFF0C;&#x7528;&#x4F5C;&#x5F88;&#x591A;&#x73B0;&#x4EE3; web &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684; web &#x670D;&#x52A1;&#x5668;&#x3002;&#x5728;&#x5F00;&#x53D1; Node.js &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x4F60;&#x5C06;&#x4F7F;&#x7528; JavaScript &#x7F16;&#x5199;&#x6240;&#x6709;&#x4E1C;&#x897F;&#xFF0C;&#x8FD8;&#x80FD;&#x591F;&#x5728;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF08;Windows&#x3001;Mac &#x6216; Linux&#xFF09;&#x4E0A;&#x8FD0;&#x884C;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;Node.js &#x7531;&#x5927;&#x91CF;&#x7684;&#x9650;&#x5B9A;&#x8303;&#x56F4;&#x7684;&#x6A21;&#x5757;&#xFF08;module&#xFF09; &#x548C; &#x5305;&#xFF08;package&#xFF09; &#x7EC4;&#x6210;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x4EEC;&#x5229;&#x7528;&#x8D77;&#x6765;&#x3002;&#x5C3D;&#x7BA1;&#x5982;&#x6B64;&#xFF0C;&#x4F60;&#x6700;&#x597D;&#x53D6;&#x4F60;&#x6240;&#x9700;&#xFF0C;&#x786E;&#x4FDD;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C3D;&#x53EF;&#x80FD;&#x5730;&#x8F7B;&#x91CF;&#x7EA7;&#x3002;&#x5728;&#x4E00;&#x5929;&#x7ED3;&#x675F;&#x65F6;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x4EAB;&#x53D7;&#x4E1A;&#x4F59;&#x9879;&#x76EE;&#xFF0C;Node.js &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5199;&#x8D77;&#x6765;&#x6BD4;&#x8F83;&#x6709;&#x4E50;&#x8DA3;&#x3002; </p>
<h3 id="1-Node-js_&#x7A76;&#x7ADF;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;">1.Node.js &#x7A76;&#x7ADF;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</h3><p>Node.js &#x672C;&#x8EAB;&#x53EA;&#x662F;&#x4E00;&#x79CD;&#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;&#xFF0C;&#x9002;&#x5408;&#x4F7F;&#x7528; JavaScript &#x6765;&#x7F16;&#x5199;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; Node.js &#x4E0D;&#x662F; JavaScript &#x6846;&#x67B6;&#xFF0C;&#x4F46;&#x662F;&#x5927;&#x90E8;&#x5206; Node.js &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x4E86;&#x6846;&#x67B6; &#x3002; <a href="http://expressjs.com/" target="_blank" rel="external">Express.js</a> &#x662F;&#x6700;&#x53D7;&#x6B22;&#x8FCE;&#x7684; Node.js &#x6846;&#x67B6;&#xFF0C;&#x6709;&#x7740;&#x51FA;&#x8272;&#x7684;&#x6587;&#x6863;&#x548C;&#x6D77;&#x91CF;&#x7684;&#x4F18;&#x79C0;&#x8D44;&#x6E90;&#x3002;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E; Node.js web &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6808;&#x800C;&#x8A00;&#xFF0C;&#x4F60;&#x5E94;&#x5B89;&#x88C5; Node.js &#x548C; Express.js &#x6765;&#x8FD0;&#x884C;&#x4F60;&#x7684; web &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD9;&#x5C06;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x5FEB;&#x901F;&#x3001;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x4E2D;&#x95F4;&#x4EBA;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x5728;&#x4F60;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x95F4;&#x8FC5;&#x901F;&#x5730;&#x4F20;&#x9012;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x3002; </p>
<h3 id="2-&#x4F60;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;_Node-js_&#x7684;&#x573A;&#x666F;">2.&#x4F60;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; Node.js &#x7684;&#x573A;&#x666F;</h3><p>&#x5728;&#x6211;&#x4EEC;&#x6DF1;&#x5165; Node.js &#x5F00;&#x53D1;&#x7684;&#x7CBE;&#x5F69;&#x90E8;&#x5206;&#x4E4B;&#x524D;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x8BF4;&#x6E05;&#x695A;&#x4F60;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; Node.js &#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x8981;&#x5F00;&#x53D1;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6D89;&#x53CA;&#x5230; CPU &#x5BC6;&#x96C6;&#x578B;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4F60;&#x5C31;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; Node.js&#x3002;Node.js &#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x7684;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;&#x8981;&#x8017;&#x8D39;&#x592A;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x4F1A;&#x62D6;&#x57AE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6027;&#x80FD;&#x3002;&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4EFB;&#x4F55;&#x79CD;&#x7C7B;&#x7684;&#x5927;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x90FD;&#x4E0D;&#x5E94;&#x8BE5;&#x5904;&#x7406;&#x5B83;&#x4EEC;&#x3002;&#x8981;&#x4E48;&#x628A;&#x8FD9;&#x90E8;&#x5206;&#x5DE5;&#x4F5C;&#x8F6C;&#x79FB;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8981;&#x4E48;&#x7C97;&#x66B4;&#x5730;&#x5207;&#x6362;&#x5230;&#x66F4;&#x9002;&#x5408;&#x7684;&#x5E73;&#x53F0;&#x4E0A;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x559C;&#x6B22; JavaScript &#x5F00;&#x53D1;&#xFF0C;&#x4F60;&#x5C31;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; Node.js&#x3002;&#x4F60;&#x5E94;&#x8BE5;&#x4EAB;&#x53D7;&#x4E1A;&#x4F59;&#x9879;&#x76EE;&#xFF0C;&#x4E0D;&#x8981;&#x56E0;&#x4E3A;&#x7F51;&#x4E0A;&#x6709;&#x4EBA;&#x544A;&#x8BC9;&#x4F60;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x5C31;&#x628A;&#x4E0D;&#x6109;&#x5FEB;&#x7684;&#x4E1C;&#x897F;&#x5F3A;&#x52A0;&#x7ED9;&#x81EA;&#x5DF1;&#x3002;&#x4F46;&#x662F;&#x5728;&#x4F60;&#x653E;&#x5F03;&#x4E4B;&#x524D;&#xFF0C;&#x542C;&#x6211;&#x628A;&#x8BDD;&#x8BF4;&#x5B8C;&#xFF0C;&#x6211;&#x9047;&#x5230;&#x8FC7;&#x5F88;&#x591A;&#x4EBA;&#xFF0C;&#x4ED6;&#x4EEC;&#x6F20;&#x89C6;&#x7740; JavaScript&#xFF0C;&#x751A;&#x81F3;&#x6CA1;&#x6709;&#x7ED9; JavaScript &#x4E00;&#x4E2A;&#x516C;&#x5E73;&#x7684;&#x673A;&#x4F1A;&#x3002;&#x521A;&#x5F00;&#x59CB;&#x65F6;&#xFF0C;JavaScript &#x8C8C;&#x4F3C;&#x72C2;&#x91CE;&#x3001;&#x96BE;&#x4EE5;&#x9A7E;&#x9A6D;&#xFF0C;&#x4E0D;&#x8FC7;&#x5F53;&#x4F60;&#x5B66;&#x4F1A;&#x4E86;&#x5982;&#x4F55;&#x6B63;&#x786E;&#x5730;&#x4F7F;&#x7528;&#xFF0C;&#x4F60;&#x5C31;&#x80FD;&#x770B;&#x5230;&#x5B83;&#x7684;&#x529B;&#x91CF;&#x6709;&#x591A;&#x5927;&#x4E86;&#x3002;JavaScript &#x662F;&#x5E94;&#x7528;&#x6700;&#x5E7F;&#x6CDB;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E4B;&#x4E00;&#xFF0C;&#x968F;&#x7740; <a href="https://github.com/lukehoban/es6features" target="_blank" rel="external">ECMAScript 6</a> &#x7684;&#x53D1;&#x5E03;&#xFF0C;&#x5B83;&#x5C06;&#x53D8;&#x5F97;&#x66F4;&#x597D;&#x3002; </p>
<h3 id="3-JavaScript_&#x2014;&#x2014;&#x524D;&#x7AEF;&#x548C;&#x540E;&#x7AEF;">3.JavaScript &#x2014;&#x2014;&#x524D;&#x7AEF;&#x548C;&#x540E;&#x7AEF;</h3><p>&#x8BA9;&#x6211;&#x4EEC;&#x6DF1;&#x5165;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#xFF0C;Node.js &#x6700;&#x5927;&#x5316;&#x4F60;&#x7684;&#x4E1A;&#x4F59;&#x9879;&#x76EE;&#x751F;&#x4EA7;&#x529B;&#x7684;&#x65B9;&#x5F0F;&#x3002;JavaScript &#x5DF2;&#x7ECF;&#x63A5;&#x7BA1;&#x4E86;&#x4E92;&#x8054;&#x7F51;&#xFF0C;&#x4E0D;&#x518D;&#x5355;&#x7EAF;&#x7528;&#x4E8E;&#x7410;&#x788E;&#x529F;&#x80FD;&#x3002;&#x5BF9;&#x4E8E;&#x5F88;&#x591A;&#x73B0;&#x4EE3; web &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x8FD0;&#x884C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#x662F;&#x7531; JavaScript &#x63D0;&#x4F9B;&#x7684;&#x3002;&#x9664;&#x4E86;&#x6539;&#x5584;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x5B83;&#x8FD8;&#x4ECE; web &#x670D;&#x52A1;&#x5668;&#x5206;&#x62C5;&#x4E86;&#x5927;&#x91CF;&#x5DE5;&#x4F5C;&#x3002;&#x8FD8;&#x8BB0;&#x5F97;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x8BA8;&#x8BBA;&#x7684;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5417;&#xFF1F;&#x8BA9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x627F;&#x62C5;&#x81EA;&#x5DF1;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x80FD;&#x591F;&#x5145;&#x5206;&#x5229;&#x7528; Node.js &#x7684;&#x6700;&#x5927;&#x529B;&#x91CF;&#x2014;&#x2014;&#x51CF;&#x8F7B;&#x5FEB;&#x6377;&#x7684; I/O&#x3002;</p>
<p>&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x903B;&#x8F91;&#x5728;&#x524D;&#x540E;&#x7AEF;&#x4E4B;&#x95F4;&#x4F20;&#x64AD;&#xFF1B;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x8FD9;&#x4E9B; Node.js &#x5F00;&#x53D1;&#x4EBA;&#x5458;&#xFF0C;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x5E78;&#x8FD0;&#x5730;&#x5728;&#x524D;&#x540E;&#x7AEF;&#x4F7F;&#x7528;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x3002;&#x5927;&#x90E8;&#x5206;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5BF9;&#x4E8E;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x7684;&#x6210;&#x672C;&#xFF0C;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x66F4;&#x591A;&#x7684;&#x8BA4;&#x8BC6;&#x3002;&#x4E0D;&#x5F97;&#x4E0D;&#x628A;&#x4F60;&#x7684;&#x601D;&#x7EF4;&#x91CD;&#x65B0;&#x805A;&#x7126;&#x548C;&#x8C03;&#x6574;&#x5728;&#x65B0;&#x4EFB;&#x52A1;&#x3001;&#x65B0;&#x8BED;&#x8A00;&#x3001;&#x4EE5;&#x53CA;&#x65B0;&#x95EE;&#x9898;&#x4E0A;&#xFF0C;&#x5E38;&#x5E38;&#x4F1A;&#x8BA9;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x8017;&#x8D39;&#x4E00;&#x4E9B;&#x5B9D;&#x8D35;&#x7684;&#x6709;&#x6548;&#x7387;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x51CF;&#x5C11;&#x4E0A;&#x4E0B;&#x6587;&#x4E4B;&#x95F4;&#x5207;&#x6362;&#x7684;&#x8DDD;&#x79BB;&#xFF0C;&#x4F7F;&#x6211;&#x4EEC;&#x5728;&#x5404;&#x79CD;&#x4EFB;&#x52A1;&#x7684;&#x5904;&#x7406;&#x4E0A;&#x6E38;&#x5203;&#x6709;&#x4F59;&#xFF0C;&#x76F8;&#x5E94;&#x7684;&#x6062;&#x590D;&#x65F6;&#x95F4;&#x4E5F;&#x66F4;&#x52A0;&#x8FC5;&#x901F;&#x3002;</p>
<h3 id="4-JSON&#x2014;&#x2014;&#x6570;&#x636E;&#x4E1B;&#x6797;&#x4E4B;&#x738B;">4.JSON&#x2014;&#x2014;&#x6570;&#x636E;&#x4E1B;&#x6797;&#x4E4B;&#x738B;</h3><p>&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x4E4B;&#x95F4;&#x7684;&#x6570;&#x636E;&#x4F20;&#x8F93;&#xFF0C;JSON&#xFF08;JavaScript Object Notation&#xFF09;&#x3010;&#x6CE8;1&#x3011;&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x4E8B;&#x5B9E;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x3002;&#x6839;&#x636E;&#x6211;&#x5728;&#x5176;&#x5B83;&#x5E73;&#x53F0;&#x4E0A;&#x5F00;&#x53D1; web &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x7ECF;&#x5386;&#xFF0C;&#x628A;&#x4F60;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x6210;&#x5404;&#x79CD;&#x683C;&#x5F0F;&#x548C;&#x6A21;&#x578B;&#xFF0C;&#x6240;&#x82B1;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#x662F;&#x76F8;&#x5F53;&#x60CA;&#x4EBA;&#x7684;&#x3002;&#x5BF9;&#x4E8E; Node.js &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;JSON &#x53EF;&#x4EE5;&#x7528;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6240;&#x6709;&#x4E09;&#x4E2A;&#x9886;&#x57DF;&#x2014;&#x2014;&#x5BA2;&#x6237;&#x7AEF;&#x3001;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x548C;&#x6570;&#x636E;&#x5E93;&#x3002; <a href="https://www.mongodb.org/" target="_blank" rel="external">MongoDB</a> &#x548C; <a href="http://couchdb.apache.org/" target="_blank" rel="external">CouchDB</a> &#x662F;&#x6D41;&#x884C;&#x7684; NoSQL &#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4F7F;&#x7528; JSON &#x5B58;&#x50A8;&#x6570;&#x636E;&#x3002; <a href="http://www.postgresql.org/" target="_blank" rel="external">PostgreSQL</a> &#xFF0C;&#x4E00;&#x4E2A;&#x6D41;&#x884C;&#x7684;&#x5F00;&#x6E90;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E5F;&#x652F;&#x6301;&#x5B58;&#x50A8; JSON &#x5BF9;&#x8C61;&#x3002;&#x5FAE;&#x8F6F;&#x751A;&#x81F3; <a href="http://blogs.msdn.com/b/jocapc/archive/2015/05/16/json-support-in-sql-server-2016.aspx" target="_blank" rel="external">&#x5BA3;&#x5E03;</a> SQL Server 2016 &#x5C06;&#x652F;&#x6301; JSON&#x3002;&#x6709;&#x5982;&#x6B64;&#x4E30;&#x5BCC;&#x7684;&#x53EF;&#x9009;&#x9879;&#xFF0C;&#x5C31;&#x53EF;&#x8F7B;&#x677E;&#x5730;&#x7ED9;&#x4F60;&#x7684; Node.js &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6311;&#x9009;&#x4E00;&#x79CD;&#x53EF;&#x9760;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4EE5;&#x6324;&#x51FA;&#x6BCF;&#x4E00;&#x70B9;&#x751F;&#x4EA7;&#x529B;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x7684;&#x8F6C;&#x6362;&#x3002; </p>
<h3 id="5-&#x6A21;&#x5757;&#x2014;&#x2014;&#x53D6;&#x4F60;&#x6240;&#x9700;">5.&#x6A21;&#x5757;&#x2014;&#x2014;&#x53D6;&#x4F60;&#x6240;&#x9700;</h3><p>&#x4E1A;&#x4F59;&#x9879;&#x76EE;&#x7684;&#x4E00;&#x4E2A;&#x7ECF;&#x9A8C;&#x6CD5;&#x5219;&#x5C31;&#x662F;&#x4FDD;&#x6301;&#x5C0F;&#x800C;&#x4E13;&#x6CE8;&#x3002;&#x8BE5;&#x6CD5;&#x5219;&#x6709;&#x52A9;&#x4E8E;&#x786E;&#x4FDD;&#x771F;&#x6B63;&#x5730;&#x5B8C;&#x6210;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x3002;&#x540C;&#x6837;&#x7684;&#x6982;&#x5FF5;&#x53EF;&#x5728; Node.js &#x9879;&#x76EE;&#x4E2D;&#x627E;&#x5230;&#x2014;&#x2014;&#x4F60;&#x53EA;&#x4F7F;&#x7528;&#x90A3;&#x4E9B;&#x771F;&#x6B63;&#x9700;&#x8981;&#x7684;&#x6A21;&#x5757;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8DB3;&#x591F;&#x8F7B;&#x91CF;&#x7EA7;&#x3002;&#x548C;&#x5176;&#x5B83;&#x90A3;&#x4E9B;&#x4EE5;&#x4F01;&#x4E1A;&#x4E3A;&#x4E2D;&#x5FC3;&#x7684;&#x5E73;&#x53F0;&#x4E0D;&#x540C;&#xFF0C;&#x4F60;&#x4E0D;&#x4F1A;&#x6709;&#x5927;&#x91CF;&#x6839;&#x672C;&#x7528;&#x4E0D;&#x5230;&#x7684;&#x989D;&#x5916;&#x4E1C;&#x4E1C;&#x3002;&#x4F60;&#x7684;&#x5F00;&#x53D1;&#x548C;&#x90E8;&#x7F72;&#x5C06;&#x66F4;&#x8FC5;&#x901F;&#xFF0C;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x5C06;&#x5360;&#x7528;&#x66F4;&#x5C11;&#x7A7A;&#x95F4;&#xFF0C;&#x9879;&#x76EE;&#x91CC;&#x7684;&#x6BCF;&#x6837;&#x4E1C;&#x897F;&#x6070;&#x6070;&#x90FD;&#x662F;&#x4F60;&#x9700;&#x8981;&#x7684;&#xFF0C;&#x4F60;&#x660E;&#x767D;&#x8FD9;&#x4E9B;&#xFF0C;&#x5185;&#x5FC3;&#x611F;&#x5230;&#x5E73;&#x9759;&#x3002; <a href="https://www.npmjs.com/" target="_blank" rel="external">NPM</a> &#xFF08;Node Package Manager&#xFF09;&#x3010;&#x6CE8;2&#x3011;&#x662F; Node.js &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4E00;&#x5927;&#x5356;&#x70B9;&#x3002;&#x5B83;&#x8BA9;&#x4F60;&#x7B80;&#x5355;&#x5FEB;&#x6377;&#x5730;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x516C;&#x5171; Node &#x6A21;&#x5757;&#xFF0C;&#x9009;&#x62E9;&#x8303;&#x56F4;&#x8D85;&#x8FC7;&#x4E86; 150,000 &#x4E2A;&#x5305;&#x3002;&#x51CF;&#x5C11;&#x5F00;&#x53D1;&#x65F6;&#x95F4;&#x3001;&#x5229;&#x7528;&#x5DF2;&#x6709;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x548C;&#x5DE5;&#x5177;&#xFF0C;&#x4ECE;&#x672A;&#x5982;&#x6B64;&#x7B80;&#x5355;&#x8FC7;&#x3002; </p>
<h3 id="6-&#x603B;&#x7ED3;">6.&#x603B;&#x7ED3;</h3><p>Node.js &#x7ED9;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x4E86;&#x4E0D;&#x8D77;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5E73;&#x53F0;&#xFF0C;&#x56E0;&#x5176;&#x9AD8; I/O &#x9700;&#x6C42;&#x800C;&#x771F;&#x6B63;&#x80DC;&#x51FA;&#x7684; web &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x5982;&#x679C;&#x4F60;&#x6253;&#x7B97;&#x5728;&#x4E0B;&#x4E00;&#x4E2A;&#x4E1A;&#x4F59;&#x9879;&#x76EE;&#x4F7F;&#x7528; Node.js&#xFF0C;&#x5C31;&#x5C3D;&#x91CF;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7684; web &#x670D;&#x52A1;&#x5668; API&#xFF0C;&#x4EE5;&#x6700;&#x5C0F;&#x5316;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x771F;&#x6B63;&#x8D1F;&#x8F7D;&#x3002;Node.js &#x6781;&#x6613;&#x7406;&#x89E3;&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5B66;&#x4E60;&#x548C;&#x638C;&#x63E1;&#x8D77;&#x6765;&#xFF0C;&#x76F8;&#x5BF9;&#x5BB9;&#x6613;&#x4E9B;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x5C1D;&#x8BD5;&#x4E00;&#x4E0B;&#x5462;&#xFF1F;</p>
<h3 id="7-&#x6211;&#x7684;&#x4E0B;&#x4E00;&#x6B65;&#x89C4;&#x5212;">7.&#x6211;&#x7684;&#x4E0B;&#x4E00;&#x6B65;&#x89C4;&#x5212;</h3><p>&#x6211;&#x60F3;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x4F18;&#x79C0;&#x8D44;&#x6E90;&#x7684;&#x7B80;&#x5355;&#x6E05;&#x5355;&#xFF0C;&#x5E2E;&#x52A9;&#x6211;&#x638C;&#x63E1; Node.js&#x3002;</p>
<ul>
<li><a href="https://thinkster.io/mean-stack-tutorial/" target="_blank" rel="external">https://thinkster.io/mean-stack-tutorial/</a> &#xFF1A;&#x5B83;&#x662F;&#x5BF9;&#x6211;&#x5E2E;&#x52A9;&#x6700;&#x5927;&#x7684;&#x6559;&#x7A0B;&#x3002;&#x8BE5;&#x6559;&#x7A0B;&#x7ED3;&#x6784;&#x7CBE;&#x5999;&#xFF0C;&#x8986;&#x76D6;&#x4E86;&#x6781;&#x6709;&#x4EF7;&#x503C;&#x7684;&#x6D77;&#x91CF;&#x5185;&#x5BB9;&#x3002;&#x8BE5;&#x6559;&#x7A0B;&#x514D;&#x8D39;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x8FD8;&#x80FD;&#x4ED8;&#x8D39;&#xFF0C;&#x4EE5;&#x8BBF;&#x95EE;&#x5230;&#x6E90;&#x4EE3;&#x7801;&#x548C;&#x89C6;&#x9891;&#xFF08;&#x5F53;&#x65F6;&#x6211;&#x4E3A;&#x6E90;&#x4EE3;&#x7801;&#x652F;&#x4ED8;&#x4E86; 25 &#x7F8E;&#x5143;&#xFF0C;&#x4E0D;&#x8FC7;&#x4ED6;&#x4EEC;&#x597D;&#x50CF;&#x53D8;&#x6210;&#x4E86;&#x6BCF;&#x6708; 20 &#x7F8E;&#x5143;&#x7684;&#x8BA2;&#x9605;&#xFF0C;&#x5C31;&#x53EF;&#x770B;&#x5230;&#x4ED6;&#x4EEC;&#x7684;&#x6240;&#x6709;&#x6559;&#x7A0B;&#xFF09;&#x3002;</li>
<li><p><a href="http://www.toptal.com/nodejs/why-the-hell-would-i-use-node-js" target="_blank" rel="external">http://www.toptal.com/nodejs/why-the-hell-would-i-use-node-js</a> &#xFF1A;&#x4E00;&#x7BC7;&#x5199;&#x5F97;&#x4E0D;&#x9519;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x5E2E;&#x52A9;&#x6211;&#x7406;&#x89E3;&#x4E86; Node.js &#x7684;&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;&#x3002;</p>
</li>
<li><p>&#x6CE8;1&#xFF1A;JSON&#xFF08;JavaScript Object Notation&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x7531;&#x9053;&#x683C;&#x62C9;&#x65AF;&#xB7;&#x514B;&#x7F57;&#x514B;&#x798F;&#x7279;&#x6784;&#x60F3;&#x8BBE;&#x8BA1;&#x3001;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x8BED;&#x8A00;&#xFF0C;&#x4EE5;&#x6587;&#x5B57;&#x4E3A;&#x57FA;&#x7840;&#xFF0C;&#x4E14;&#x6613;&#x4E8E;&#x8BA9;&#x4EBA;&#x9605;&#x8BFB;&#x3002;&#x5C3D;&#x7BA1;JSON&#x662F;Javascript&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x96C6;&#xFF0C;&#x4F46;JSON&#x662F;&#x72EC;&#x7ACB;&#x4E8E;&#x8BED;&#x8A00;&#x7684;&#x6587;&#x672C;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x4E14;&#x91C7;&#x7528;&#x4E86;&#x7C7B;&#x4F3C;&#x4E8E;C&#x8BED;&#x8A00;&#x5BB6;&#x65CF;&#x7684;&#x4E00;&#x4E9B;&#x4E60;&#x60EF;&#x3002; <a href="https://zh.wikipedia.org/wiki/JSON" target="_blank" rel="external">https://zh.wikipedia.org/wiki/JSON</a></p>
</li>
<li>&#x6CE8;2&#xFF1A;Node&#x5305;&#x7BA1;&#x7406;&#x5668;&#xFF08;Node Package Manager&#xFF09;&#x3002;&#x5B83;&#x662F;&#x4E00;&#x4E2A;javascript&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x9ED8;&#x8BA4;&#x73AF;&#x5883;&#x4E3A;Node.js&#xFF0C;&#x4ECE;Node.js0.6.3&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;npm&#x88AB;&#x81EA;&#x52A8;&#x9644;&#x5E26;&#x5728;&#x5B89;&#x88C5;&#x5305;&#x4E2D;&#x3002; <a href="https://zh.wikipedia.org/wiki/Node%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8" target="_blank" rel="external">https://zh.wikipedia.org/wiki/Node%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Node-js/">Node.js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/2de80b2/" title="npm please stop hurting Visual Studio -" itemprop="url">npm please stop hurting Visual Studio -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-02T03:01:12.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>I don&apos;t know about you but I personally feel that the following sentence may well be the saddest in the English language:</p>
<p>2&gt;ASPNETCOMPILER : error ASPRUNTIME: The specified path, file name, or both are too long. The fully qualified file name must be less than 260 characters, and the directory name must be less than 248 characters.</p>
<p>The message above would suggest there is some kind of ASP.Net issue going on. There isn&apos;t - the problem actually lies with Windows. It&apos;s <a href="http://blog.icanmakethiswork.io/2014/12/gulp-npm-long-paths-and-visual-studio-fight.html" target="_blank" rel="external">not the first time it&apos;s come up</a> but for those of you not aware there is something you need to know about Windows: <em>It handles long paths badly.</em></p>
<p>There&apos;s a number of caveats which people may attach the above sentence. But essentially what I have said is true. And it becomes brutally apparent to you the moment you start using a few node powered tools in your workflow. You will likely see that horrible message and you won&apos;t be able to get much further forward. Sigh. I thought this was the future…</p>
<h4 id="The_Latest_Infraction">The Latest Infraction</h4><p>I&apos;m a big fan of Gulp and Bower. They rock. <a href="https://twitter.com/codecadwallader" target="_blank" rel="external">Steve Cadwallader</a> wrote an excellent blog post about <a href="http://www.codecadwallader.com/2015/03/15/integrating-gulp-into-your-tfs-builds-and-web-deploy/" target="_blank" rel="external">integrating Gulp into your Visual Studio build</a> . Essentially the Gist of his post is this: forget using <a href="https://visualstudiogallery.msdn.microsoft.com/8e1b4368-4afb-467a-bc13-9650572db708" target="_blank" rel="external">Task Runner Explorer</a>to trigger your Gulp / Grunt jobs. No, actually plug it into the build process by tweaking your file. The first time I used this approach it was a dream come true. It just worked and I was a very happy man. </p>
<p>Since this approach was so marvellous I took a look at the demo / docs part of <a href="https://github.com/johnnyreilly/jQuery.Validation.Unobtrusive.Native" target="_blank" rel="external">jQuery Validation Unobtrusive Native</a>with a view to applying it there. I originally wrote this back in 2013 and at the time used NuGet for both server and client side package management. I decided to migrate it to use Bower for the client side packages (which I planned to combine with a Gulp script which was going to pull out the required JS / CSS etc as needed). However it wasn&apos;t the plain sailing I&apos;d imagined. The actual switchover from NuGet to Bower was simple. Just a case of removing NuGet packages and adding their associated Bower counterpart. The problem came when the migration was done and I hit &quot;compile&quot;. That&apos;s when I got to see etc </p>
<p>For reasons that I don&apos;t fully understand, Visual Studio is really upset by the presence in the project structure of one almighty long path. Oddly enough, not a path that&apos;s actually part of the Visual Studio project in question at all. Rather one that has come along as a result of our Gulp / Bower / npm shenanigans. Quick as a flash, I whipped out Daniel Schroeder&apos;s <a href="https://pathlengthchecker.codeplex.com/" target="_blank" rel="external">Path Length Checker</a> to see where the problem lay: </p>
<p><img src="http://taojinke.github.io/img/20150702/2de65d7.png" alt=""></p>
<p>And lo, the fault lay with Bower. Poor show, Bower, poor show.</p>
<h4 id="rimraf_to_the_Rescue">rimraf to the Rescue</h4><p><a href="https://github.com/isaacs/rimraf" target="_blank" rel="external">rimraf</a> is &quot;the <a href="https://en.wikipedia.org/wiki/Rm_(Unix)" target="_blank" rel="external">UNIX command</a> for node&quot;. (By the way, what is it with node and the pathological hatred of capital letters?) </p>
<p>What this means is: rimraf can delete. Properly. So let&apos;s get it: . Then at any time at the command line we can dispose of a long path in 2 shakes of lamb&apos;s tail. </p>
<p>In my current situation the contents of thefolder is causing me heartache. But with rimraf in play I can get rid of it with the magic words:. Alakazam! So let&apos;s poke this command into the extra commands that I&apos;ve already shoplifted from Steve&apos;s blog post. I&apos;ll end up with the following section of XML at the end of my : </p>
<pre><code><span class="subst">&amp;</span><span class="literal">lt</span>;PropertyGroup<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;CompileDependsOn<span class="subst">&amp;</span><span class="literal">gt</span>;
    $(CompileDependsOn);
    GulpBuild;
  <span class="subst">&amp;</span><span class="literal">lt</span>;/CompileDependsOn<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;CleanDependsOn<span class="subst">&amp;</span><span class="literal">gt</span>;
    $(CleanDependsOn);
    GulpClean
  <span class="subst">&amp;</span><span class="literal">lt</span>;/CleanDependsOn<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;CopyAllFilesToSingleFolderForPackageDependsOn<span class="subst">&amp;</span><span class="literal">gt</span>;
    CollectGulpOutput;
    $(CopyAllFilesToSingleFolderForPackageDependsOn);
  <span class="subst">&amp;</span><span class="literal">lt</span>;/CopyAllFilesToSingleFolderForPackageDependsOn<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;CopyAllFilesToSingleFolderForMsdeployDependsOn<span class="subst">&amp;</span><span class="literal">gt</span>;
    CollectGulpOutput;
    $(CopyAllFilesToSingleFolderForPackageDependsOn);
  <span class="subst">&amp;</span><span class="literal">lt</span>;/CopyAllFilesToSingleFolderForMsdeployDependsOn<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/PropertyGroup<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;Target Name<span class="subst">=&amp;</span>quot;GulpBuild<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;Exec Command<span class="subst">=&amp;</span>quot;npm install<span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;Exec Command<span class="subst">=&amp;</span>quot;bower install<span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;Exec Command<span class="subst">=&amp;</span>quot;gulp<span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;Exec Command<span class="subst">=&amp;</span>quot;rimraf <span class="built_in">.</span>/node_modules<span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/Target<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;Target Name<span class="subst">=&amp;</span>quot;GulpClean<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;Exec Command<span class="subst">=&amp;</span>quot;gulp clean<span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/Target<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;Target Name<span class="subst">=&amp;</span>quot;CollectGulpOutput<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;ItemGroup<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;_CustomFiles Include<span class="subst">=&amp;</span>quot;build<span class="subst">\**\*&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;FilesForPackagingFromProject Include<span class="subst">=&amp;</span>quot;<span class="subst">%</span>(_CustomFiles<span class="built_in">.</span>Identity)<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
      <span class="subst">&amp;</span><span class="literal">lt</span>;DestinationRelativePath<span class="subst">&amp;</span><span class="literal">gt</span>;build<span class="subst">\%</span>(RecursiveDir)<span class="subst">%</span>(Filename)<span class="subst">%</span>(Extension)<span class="subst">&amp;</span><span class="literal">lt</span>;/DestinationRelativePath<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;/FilesForPackagingFromProject<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;/ItemGroup<span class="subst">&amp;</span><span class="literal">gt</span>;
  <span class="subst">&amp;</span><span class="literal">lt</span>;Message Text<span class="subst">=&amp;</span>quot;CollectGulpOutput <span class="built_in">list</span>: <span class="subst">%</span>(_CustomFiles<span class="built_in">.</span>Identity)<span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/Target<span class="subst">&amp;</span><span class="literal">gt</span>;
</code></pre><p>So let&apos;s focus on the important bits in the middle:</p>
<ul>
<li><ul>
<li>install the node packages our project uses as specified in . This will include Gulp and Bower. The latter package is going to contain super-long, Windows wrecking paths.</li>
</ul>
</li>
<li><ul>
<li>install the bower packages specified in using Bower (which was installed by npm just now).</li>
</ul>
</li>
<li><ul>
<li>do a little dance, make a little love, copy a few files, get down tonight.</li>
</ul>
</li>
<li><ul>
<li>remove thefolder populated by the command.</li>
</ul>
</li>
</ul>
<p>With that addition of to the build phase the problem goes away. During each build a big, big Windows path is being constructed but then it&apos;s wiped again before it has chance to upset anyone. </p>
<p>You are very welcome.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Gulp/">Gulp</a><a href="/tags/Visual-Studio/">Visual Studio</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/35/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/34/">34</a><a class="page-number" href="/page/35/">35</a><span class="page-number current">36</span><a class="page-number" href="/page/37/">37</a><a class="page-number" href="/page/38/">38</a><span class="space">&hellip;</span><a class="page-number" href="/page/59/">59</a><a class="extend next" rel="next" href="/page/37/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/transcribe/" title="transcribe">transcribe<sup>587</sup></a></li>
		  
		
		  
			<li><a href="/categories/日志/" title="日志">日志<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/ZooKeeper/" title="ZooKeeper">ZooKeeper<sup>80</sup></a></li>
			
		
			
				<li><a href="/tags/Node-js/" title="Node.js">Node.js<sup>75</sup></a></li>
			
		
			
				<li><a href="/tags/Memcached/" title="Memcached">Memcached<sup>71</sup></a></li>
			
		
			
				<li><a href="/tags/JVM/" title="JVM">JVM<sup>65</sup></a></li>
			
		
			
				<li><a href="/tags/io-js/" title="io.js">io.js<sup>35</sup></a></li>
			
		
			
				<li><a href="/tags/Spring-MVC/" title="Spring MVC">Spring MVC<sup>33</sup></a></li>
			
		
			
				<li><a href="/tags/数据库/" title="数据库">数据库<sup>32</sup></a></li>
			
		
			
				<li><a href="/tags/Gulp/" title="Gulp">Gulp<sup>29</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>28</sup></a></li>
			
		
			
				<li><a href="/tags/Nosql/" title="Nosql">Nosql<sup>27</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C++">C++<sup>24</sup></a></li>
			
		
			
				<li><a href="/tags/MongoDB/" title="MongoDB">MongoDB<sup>23</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/开源/" title="开源">开源<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/Redis/" title="Redis">Redis<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/程序员/" title="程序员">程序员<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Dubbo/" title="Dubbo">Dubbo<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/Net/" title=".Net">.Net<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/源码分析/" title="源码分析">源码分析<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Ubuntu/" title="Ubuntu">Ubuntu<sup>9</sup></a></li>
			
		
		</ul>
</div>


<div class="weiboshow">
	<p class="asidetitle">新浪微博</p>
	<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1289635200&verifier=e6bef170&dpc=1"></iframe>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/512316815" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/sblig" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/sblig" target="_blank" title="fblog">fblog</a> © 2015
		
		<a href="/about" target="_blank" title="edwin">edwin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
