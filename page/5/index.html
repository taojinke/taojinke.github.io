
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu-site-verification" content="1XvvwQ7Apt" />
  
    <title>dianzi blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="edwin">
    

    
    <meta name="description" content="edwin jin dianzi blog">
<meta property="og:type" content="website">
<meta property="og:title" content="dianzi blog">
<meta property="og:url" content="http://taojinke.github.io/page/5/index.html">
<meta property="og:site_name" content="dianzi blog">
<meta property="og:description" content="edwin jin dianzi blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dianzi blog">
<meta name="twitter:description" content="edwin jin dianzi blog">

    
    <link rel="alternative" href="/atom.xml" title="dianzi blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?345f95aea4ada2935d6f9ea4177b51ab";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="dianzi blog" title="dianzi blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="dianzi blog">dianzi blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
						<a href="/music/index.html" target="_blank">Music</a>
					</li>
					<li>
 					
						<form class="search" action="http://taojinke.github.io/" target="_blank">
							<label>Search</label>
						<input name="s" type="hidden" value= null ><input type="text" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/13be9a9/" title="（一）spring MVC基本概念和流程 -" itemprop="url">（一）spring MVC基本概念和流程 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:51:22.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="MVC_&#x7684;&#x6982;&#x5FF5;_Model_&#xFF08;&#x6A21;&#x578B;&#xFF09;&#xFF1A;&#x5305;&#x542B;&#x6570;&#x636E;&#x548C;&#x884C;&#x4E3A;&#x3002;&#x4E0D;&#x8FC7;&#x73B0;&#x5728;&#x4E00;&#x822C;&#x90FD;&#x5206;&#x79BB;&#x5F00;&#x6765;&#xFF1A;Value_Object&#xFF08;&#x6570;&#x636E;&#xFF09;_&#x548C;_&#x670D;&#x52A1;&#x5C42;&#xFF08;&#x884C;&#x4E3A;&#xFF09;&#x3002;">MVC  &#x7684;&#x6982;&#x5FF5;  Model  &#xFF08;&#x6A21;&#x578B;&#xFF09;&#xFF1A;&#x5305;&#x542B;&#x6570;&#x636E;&#x548C;&#x884C;&#x4E3A;&#x3002;&#x4E0D;&#x8FC7;&#x73B0;&#x5728;&#x4E00;&#x822C;&#x90FD;&#x5206;&#x79BB;&#x5F00;&#x6765;&#xFF1A;Value Object&#xFF08;&#x6570;&#x636E;&#xFF09; &#x548C; &#x670D;&#x52A1;&#x5C42;&#xFF08;&#x884C;&#x4E3A;&#xFF09;&#x3002;</h3><p> View  &#xFF08;&#x89C6;&#x56FE;&#xFF09;&#xFF1A;&#x8D1F;&#x8D23;&#x8FDB;&#x884C;&#x6A21;&#x578B;&#x7684;&#x5C55;&#x793A;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x662F;&#x5C55;&#x793A;&#x7ED9;&#x7528;&#x6237;&#x7684;&#x754C;&#x9762;&#x3002;</p>
<p> Controller  &#xFF08;&#x63A7;&#x5236;&#x5668;&#xFF09;&#xFF1A;&#x63A5;&#x6536;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#xFF0C;&#x59D4;&#x6258;&#x7ED9;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#x540E;&#x628A;&#x8FD4;&#x56DE;&#x7684;&#x6A21;&#x578B;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x89C6;&#x56FE;&#xFF0C;&#x7531;&#x89C6;&#x56FE;&#x8D1F;&#x8D23;&#x5C55;&#x793A;&#xFF0C;&#x8D77;&#x4E86;&#x8C03;&#x5EA6;&#x7684;&#x4F5C;&#x7528;&#x3002;</p>
<h3 id="spring_MVC">spring MVC</h3><p> Spring MVC  &#x56F4;&#x7ED5;DispatcherServlet&#x8BBE;&#x8BA1;&#x3002;</p>
<p>&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF1A;</p>
<ol>
<li>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   &#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x51FA;HTTP&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;</li>
</ol>
<p>&#x5982;&#x679C;&#x5339;&#x914D;DispatcherServlet&#x7684;&#x8BF7;&#x6C42;&#x6620;&#x5C04;&#x8DEF;&#x5F84;(&#x5728;web.xml&#x4E2D;&#x6307;&#x5B9A;)&#xFF0C;Web&#x5BB9;&#x5668;&#x5C06;&#x8BE5;&#x8BF7;&#x6C42;&#x8F6C;&#x4EA4;&#x7ED9;DispatcherServlet&#x5904;&#x7406;&#x3002;</p>
<ol>
<li><p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   DispacherServlet  &#x63A5;&#x6536;&#x5230;&#x6B64;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x7684;&#x4FE1;&#x606F;  &#xFF08;URL&#x3001;HTTP&#x65B9;&#x6CD5;&#x3001;&#x8BF7;&#x6C42;&#x62A5;&#x5934;&#x6587;&#x3001;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x3001;Cookie&#x7B49;&#xFF09;  &#x53CA;HandleMapping&#x7684;&#x914D;&#x7F6E;&#x5339;&#x914D;Handler</p>
<p>&#x5339;&#x914D;&#x6210;&#x529F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;HandlerExecutionChain&#x5BF9;&#x8C61;  &#xFF08;&#x5305;&#x542B;&#x4E00;&#x4E2A;Handler&#x5904;&#x7406;&#x5668;&#x5BF9;&#x8C61;&#x3001;&#x591A;&#x4E2A;HandlerInterceptor&#x62E6;&#x622A;&#x5668;&#xFF09;  &#x3002;</p>
</li>
<li><p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   DispacherServlet  &#x5F97;&#x5230;Handler&#x540E;&#xFF0C;&#x628A;Handler&#x5C01;&#x88C5;&#x4E3A;&#x9002;&#x914D;&#x5668;</p>
<p>&#x4EE5;&#x9002;&#x914D;&#x5668;&#x63A5;&#x53E3;&#x771F;&#x6B63;&#x8C03;&#x7528;&#x4E86;&#x5904;&#x7406;&#x5668;&#x7684;&#x529F;&#x80FD;&#x5904;&#x7406;&#x65B9;&#x6CD5;  &#xFF08;&#x5148;&#x6267;&#x884C;&#x62E6;&#x622A;&#x5668;&#x7684;preHandler&#x65B9;&#x6CD5;&#xFF09;</p>
<p>&#x8FD4;&#x56DE;ModelAndView  &#xFF08;&#x5982;&#x5176;&#x540D;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x89C6;&#x56FE;&#x903B;&#x8F91;&#x540D;&#x548C;&#x6A21;&#x578B;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF09;  &#x3002;</p>
</li>
<li><p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   DispacherServlet  &#x501F;&#x7531;ViewResolver&#x5B8C;&#x6210;&#x903B;&#x8F91;&#x89C6;&#x56FE;&#x540D;&#x5230;&#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x7684;&#x89E3;&#x6790;&#x5DE5;&#x4F5C;&#x3002;</p>
</li>
<li><p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   DispacherServlet  &#x5F97;&#x5230;&#x89C6;&#x56FE;&#x5BF9;&#x8C61;View&#xFF0C;&#x4F7F;&#x7528;&#x5B83;&#x5BF9;ModelAndView&#x4E2D;&#x7684;&#x6A21;&#x578B;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#x3002;</p>
</li>
<li><p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   &#x5BA2;&#x6237;&#x7AEF;&#x5F97;&#x5230;&#x54CD;&#x5E94;  &#xFF08;&#x53EF;&#x80FD;&#x662F;HTML&#x9875;&#x9762;&#x3001;XML&#x3001;JSON&#x4E32;&#x3001;PDF&#x2026;&#x2026;&#xFF09;</p>
</li>
</ol>
<p>&#x6574;&#x7406;&#x81EA;&#x300A;spring 3.x&#x4F01;&#x4E1A;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x5B9E;&#x6218;&#x300B;&#x4EE5;&#x53CA; &#x4E00;&#x4E9B;&#x535A;&#x5BA2;&#x2026;&#x2026;</p>
<p> P.S.  &#x6211;&#x7528;&#x7684;&#x662F; 4</p>
<p>&#x505A;&#x4E86;&#x4E00;&#x4E2A;spring MVC &#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6D41;&#x7A0B;&#x7684;&#x89C6;&#x9891;&#xFF0C; <a href="http://v.youku.com/v_show/id_XMTI1NjE0MjI0MA==.html" target="_blank" rel="external">spring MVC&#x6D41;&#x7A0B;</a></p>
<p> &#x6709;&#x70B9;&#x4E11;&#x4E0D;&#x8FC7;&#x5F88;&#x6E05;&#x695A;&#x5440;  &#xA0;~</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Spring-MVC/">Spring MVC</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/13ae6df/" title="Spring REST 异常处理 -" itemprop="url">Spring REST 异常处理 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:51:22.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x5728;&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#x5199;&#x5230;&#x4E86;Spring MVC&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406;&#xFF0C;SpringMVC&#x6355;&#x83B7;&#x5230;&#x5F02;&#x5E38;&#x4E4B;&#x540E;&#x4F1A;&#x8F6C;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;REST API &#xFF0C;&#x4E00;&#x822C;&#x53EA;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x548C;&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x6BD4;&#x5982;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#xFF0C;&#x53EA;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;500&#x7684;&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4E0D;&#x505A;&#x5904;&#x7406;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x8FC7;REST API&#x8BBF;&#x95EE;&#xFF0C;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x7684;html&#x4EE3;&#x7801;&#x3002;&#x3002;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#x600E;&#x4E48;&#x505A;&#x5462;, &#x6211;&#x73B0;&#x5728;&#x6240;&#x77E5;&#x9053;&#x7684;&#x5C31;&#x4E24;&#x79CD;&#x505A;&#x6CD5;</p>
<h3 id="&#x901A;&#x8FC7;ResponseEntity">&#x901A;&#x8FC7;ResponseEntity</h3><p>&#x901A;&#x8FC7;ResponseEntity&#x63A5;&#x6536;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;HttpStatus.&#x4E3E;&#x4F8B;&#xFF1A; </p>
<pre><code>@RequestMapping(value<span class="subst">=&amp;</span>quot;/customer<span class="subst">/</span>{id}<span class="subst">&amp;</span>quot; )
<span class="keyword">public</span> ResponseEntity<span class="subst">&amp;</span><span class="literal">lt</span>;Customer<span class="subst">&amp;</span><span class="literal">gt</span>; getCustomerById(@PathVariable <span class="built_in">String</span> id)
{
    Customer customer;
    try 
    {
        customer <span class="subst">=</span> customerService<span class="built_in">.</span>getCustomerDetail(id);
    } 
    catch (CustomerNotFoundException e) 
    {
        <span class="keyword">return</span> <span class="literal">new</span> ResponseEntity<span class="subst">&amp;</span><span class="literal">lt</span>;Customer<span class="subst">&amp;</span><span class="literal">gt</span>;(HttpStatus<span class="built_in">.</span>NOT_FOUND);
    }

    <span class="keyword">return</span> <span class="literal">new</span> ResponseEntity<span class="subst">&amp;</span><span class="literal">lt</span>;Customer<span class="subst">&amp;</span><span class="literal">gt</span>;(customer,HttpStatus<span class="built_in">.</span>OK);
    }
</code></pre><p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x8BDD;&#x6211;&#x4EEC;&#x5F97;&#x5728;&#x6BCF;&#x4E2A;RequestMapping &#x65B9;&#x6CD5;&#x4E2D;&#x52A0;&#x5165;try catch&#x8BED;&#x53E5;&#x5757;&#xFF0C;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#x4E2A;&#x66F4;&#x7B80;&#x5355;&#x70B9;&#x7684;&#x65B9;&#x6CD5;</p>
<h2 id="&#x901A;&#x8FC7;ExceptionHandler&#x6CE8;&#x89E3;">&#x901A;&#x8FC7;ExceptionHandler&#x6CE8;&#x89E3;</h2><p>&#x8FD9;&#x91CC;&#x8DDF;&#x524D;&#x9762;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x6CE8;&#x89E3;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;ResponseEntity&#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8DF3;&#x8F6C;&#x7684;&#x9875;&#x9762;&#x3002;</p>
<pre><code><span class="annotation">@RequestMapping</span>(value=&amp;quot;/customer/{id}&amp;quot; )
<span class="annotation">@ResponseBody</span>
<span class="keyword">public</span> <span class="function">Customer <span class="title">getCustomerById</span><span class="params">(@PathVariable String id)</span> <span class="keyword">throws</span> CustomerNotFoundException
</span>{
    <span class="function"><span class="keyword">return</span> customerService.<span class="title">getCustomerDetail</span><span class="params">(id)</span></span>;
}

<span class="annotation">@ExceptionHandler</span>(CustomerNotFoundException.class)
<span class="keyword">public</span> ResponseEntity&amp;lt;ClientErrorInformation&amp;gt; rulesForCustomerNotFound(HttpServletRequest req, Exception e) 
{
    ClientErrorInformation <span class="keyword">error</span> = <span class="keyword">new</span> ClientErrorInformation(e.toString(), req.getRequestURI());
    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&amp;lt;ClientErrorInformation&amp;gt;(<span class="keyword">error</span>, HttpStatus.NOT_FOUND);

}
</code></pre><p>&#x603B;&#x7ED3;&#xFF1A;&#x8FD9;&#x91CC;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7B2C;&#x4E8C;&#x79CD;&#xFF0C;&#x6211;&#x4EEC;&#x65E2;&#x53EF;&#x4EE5;&#x5728;&#x5355;&#x4E2A;Controller&#x4E2D;&#x5B9A;&#x4E49;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x6807;&#x6709;ControllerAdvice&#x6CE8;&#x89E3;&#x7684;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x4ECE;&#x800C;&#x4F7F;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5BF9;&#x6574;&#x4E2A;&#x7A0B;&#x5E8F;&#x6709;&#x6548;&#x3002; </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Net/">.Net</a><a href="/tags/REST/">REST</a><a href="/tags/Spring-MVC/">Spring MVC</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/13fcdc1/" title="项目搭建系列之二：SpringMVC框架下配置MyBatis -" itemprop="url">项目搭建系列之二：SpringMVC框架下配置MyBatis -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:51:22.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="1&#x3001;&#x4EC0;&#x4E48;&#x662F;MyBatis?_MyBatis&#x662F;&#x4E00;&#x4E2A;&#x652F;&#x6301;_&#x666E;&#x901A;**SQL**&#x67E5;&#x8BE2;_&#xFF0C;_&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;_&#x548C;_&#x9AD8;&#x7EA7;&#x6620;&#x5C04;_&#x7684;&#x4F18;&#x79C0;_&#x6301;&#x4E45;&#x5C42;&#x6846;&#x67B6;_&#x3002;MyBatis&#x6D88;&#x9664;&#x4E86;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;JDBC&#x4EE3;&#x7801;&#x548C;&#x53C2;&#x6570;&#x7684;&#x624B;&#x5DE5;&#x8BBE;&#x7F6E;&#x4EE5;&#x53CA;&#x5BF9;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x68C0;&#x7D22;&#x5C01;&#x88C5;&#x3002;MyBatis&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684;_XML&#x6216;&#x6CE8;&#x89E3;&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x548C;&#x539F;&#x59CB;&#x6620;&#x5C04;&#xFF0C;&#x5C06;&#x63A5;&#x53E3;&#x548C;Java&#x7684;POJO&#xFF08;Plain_Old_Java_Objects&#xFF0C;&#x666E;&#x901A;&#x7684;Java&#x5BF9;&#x8C61;&#xFF09;&#x6620;&#x5C04;&#x6210;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;">1&#x3001;&#x4EC0;&#x4E48;&#x662F;MyBatis? MyBatis&#x662F;&#x4E00;&#x4E2A;&#x652F;&#x6301; <strong><em>&#x666E;&#x901A;</em>**</strong><em>SQL</em><strong>**<em>&#x67E5;&#x8BE2;</em></strong> &#xFF0C; <strong><em>&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;</em></strong> &#x548C; <strong><em>&#x9AD8;&#x7EA7;&#x6620;&#x5C04;</em></strong> &#x7684;&#x4F18;&#x79C0; <strong>&#x6301;&#x4E45;&#x5C42;&#x6846;&#x67B6;</strong> &#x3002;MyBatis&#x6D88;&#x9664;&#x4E86;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;JDBC&#x4EE3;&#x7801;&#x548C;&#x53C2;&#x6570;&#x7684;&#x624B;&#x5DE5;&#x8BBE;&#x7F6E;&#x4EE5;&#x53CA;&#x5BF9;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x68C0;&#x7D22;&#x5C01;&#x88C5;&#x3002;MyBatis&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684; <strong>XML&#x6216;&#x6CE8;&#x89E3;</strong>&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x548C;&#x539F;&#x59CB;&#x6620;&#x5C04;&#xFF0C;&#x5C06;&#x63A5;&#x53E3;&#x548C;Java&#x7684;POJO&#xFF08;Plain Old Java Objects&#xFF0C;&#x666E;&#x901A;&#x7684;Java&#x5BF9;&#x8C61;&#xFF09;&#x6620;&#x5C04;&#x6210;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;</h3><h3 id="2&#x3001;&#x73AF;&#x5883;&#x51C6;&#x5907;_*_&#x642D;&#x5EFA;&#x597D;SpringMVC&#x6846;&#x67B6;&#xFF0C;&#x53EF;&#x4EE5;&#x9605;&#x8BFB;&#x300A;_&#x9879;&#x76EE;&#x642D;&#x5EFA;&#x7CFB;&#x5217;&#x4E4B;&#x4E00;&#xFF1A;&#x4F7F;&#x7528;Maven&#x642D;&#x5EFA;SpringMVC&#x9879;&#x76EE;_&#x300B;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5230;&#x6211;&#x7684;_GitHub&#x4E0B;&#x8F7D;&#x3002;">2&#x3001;&#x73AF;&#x5883;&#x51C6;&#x5907; * &#x642D;&#x5EFA;&#x597D;SpringMVC&#x6846;&#x67B6;&#xFF0C;&#x53EF;&#x4EE5;&#x9605;&#x8BFB;&#x300A; <a href="http://www.cnblogs.com/hehaiyang/p/4578488.html" target="_blank" rel="external">&#x9879;&#x76EE;&#x642D;&#x5EFA;&#x7CFB;&#x5217;&#x4E4B;&#x4E00;&#xFF1A;&#x4F7F;&#x7528;Maven&#x642D;&#x5EFA;SpringMVC&#x9879;&#x76EE;</a> &#x300B;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5230;&#x6211;&#x7684; <a href="https://github.com/hehaiyangwork/SpringMVC-Maven" target="_blank" rel="external">GitHub&#x4E0B;&#x8F7D;</a>&#x3002;</h3><ul>
<li>&#x6DFB;&#x52A0;jar&#x5305;</li>
</ul>
<p>&#x3010;MyBatis&#x3011; </p>
<pre><code><span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> mybatis begin <span class="subst">--&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;dependency<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;groupId<span class="subst">&amp;</span><span class="literal">gt</span>;org<span class="built_in">.</span>mybatis<span class="subst">&amp;</span><span class="literal">lt</span>;/groupId<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;artifactId<span class="subst">&amp;</span><span class="literal">gt</span>;mybatis<span class="subst">&amp;</span><span class="literal">lt</span>;/artifactId<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;version<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="number">3.2</span><span class="built_in">.3</span><span class="subst">&amp;</span><span class="literal">lt</span>;/version<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/dependency<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> mybatis end <span class="subst">--&amp;</span><span class="literal">gt</span>;
</code></pre><h4 id="&#x3010;MYSQL&#x9A71;&#x52A8;&#x5305;&#x3011;">&#x3010;MYSQL&#x9A71;&#x52A8;&#x5305;&#x3011;</h4><pre><code><span class="subst">&amp;</span><span class="literal">lt</span>;dependency<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;groupId<span class="subst">&amp;</span><span class="literal">gt</span>;mysql<span class="subst">&amp;</span><span class="literal">lt</span>;/groupId<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;artifactId<span class="subst">&amp;</span><span class="literal">gt</span>;mysql<span class="attribute">-connector</span><span class="attribute">-java</span><span class="subst">&amp;</span><span class="literal">lt</span>;/artifactId<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;version<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="number">5.1</span><span class="built_in">.31</span><span class="subst">&amp;</span><span class="literal">lt</span>;/version<span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/dependency<span class="subst">&amp;</span><span class="literal">gt</span>;
</code></pre><ul>
<li><p>&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;</p>
<p>  CREATE DATABASE mybatis_test;<br>  USE mybatis_test;<br>  CREATE TABLE user (</p>
<pre><code>name varchar(50) CHARACTER <span class="operator"><span class="keyword">SET</span> utf8 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,
age <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,
<span class="keyword">UNIQUE</span> <span class="keyword">KEY</span> name (name)</span>
</code></pre><p>  ) ENGINE=InnoDB DEFAULT CHARSET=utf8;</p>
</li>
</ul>
<h3 id="3&#x3001;MyBatis&#x914D;&#x7F6E;&#x4F7F;&#x7528;_*_&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x7C7B;User-java">3&#x3001;MyBatis&#x914D;&#x7F6E;&#x4F7F;&#x7528; * &#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x7C7B;User.java</h3><pre><code><span class="keyword">package</span> cn.jxufe.web.mybatis;
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{
    <span class="keyword">private</span> String name;
    <span class="keyword">private</span> Integer age;
    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> name;
    }
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>{
        <span class="keyword">this</span>.name = name;
    }
    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> age;
    }
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>{
        <span class="keyword">this</span>.age = age;
    }
    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name, Integer age)</span> </span>{
        <span class="keyword">super</span>();
        <span class="keyword">this</span>.name = name;
        <span class="keyword">this</span>.age = age;
    }
    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>{
        <span class="keyword">super</span>();
    }
}
</code></pre><ul>
<li><p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x6587;&#x4EF6;UserMapper.xml</p>
<p>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;<br>  &lt;!DOCTYPE mapper   </p>
<pre><code><span class="keyword">PUBLIC</span> &amp;quot;-<span class="comment">//mybatis.org//DTD Mapper 3.0//EN&amp;quot;   </span>
&amp;quot;http:<span class="comment">//mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;  </span>
</code></pre><p>&lt;!— &#x4E3A;&#x8FD9;&#x4E2A;mapper&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;namespace&#xFF0C;namespace&#x7684;&#x503C;&#x4E60;&#x60EF;&#x4E0A;&#x8BBE;&#x7F6E;&#x6210;&#x5305;&#x540D;+sql&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;namespace&#x7684;&#x503C;&#x662F;&#x552F;&#x4E00;&#x7684; —&gt;<br>&lt;mapper namespace=&quot;cn.jxufe.web.mybatis.UserMapper&quot;&gt;</p>
<pre><code>  &amp;lt;!-- &amp;<span class="array">#x</span>8FD9;&amp;<span class="array">#x</span>91CC;namespace&amp;<span class="array">#x</span>5FC5;&amp;<span class="array">#x</span>987B;&amp;<span class="array">#x</span>662F;UserMapper&amp;<span class="array">#x</span>63A5;&amp;<span class="array">#x</span>53E3;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>8DEF;&amp;<span class="array">#x</span>5F84;&amp;<span class="array">#xFF</span>0C;&amp;<span class="array">#x</span>4E0D;&amp;<span class="array">#x</span>7136;&amp;<span class="array">#x</span>8981;&amp;<span class="array">#x</span>8FD0;&amp;<span class="array">#x</span>884C;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>65F6;&amp;<span class="array">#x</span>5019;&amp;<span class="array">#x</span>8981;&amp;<span class="array">#x</span>62A5;&amp;<span class="array">#x</span>9519; &amp;<span class="array">#x</span>201C;is not known to the MapperRegistry&amp;<span class="array">#x</span>201D; --&amp;gt;
  &amp;lt;insert id=&amp;quot;insertUser&amp;quot; parameterType=&amp;quot;User&amp;quot;&amp;gt;
      insert into user(name,age) values(#{name},#{age})
      &amp;lt;!-- &amp;<span class="array">#x</span>8FD9;&amp;<span class="array">#x</span>91CC;sql&amp;<span class="array">#x</span>7ED3;&amp;<span class="array">#x</span>5C3E;&amp;<span class="array">#x</span>4E0D;&amp;<span class="array">#x</span>80FD;&amp;<span class="array">#x</span>52A0;&amp;<span class="array">#x</span>5206;&amp;<span class="array">#x</span>53F7;&amp;<span class="array">#xFF</span>0C;&amp;<span class="array">#x</span>5426;&amp;<span class="array">#x</span>5219;&amp;<span class="array">#x</span>62A5;&amp;<span class="array">#x</span>201C;ORA-<span class="number">00911</span>&amp;<span class="array">#x</span>201D;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>9519;&amp;<span class="array">#x</span>8BEF; --&amp;gt;
  &amp;lt;/insert&amp;gt;
&amp;lt;!-- &amp;<span class="array">#x</span>5728;select&amp;<span class="array">#x</span>6807;&amp;<span class="array">#x</span>7B7E;&amp;<span class="array">#x</span>4E2D;&amp;<span class="array">#x</span>7F16;&amp;<span class="array">#x</span>5199;&amp;<span class="array">#x</span>67E5;&amp;<span class="array">#x</span>8BE2;&amp;<span class="array">#x</span>7684;SQL&amp;<span class="array">#x</span>8BED;&amp;<span class="array">#x</span>53E5;&amp;<span class="array">#xFF</span>0C; &amp;<span class="array">#x</span>8BBE;&amp;<span class="array">#x</span>7F6E;select&amp;<span class="array">#x</span>6807;&amp;<span class="array">#x</span>7B7E;&amp;<span class="array">#x</span>7684;id&amp;<span class="array">#x</span>5C5E;&amp;<span class="array">#x</span>6027;&amp;<span class="array">#x</span>4E3A;getUser&amp;<span class="array">#xFF</span>0C;id&amp;<span class="array">#x</span>5C5E;&amp;<span class="array">#x</span>6027;&amp;<span class="array">#x</span>503C;&amp;<span class="array">#x</span>5FC5;&amp;<span class="array">#x</span>987B;&amp;<span class="array">#x</span>662F;&amp;<span class="array">#x</span>552F;&amp;<span class="array">#x</span>4E00;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#xFF</span>0C;  
</code></pre><p>  &#x4E0D;&#x80FD;&#x591F;&#x91CD;&#x590D;&#x4F7F;&#x7528;parameterType&#x5C5E;&#x6027;&#x6307;&#x660E;&#x67E5;&#x8BE2;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#xFF0C;resultType&#x5C5E;&#x6027;&#x6307;&#x660E;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x7C7B;&#x578B; —&gt;</p>
<pre><code>&amp;lt;!-- &amp;<span class="array">#x</span>8FD9;&amp;<span class="array">#x</span>91CC;&amp;<span class="array">#x</span>7684;id&amp;<span class="array">#x</span>5FC5;&amp;<span class="array">#x</span>987B;&amp;<span class="array">#x</span>548C;UserMapper&amp;<span class="array">#x</span>63A5;&amp;<span class="array">#x</span>53E3;&amp;<span class="array">#x</span>4E2D;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>63A5;&amp;<span class="array">#x</span>53E3;&amp;<span class="array">#x</span>65B9;&amp;<span class="array">#x</span>6CD5;&amp;<span class="array">#x</span>540D;&amp;<span class="array">#x</span>76F8;&amp;<span class="array">#x</span>540C;&amp;<span class="array">#xFF</span>0C;&amp;<span class="array">#x</span>4E0D;&amp;<span class="array">#x</span>7136;&amp;<span class="array">#x</span>8FD0;&amp;<span class="array">#x</span>884C;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>65F6;&amp;<span class="array">#x</span>5019;&amp;<span class="array">#x</span>4E5F;&amp;<span class="array">#x</span>8981;&amp;<span class="array">#x</span>62A5;&amp;<span class="array">#x</span>9519; --&amp;gt;
&amp;lt;select id=&amp;quot;getUser&amp;quot; resultType=&amp;quot;User&amp;quot; parameterType=&amp;quot;java.lang.String&amp;quot;&amp;gt;
    select * from user where name=#{name}
&amp;lt;/select&amp;gt;
</code></pre><p>  &lt;/mapper&gt;</p>
</li>
</ul>
<ul>
<li><p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x7C7B; UserMapper .java</p>
<p>  package cn.jxufe.web.mybatis;</p>
<p>  public interface UserMapper {</p>
<pre><code><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">insertUser</span><span class="params">(User user)</span></span>;

<span class="keyword">public</span> <span class="function">User <span class="title">getUser</span><span class="params">(String name)</span></span>;
</code></pre><p>  }</p>
</li>
<li><p>&#x65B0;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;mybatis-config.xml</p>
<p>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>  &lt;!DOCTYPE configuration   </p>
<pre><code><span class="keyword">PUBLIC</span> &amp;quot;-<span class="comment">//mybatis.org//DTD Config 3.0//EN&amp;quot;   </span>
&amp;quot;http:<span class="comment">//mybatis.org/dtd/mybatis-3-config.dtd&amp;quot;&amp;gt;   </span>
</code></pre><p>  &lt;configuration&gt;   </p>
<pre><code> <span class="subst">&amp;</span><span class="literal">lt</span>;settings<span class="subst">&amp;</span><span class="literal">gt</span>;   
     <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> changes from the defaults for testing <span class="subst">--&amp;</span><span class="literal">gt</span>;   
     <span class="subst">&amp;</span><span class="literal">lt</span>;setting name<span class="subst">=&amp;</span>quot;cacheEnabled<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;<span class="literal">false</span><span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;   
     <span class="subst">&amp;</span><span class="literal">lt</span>;setting name<span class="subst">=&amp;</span>quot;useGeneratedKeys<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;<span class="literal">true</span><span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;   
     <span class="subst">&amp;</span><span class="literal">lt</span>;setting name<span class="subst">=&amp;</span>quot;defaultExecutorType<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;REUSE<span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;   
 <span class="subst">&amp;</span><span class="literal">lt</span>;/settings<span class="subst">&amp;</span><span class="literal">gt</span>;   
 <span class="subst">&amp;</span><span class="literal">lt</span>;typeAliases<span class="subst">&amp;</span><span class="literal">gt</span>;   
    <span class="subst">&amp;</span><span class="literal">lt</span>;typeAlias alias<span class="subst">=&amp;</span>quot;User<span class="subst">&amp;</span>quot; <span class="keyword">type</span><span class="subst">=&amp;</span>quot;<span class="literal">cn</span><span class="built_in">.</span>jxufe<span class="built_in">.</span>web<span class="built_in">.</span>mybatis<span class="built_in">.</span>User<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;   
 <span class="subst">&amp;</span><span class="literal">lt</span>;/typeAliases<span class="subst">&amp;</span><span class="literal">gt</span>;   
 <span class="subst">&amp;</span><span class="literal">lt</span>;environments default<span class="subst">=&amp;</span>quot;development<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;   
    <span class="subst">&amp;</span><span class="literal">lt</span>;environment id<span class="subst">=&amp;</span>quot;development<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;   
        <span class="subst">&amp;</span><span class="literal">lt</span>;transactionManager <span class="keyword">type</span><span class="subst">=&amp;</span>quot;jdbc<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;     
<span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> <span class="subst">&amp;</span><span class="variable">#x914D</span>;<span class="subst">&amp;</span><span class="variable">#x7F6E</span>;<span class="subst">&amp;</span><span class="variable">#x6570</span>;<span class="subst">&amp;</span><span class="variable">#x636E</span>;<span class="subst">&amp;</span><span class="variable">#x5E93</span>;<span class="subst">&amp;</span><span class="variable">#x8FDE</span>;<span class="subst">&amp;</span><span class="variable">#x63A5</span>;<span class="subst">&amp;</span><span class="variable">#x4FE1</span>;<span class="subst">&amp;</span><span class="variable">#x606F</span>; <span class="subst">--&amp;</span><span class="literal">gt</span>;
        <span class="subst">&amp;</span><span class="literal">lt</span>;dataSource <span class="keyword">type</span><span class="subst">=&amp;</span>quot;POOLED<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;   
           <span class="subst">&amp;</span><span class="literal">lt</span>;property name<span class="subst">=&amp;</span>quot;driver<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;com<span class="built_in">.</span>mysql<span class="built_in">.</span>jdbc<span class="built_in">.</span>Driver<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;   
           <span class="subst">&amp;</span><span class="literal">lt</span>;property name<span class="subst">=&amp;</span>quot;url<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;jdbc:mysql:<span class="comment">//127.0.0.1:3306/mybatis_test&amp;quot;/&amp;gt;   </span>
           <span class="subst">&amp;</span><span class="literal">lt</span>;property name<span class="subst">=&amp;</span>quot;username<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;root<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;   
           <span class="subst">&amp;</span><span class="literal">lt</span>;property name<span class="subst">=&amp;</span>quot;password<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;<span class="number">123456</span><span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;   
        <span class="subst">&amp;</span><span class="literal">lt</span>;/dataSource<span class="subst">&amp;</span><span class="literal">gt</span>;   
    <span class="subst">&amp;</span><span class="literal">lt</span>;/environment<span class="subst">&amp;</span><span class="literal">gt</span>;   
 <span class="subst">&amp;</span><span class="literal">lt</span>;/environments<span class="subst">&amp;</span><span class="literal">gt</span>;   
 <span class="subst">&amp;</span><span class="literal">lt</span>;mappers<span class="subst">&amp;</span><span class="literal">gt</span>;
     <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> <span class="subst">&amp;</span><span class="variable">#x6CE8</span>;<span class="subst">&amp;</span><span class="variable">#x518C</span>;UserMapper<span class="built_in">.</span><span class="built_in">xml</span><span class="subst">&amp;</span><span class="variable">#x6587</span>;<span class="subst">&amp;</span><span class="variable">#x4EF6</span>;<span class="subst">--&amp;</span><span class="literal">gt</span>; 
     <span class="subst">&amp;</span><span class="literal">lt</span>;mapper resource<span class="subst">=&amp;</span>quot;mappers/UserMapper<span class="built_in">.</span><span class="built_in">xml</span><span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;   
 <span class="subst">&amp;</span><span class="literal">lt</span>;/mappers<span class="subst">&amp;</span><span class="literal">gt</span>;   
</code></pre><p>  &lt;/configuration&gt;</p>
</li>
</ul>
<ul>
<li><p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#x7C7B;MyBatisUtil.java,&#x7528;&#x4E8E;&#x521B;&#x5EFA;SqlSessionFactory&#x5B9E;&#x4F8B;&#xFF0C;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A; SqlSessionFactory&#x5B9E;&#x4F8B;&#x3002;</p>
<p>  package cn.jxufe.web.mybatis;<br>  import java.io.IOException;<br>  import java.io.Reader;<br>  import org.apache.ibatis.io.Resources;<br>  import org.apache.ibatis.session.SqlSessionFactory;<br>  import org.apache.ibatis.session.SqlSessionFactoryBuilder;<br>  public class MyBatisUtil {</p>
<pre><code><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;
<span class="keyword">static</span> {
    <span class="keyword">String</span> resource = &amp;quot;mybatis-config.xml&amp;quot;;
    Reader reader = <span class="keyword">null</span>;
    <span class="keyword">try</span> {
        reader = Resources.getResourceAsReader(resource);
    } <span class="keyword">catch</span> (IOException e) {
        System.out.<span class="built_in">println</span>(e.getMessage());
    }
    sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(reader);
}
<span class="keyword">public</span> <span class="keyword">static</span> SqlSessionFactory getSqlSessionFactory() {
    <span class="keyword">return</span> sqlSessionFactory;
}
</code></pre><p>  }</p>
</li>
</ul>
<ul>
<li><p>&#x6D4B;&#x8BD5;&#x8C03;&#x7528;</p>
<p>  package cn.jxufe.web.mybatis;<br>  import org.apache.ibatis.session.SqlSession;<br>  import org.apache.ibatis.session.SqlSessionFactory;<br>  public class TestMyBatis {</p>
<pre><code><span class="keyword">static</span> SqlSessionFactory sqlSessionFactory = <span class="literal">null</span>;
<span class="keyword">static</span> {
    sqlSessionFactory = MyBatisUtil.getSqlSessionFactory();
}
</code></pre><p>  //    public static void main(String[] args) {<br>  //        testAdd();<br>  //        getUser();<br>  //    }</p>
<pre><code><span class="xml">public static void testAdd() </span><span class="expression">{
    <span class="variable">SqlSession</span> <span class="variable">sqlSession</span> = <span class="variable">sqlSessionFactory.openSession</span>();
    <span class="variable">try</span> {
        <span class="variable">UserMapper</span> <span class="variable">userMapper</span> = <span class="variable">sqlSession.getMapper</span>(<span class="variable">UserMapper.class</span>);
        <span class="variable">User</span> <span class="variable">user</span> = <span class="variable">new</span> <span class="variable">User</span>(&amp;<span class="variable">quot</span>;<span class="variable">lisi</span>&amp;<span class="variable">quot</span>;, <span class="variable">new</span> <span class="variable">Integer</span>(25));
        <span class="variable">userMapper.insertUser</span>(<span class="variable">user</span>);
        <span class="variable">sqlSession.commit</span>();/<span class="end-block">/ </span>&amp;<span class="begin-block">#x</span>8<span class="variable">FD</span>9;&amp;<span class="begin-block">#x</span>91<span class="variable">CC</span>;&amp;<span class="begin-block">#x</span>4<span class="variable">E</span>00;&amp;<span class="begin-block">#x</span>5<span class="variable">B</span>9<span class="variable">A</span>;&amp;<span class="begin-block">#x</span>8981;&amp;<span class="begin-block">#x</span>63<span class="variable">D</span>0;&amp;<span class="begin-block">#x</span>4<span class="variable">EA</span>4;&amp;<span class="begin-block">#xFF</span>0<span class="variable">C</span>;&amp;<span class="begin-block">#x</span>4<span class="variable">E</span>0<span class="variable">D</span>;&amp;<span class="begin-block">#x</span>7136;&amp;<span class="begin-block">#x</span>6570;&amp;<span class="begin-block">#x</span>636<span class="variable">E</span>;&amp;<span class="begin-block">#x</span>8<span class="variable">FDB</span>;&amp;<span class="begin-block">#x</span>4<span class="variable">E</span>0<span class="variable">D</span>;&amp;<span class="begin-block">#x</span>53<span class="variable">BB</span>;&amp;<span class="begin-block">#x</span>6570;&amp;<span class="begin-block">#x</span>636<span class="variable">E</span>;&amp;<span class="begin-block">#x</span>5<span class="variable">E</span>93;&amp;<span class="begin-block">#x</span>4<span class="variable">E</span>2<span class="variable">D</span>;
    }</span><span class="xml"> finally </span><span class="expression">{
        <span class="variable">sqlSession.close</span>();
    }</span><span class="xml">
}
public static void getUser() </span><span class="expression">{
    <span class="variable">SqlSession</span> <span class="variable">sqlSession</span> = <span class="variable">sqlSessionFactory.openSession</span>();
    <span class="variable">try</span> {
        <span class="variable">UserMapper</span> <span class="variable">userMapper</span> = <span class="variable">sqlSession.getMapper</span>(<span class="variable">UserMapper.class</span>);
        <span class="variable">User</span> <span class="variable">user</span> = <span class="variable">userMapper.getUser</span>(&amp;<span class="variable">quot</span>;<span class="variable">lisi</span>&amp;<span class="variable">quot</span>;);
        <span class="variable">System.out.println</span>(&amp;<span class="variable">quot</span>;<span class="variable">name</span>: &amp;<span class="variable">quot</span>; + <span class="variable">user.getName</span>() + &amp;<span class="variable">quot</span>;|<span class="variable">age</span>: &amp;<span class="variable">quot</span>;
                + <span class="variable">user.getAge</span>());
    }</span><span class="xml"> finally </span><span class="expression">{
        <span class="variable">sqlSession.close</span>();
    }</span><span class="xml">
}</span>
</code></pre><p>  }</p>
</li>
</ul>
<ul>
<li>&#x5DE5;&#x7A0B;&#x76EE;&#x5F55;&#x7ED3;&#x6784;</li>
</ul>
<p><img src="http://taojinke.github.io/img/20150702/13f8212.png" alt=""></p>
<ul>
<li>&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;</li>
</ul>
<p><img src="http://taojinke.github.io/img/20150702/13f8212.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f8483.png" alt=""></p>
<ul>
<li><p>&#x6E90;&#x7801;&#x4E0B;&#x8F7D;</p>
<p><strong><a href="https://github.com/hehaiyangwork/MyBatisDemo-SpringMVC" target="_blank" rel="external">GitHub&#x4E0B;&#x8F7D;</a></strong></p>
</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/MyBatis/">MyBatis</a><a href="/tags/Spring-MVC/">Spring MVC</a><a href="/tags/数据库/">数据库</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/13f477a/" title="springmvc mybaits mysql oracle shiro ehcache HTM5 bootstrap  ui ace -" itemprop="url">springmvc mybaits mysql oracle shiro ehcache HTM5 bootstrap  ui ace -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:51:22.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><a href="http://item.taobao.com/item.htm?id=41222768202" target="_blank" rel="external"><strong>**</strong>&#x83B7;&#x53D6;&#x3010;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x3011;**</a> QQ: 313596790&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; uiace </p>
<p>A &#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;(&#x5F00;&#x53D1;&#x5229;&#x5668;);&#xA0;&#xA0; </p>
<p>&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x5904;&#x7406;&#x7C7B;&#xFF0C;service&#x5C42;&#xFF0C;mybatis&#x7684;xml&#xFF0C;SQL( mysql&#xA0; &#xA0;&#x548C;oracle)&#x811A;&#x672C;,&#xA0; &#xA0;jsp&#x9875;&#x9762; &#x90FD;&#x751F;&#x6210;</p>
<p>&#x5C31;&#x4E0D;&#x7528;&#x5199;&#x642C;&#x7816;&#x7684;&#x4EE3;&#x7801;&#x4E86;,&#x751F;&#x6210;&#x7684;&#x653E;&#x5230;&#x9879;&#x76EE;&#x91CC;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FD0;&#x884C;</p>
<p>B &#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;druid; </p>
<p>&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#xA0;&#xA0;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x7684; druid&#x3002;Druid&#x5728;&#x76D1;&#x63A7;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x3001;&#x7A33;&#x5B9A;&#x6027;&#x548C;&#x6027;&#x80FD;&#x65B9;&#x9762;&#x90FD;&#x6709;&#x660E;&#x663E;&#x7684;&#x4F18;&#x52BF;</p>
<p>C &#x5B89;&#x5168;&#x6743;&#x9650;&#x6846;&#x67B6;shiro ; </p>
<p>Shiro &#x662F;&#x4E00;&#x4E2A;&#x7528; Java &#x8BED;&#x8A00;&#x5B9E;&#x73B0;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x6613;&#x7528;&#x7684; API &#x63D0;&#x4F9B;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x548C;&#x6388;&#x6743;&#xFF0C;&#x66F4;&#x5B89;&#x5168;&#xFF0C;&#x66F4;&#x53EF;&#x9760;</p>
<p>D ehcache &#x81EA;&#x5B9A;&#x4E49;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;; </p>
<p>&#x662F;&#x4E00;&#x4E2A;&#x7EAF;Java&#x7684;&#x8FDB;&#x7A0B;&#x5185;&#x7F13;&#x5B58;&#x6846;&#x67B6;&#xFF0C;&#x5177;&#x6709;&#x5FEB;&#x901F;&#x3001;&#x7CBE;&#x5E72;&#x7B49;&#x7279;&#x70B9;</p>
<p>&#x662F;&#x4E00;&#x79CD;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;&#x7684;&#x5F00;&#x6E90;Java&#x5206;&#x5E03;&#x5F0F;&#x7F13;&#x5B58;&#x3002;</p>
<p>E &#x5FAE;&#x4FE1;&#x63A5;&#x53E3;&#x5F00;&#x53D1;(&#x540E;&#x7EED;&#x4F1A;&#x52A0;&#x5165;Activiti5 &#x5DE5;&#x4F5C;&#x6D41; &#xFF09; </p>
<hr>
<ol>
<li><p><strong>&#x6A21;&#x5757;&#x5316;&#x3001;&#x670D;&#x52A1;&#x5316;&#xFF0C;&#x6D41;&#x7A0B;&#x5316;&#xFF0C;&#x8026;&#x5408;&#x5EA6;&#x4F4E;&#x3001;&#x6269;&#x5C55;&#x6027;&#x597D;&#xFF0C;&#x7075;&#x6D3B;&#x5EA6;&#x9AD8;</strong> &#xFF0C;&#x5DE5;&#x5177;&#x7C7B;&#x5C01;&#x88C5;&#x5B8C;&#x6574;&#xFF0C;&#x5E72;&#x51C0;&#x5229;&#x7D22;&#xFF0C;&#x8C03;&#x7528;&#x7B80;&#x5355;&#x65B9;&#x4FBF; </p>
</li>
<li><p>&#x63D0;&#x4F9B;Rest&#x670D;&#x52A1;&#xFF0C;&#x652F;&#x6301;APP&#x624B;&#x673A;&#x5E94;&#x7528;(android&#x548C;ios)&#x63A5;&#x53E3;&#x3001;php&#x3001;.net&#x3001;&#x6613;&#x8BED;&#x8A00;&#x3001;VB&#x7B49;&#x7B2C;&#x4E09;&#x65B9;&#x63A5;&#x53E3;&#x8C03;&#x7528;</p>
</li>
<li><p>&#x5168;&#x65B0;&#x9AD8;&#x5927;&#x5C1A;HTML5+css3.0+bootstrap&#x54CD;&#x5E94;&#x5F0F;&#x5F00;&#x53D1;&#x754C;&#x9762;UI&#xFF0C;( &#x624B;&#x673A; PC &#x5E73;&#x677F; &#x622A;&#x56FE;&#x5728;&#x4E0B;&#x9762;)&#x3001;&#x524D;&#x6CBF;.&#xA0;&#xA0;spring restful &#x98CE;&#x683C;</p>
</li>
<li><p>&#x6846;&#x67B6;&#x642D;&#x5EFA;&#x5B8C;&#x5584;&#x6210;&#x719F;&#xFF0C;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x505A;&#x8FC7;&#x5F88;&#x591A;&#x9879;&#x76EE;&#xFF0C;&#x7CFB;&#x7EDF;&#x5177;&#x6709;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x3001;&#x7A33;&#x5B9A;&#x6027;&#x3002;</p>
</li>
<li><p>&#x7CFB;&#x7EDF;&#x529F;&#x80FD;&#x5B8C;&#x5584;&#xFF0C;&#x6B64;&#x4E3A;&#x6846;&#x67B6;&#x5E73;&#x53F0;&#xFF0C;&#x6587;&#x6863;&#x3001;&#x6CE8;&#x91CA;&#x9F50;&#x5168;&#xFF0C;&#x63D0;&#x4F9B;&#x6280;&#x672F;&#x652F;&#x6301;&#xFF0C;&#x4E13;&#x95E8;&#x4F9B;&#x4E8C;&#x6B21;&#x5F00;&#x53D1;</p>
</li>
</ol>
<p>7.&#x6211;&#x4EEC;&#x8FD9;&#x8FB9;&#x662F;&#x516C;&#x53F8;&#xFF0C;&#x4E3B;&#x8981;&#x4E1A;&#x52A1;&#x662F;&#x5B9A;&#x5236;&#x5F00;&#x53D1;,&#xA0;&#xA0;&#x6B64;&#x7CFB;&#x7EDF;&#x4E3A;&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x7ED9;&#x5BA2;&#x6237;&#x505A;&#x9879;&#x76EE;&#x7528;&#x7684;&#xFF0C;&#x7ECF;&#x8FC7;&#x5F88;&#x591A;&#x9879;&#x76EE;&#x5B9E;&#x6218;&#x8003;&#x9A8C;</p>
<p>————————————————————————————————————————————————————————————- <strong>&#x7CFB;&#x7EDF;&#x6A21;&#x5757;</strong></p>
<p> 1 . &#x7EC4;&#x7EC7;&#x7BA1;&#x7406;&#xFF1A;&#x89D2;&#x8272;&#x7BA1;&#x7406;&#xFF0C;&#x5206;&#x89D2;&#x8272;&#x7EC4;&#x548C;&#x6210;&#x5458;&#xFF0C;&#x6709;&#x7EC4;&#x6743;&#x9650;&#x548C;&#x6210;&#x5458;&#x6743;&#x9650;&#x3002; </p>
<p> 2 . &#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF1A;&#x5BF9;&#x5404;&#x4E2A;&#x57FA;&#x672C;&#x7684;&#x7EC4;&#x4F1A;&#x5458;&#x589E;&#x5220;&#x6539;&#x67E5;&#xFF0C;&#x5355;&#x53D1;&#x3001;&#x7FA4;&#x53D1;&#x90AE;&#x4EF6;&#x77ED;&#x4FE1;&#xFF0C;&#x5BFC;&#x5165;&#x5BFC;&#x51FA;excel&#x8868;&#x683C;&#xFF0C;&#x6279;&#x91CF;&#x5220;&#x9664; </p>
<p> 3 . &#x4F1A;&#x5458;&#x7BA1;&#x7406;&#xFF1A;&#x5BF9;&#x524D;&#x53F0;&#x7528;&#x6237;&#x7BA1;&#x7406;&#xFF0C;&#x5206;&#x914D;&#x4F1A;&#x5458;&#x7EA7;&#x522B;&#xFF0C;&#x5230;&#x671F;&#x65F6;&#x95F4;&#xFF0C;&#x72B6;&#x6001;&#xFF0C;&#x8054;&#x7CFB;&#x4FE1;&#x606F;&#x7B49;&#x8D44;&#x6599; </p>
<p> 4 . &#x83DC;&#x5355;&#x7BA1;&#x7406;&#xFF1A;&#x589E;&#x5220;&#x6539;&#x67E5;&#x83DC;&#x5355; ztree&#xFF08;&#x81EA;&#x5B9A;&#x4E49;&#x83DC;&#x5355;&#xFF09;&#x4E1A;&#x52A1;&#x83DC;&#x5355;&#x548C;&#x7CFB;&#x7EDF;&#x83DC;&#x5355;&#x5206;&#x79BB; </p>
<p> 5 . &#x6570;&#x636E;&#x5B57;&#x5178;&#xFF1A;&#x65E0;&#x9650;&#x7EA7;&#x522B;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x7EA7;&#x522B;&#x65E0;&#x9650;&#x5206;&#x7C7B;&#x3002;&#x5185;&#x8BBE;&#x7F16;&#x53F7;&#xFF0C;&#x6392;&#x5E8F;&#x7B49; </p>
<p> 6 . &#x7CFB;&#x7EDF;&#x8BBE;&#x7F6E;&#xFF1A;&#x4FEE;&#x6539;&#x7CFB;&#x7EDF;&#x540D;&#x79F0;&#xFF0C;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#xFF0C;&#x77ED;&#x4FE1;&#x8D26;&#x53F7;&#x8BBE;&#x7F6E;&#xFF0C;&#x56FE;&#x7247;&#x6C34;&#x5370;&#x914D;&#x7F6E;&#xFF0C;&#x5FAE;&#x4FE1;&#x914D;&#x7F6E; </p>
<p> 7 . &#x4EE3;&#x7801;&#x751F;&#x6210;&#xFF1A;&#x6253;&#x5F00;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;&#x6A21;&#x5757;&#xA0; &#xA0;&#xA0;&#xA0; </p>
<ol>
<li><p>&#x56FE;&#x5E93;&#x7BA1;&#x7406;&#xFF1A;&#x5BF9;&#x6279;&#x91CF;&#x4E0A;&#x4F20;&#x7684;&#x56FE;&#x7247;&#x7EDF;&#x4E00;&#x7BA1;&#x7406; </p>
<p><strong>9</strong> . &#x6027;&#x80FD;&#x76D1;&#x63A7;&#xFF1A;&#x76D1;&#x63A7;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x6027;&#x80FD;&#xFF0C;SQL&#x76D1;&#x63A7;&#xFF0C;SQL&#x9632;&#x706B;&#x5899;&#xFF0C;URL&#x76D1;&#x63A7;&#xFF0C;SPRING&#x76D1;&#x63A7;&#xFF0C;SESSION&#xFFFD;&#xFFFD;&#xFFFD;&#x63A7;&#x7B49; </p>
<p><strong>10</strong> . &#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#xFF1A;POST or GET &#x65B9;&#x5F0F;&#x68C0;&#x6D4B;&#x7CFB;&#x7EDF;&#x63A5;&#x53E3;&#xFF0C;&#x53C2;&#x6570;&#x52A0;&#x5BC6;&#xFF0C;json&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x8BA1;&#x7B97;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x65F6;&#x95F4; </p>
<p>11 . &#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF1A;&#x5355;&#x53D1;&#xFF0C;&#x7FA4;&#x53D1;&#x90AE;&#x4EF6;&#xA0; &#xA0; </p>
</li>
<li><p>&#x7F6E;&#x4E8C;&#x7EF4;&#x7801;&#xFF1A;&#x751F;&#x6210; or&#xA0;&#xA0;&#x89E3;&#x6790;&#x4E8C;&#x7EF4;&#x7801;&#xA0; &#xA0;&#xA0;&#xA0; </p>
</li>
</ol>
<p>13.&#x5730;&#x56FE;&#x5DE5;&#x5177;&#xFF1A;&#x7ECF;&#x7EAC;&#x5EA6;&#x64CD;&#x4F5C; </p>
<p> 14 . &#x5373;&#x65F6;&#x901A;&#x8BAF;&#xFF1A;&#x6253;&#x5F00;&#x5373;&#x65F6;&#x804A;&#x5929;&#x7A97;&#x53E3;</p>
<p> <strong>15</strong> . &#x5728;&#x7EBF;&#x7BA1;&#x7406;&#xFF1A;(&#x7EDF;&#x8BA1;&#x5728;&#x7EBF;&#x4EBA;&#x6570;&#x548C;&#x5728;&#x7EBF;&#x5217;&#x8868;&#xFF0C;&#x53EF;&#x5F3A;&#x5236;&#x67D0;&#x7528;&#x6237;&#x4E0B;&#x7EBF;)&#xFF0C; &#x540C;&#x4E00;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x5728;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x767B;&#x5F55; </p>
<hr>
<p>&#x83DC;&#x5355;&#x6743;&#x9650;&#xFF1A;&#x5206;&#x914D;&#x7ED9;&#x6BCF;&#x4E2A;&#x89D2;&#x8272;&#x4E0D;&#x540C;&#x7684;&#x83DC;&#x5355;&#x6743;&#x9650;, &#x6BCF;&#x4E2A;&#x89D2;&#x8272;&#x770B;&#x5230;&#x7684;&#x83DC;&#x5355;&#x4E0D;&#x540C;</p>
<p>&#x6309;&#x94AE;&#x6743;&#x9650;&#xFF1A;&#x72EC;&#x7ACB;&#x5206;&#x914D;&#x4E0D;&#x540C;&#x7684;&#x89D2;&#x8272;&#x4E0D;&#x540C;&#x7684;&#x529F;&#x80FD;&#x6743;&#x9650;&#xFF0C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x6743;&#x9650;&#x5206;&#x914D;&#x5177;&#x4F53;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x83DC;&#x5355;</p>
<p>&#x652F;&#x6301;&#x591A;&#x7528;&#x6237;&#x5206;&#x6743;&#x9650;&#x7BA1;&#x7406;&#x540E;&#x53F0;,&#xA0;&#xA0;&#x6743;&#x9650;&#x5177;&#x4F53;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x83DC;&#x5355;&#x4E0D;&#x540C;&#x7684;&#x6309;&#x94AE;</p>
<p>——————————————————————————————————————————————————————— <strong>&#x4FE1;&#x606F;&#x6A21;&#x5757;(&#x5C0F;&#x9879;&#x76EE;&#x4EE3;&#x7801;&#x4E2D;)</strong></p>
<p>&#x65B0;&#x95FB;&#x7BA1;&#x7406;&#xFF1A;&#x65B0;&#x95FB;&#x7684;&#x7EF4;&#x62A4;&#x3001;&#x53D1;&#x5E03;&#x3001;&#x6743;&#x91CD;&#x6392;&#x5E8F;&#x7B49; &#x91C7;&#x7528;&#x767E;&#x5EA6;ueditor&#x5BCC;&#x6587;&#x672C;&#x6846;</p>
<p>&#x516C;&#x544A;&#x7BA1;&#x7406;&#xFF1A;&#x516C;&#x544A;&#x7684;&#x7EF4;&#x62A4;&#x3001;&#x53D1;&#x5E03;</p>
<p>&#x5E7F;&#x544A;&#x7BA1;&#x7406;&#xFF1A;&#x5E7F;&#x544A;&#x7684;&#x7EF4;&#x62A4;&#x3001;&#x53D1;&#x5E03;&#xFF0C;&#x72B6;&#x6001;&#x7EF4;&#x62A4;&#xFF0C;&#x4E0A;&#x4F20;&#x5E7F;&#x544A;&#x56FE;&#x7247;</p>
<p>&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#xFF1A;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7684;&#x7EF4;&#x62A4;&#x3001;&#x72B6;&#x6001;&#x7EF4;&#x62A4;</p>
<p>&#x7279;&#x522B;&#x63A8;&#x8350;&#xFF1A;&#x7279;&#x522B;&#x63A8;&#x8350;&#x3001;&#x72B6;&#x6001;&#x7EF4;&#x62A4;</p>
<p>&#x5FAE;&#x4FE1;&#x6A21;&#x5757; </p>
<p>&#x5173;&#x6CE8;&#x56DE;&#x590D;&#xFF1A;&#x5FAE;&#x4FE1;&#x7528;&#x6237;&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#x56DE;&#x590D;</p>
<p>&#x6587;&#x672C;&#x56DE;&#x590D;&#xFF1A;&#x5339;&#x914D;&#x5173;&#x952E;&#x8BCD;&#x8FDB;&#x884C;&#x6587;&#x672C;&#x56DE;&#x590D;</p>
<p>&#x56FE;&#x6587;&#x56DE;&#x590D;&#xFF1A;&#x5339;&#x914D;&#x5173;&#x952E;&#x8BCD;&#x8FDB;&#x884C;&#x56FE;&#x6587;&#x56DE;&#x590D;</p>
<p>&#x5E94;&#x7528;&#x547D;&#x4EE4;&#xFF1A;&#x5339;&#x914D;&#x5173;&#x952E;&#x8BCD;&#x8FDB;&#x884C;&#x547D;&#x4EE4;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#x5FAE;&#x4FE1;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#xFF0C;&#x6267;&#x884C;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#x3001;&#x5173;&#x673A;&#x3001;&#x9501;&#x5B9A;&#x7B49;&#x64CD;&#x4F5C;</p>
<hr>
<p>&#x6280;&#x672F;&#x70B9; </p>
<ol>
<li>&#x5BFC;&#x51FA; &#x5BFC;&#x5165; excel &#x6587;&#x4EF6; </li>
</ol>
<p>2&#xA0;&#xA0;&#x5BFC;&#x51FA;word&#x6587;&#x4EF6; </p>
<ol>
<li><p>IO &#x6D41;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6; </p>
</li>
<li><p>&#x7FA4;&#x53D1;&#x90AE;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x53D1;html&#x3001;&#x7EAF;&#x6587;&#x672C;&#x683C;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x53D1;&#x7ED9;&#x4EFB;&#x610F;&#x90AE;&#x7BB1;(&#x5B9E;&#x73B0;&#x6279;&#x91CF;&#x53D1;&#x9001;&#x5E7F;&#x544A;&#x90AE;&#x4EF6;) </p>
</li>
<li><p>&#x7FA4;&#x53D1;or&#x5355;&#x72EC; &#x53D1;&#x9001;&#x77ED;&#x4FE1;&#xFF0C;&#x652F;&#x6301;&#x4E24;&#x79CD;&#x7B2C;&#x4E09;&#x65B9;&#x77ED;&#x4FE1;&#x5546;&#x63A5;&#x53E3; </p>
</li>
<li><p>spring&#xA0; &#xA0;aop&#xA0;&#xA0;&#x4E8B;&#x7269;&#x5904;&#x7406; </p>
</li>
<li><p>&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668; (freemarker)&#xFF0C; &#x4EE3;&#x7801; zip &#x538B;&#x7F29;&#x6253;&#x5305; </p>
</li>
<li><p>MD5&#x52A0;&#x5BC6; SHA&#x52A0;&#x5BC6;&#xFF08;&#x767B;&#x5F55;&#x5BC6;&#x7801;&#x7528;&#x6B64;&#x52A0;&#x5BC6;&#xFF09;&#x63A5;&#x53E3;&#x52A0;&#x5BC6;&#x8EAB;&#x4EFD;&#x6821;&#x9A8C; </p>
</li>
<li><p>&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#xA0;&#xA0;&#x963F;&#x91CC;&#x7684; druid&#x3002;Druid&#x5728;&#x76D1;&#x63A7;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x3001;&#x7A33;&#x5B9A;&#x6027;&#x548C;&#x6027;&#x80FD;&#x65B9;&#x9762;&#x90FD;&#x6709;&#x660E;&#x663E;&#x7684;&#x4F18;&#x52BF;,&#x652F;&#x6301;&#x5E76;&#x53D1; </p>
</li>
</ol>
<p>10.&#x52A0;&#x5165;&#x5B89;&#x5168;&#x6846;&#x67B6; shiro (&#x767B;&#x5F55;&#x6388;&#x6743;)(session&#x7BA1;&#x7406;) </p>
<p>11.&#x6839;&#x636E;&#x6C49;&#x5B57; &#x89E3;&#x6790;&#x6C49;&#x5B57;&#x7684;&#x5168;&#x62FC;(&#x62FC;&#x97F3;)&#x548C;&#x9996;&#x5B57;&#x6BCD;(&#x5BFC;&#x5165;excel&#x5230;&#x7528;&#x6237;&#x8868;&#xFF0C;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x6C49;&#x5B57;&#x59D3;&#x540D;&#x751F;&#x6210;&#x62FC;&#x97F3;&#x7684;&#x7528;&#x6237;&#x540D;) </p>
<p> <strong>12.app&#x63A5;&#x53E3;</strong>@ResponseBody <strong>&#xFF08;&#x652F;&#x6301;&#x4E0E;&#x5176;&#x5B83;&#x8BED;&#x8A00;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF09;</strong></p>
<p>13.&#x6781;&#x5149;&#x63A8;&#x9001; (&#x63A8;&#x9001;&#x7ED9;APP&#x53CA;&#x65F6;&#x6D88;&#x606F;&#xFF0C;APP&#x4E0D;&#x542F;&#x52A8;&#x4E5F;&#x80FD;&#x6536;&#x5230;) </p>
<p>14.&#x5FAE;&#x4FE1;&#x63A5;&#x53E3;(&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;&#x6587;&#x672C;&#x3001;&#x56FE;&#x6587;&#x56DE;&#x590D;&#x7B49;) &#x5FAE;&#x4FE1;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#x3001;&#x9501;&#x5B9A;&#x3001;&#x5176;&#x5B83;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; </p>
<p> <strong>15.java Quartz</strong> <strong>&#x5B9A;&#x65F6;&#x5668; &#xFF08;&#x5B9A;&#x65F6;&#x6267;&#x884C;&#x67D0;&#x7A0B;&#x5E8F;&#xFF0C;&#x7CBE;&#x786E;&#x5230;&#x79D2;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x5468;&#x671F;&#xFF09;</strong></p>
<p>16.java websocket &#x5373;&#x65F6;&#x901A;&#x8BAF;&#x6280;&#x672F;&#xFF0C;&#x70B9;&#x5BF9;&#x70B9;&#xFF0C;&#x7FA4;&#x804A;&#xFF0C;&#x5355;&#x804A;&#xFF0C;EXT4&#x5BF9;&#x8BDD;&#x6846; </p>
<p> <strong>17.&#x65B0;&#x589E;Lucene</strong> <strong>&#x5168;&#x6587;&#x68C0;&#x7D22;</strong></p>
<p>18.Base64&#x4F20;&#x8F93;&#x56FE;&#x7247; </p>
<p>19.&#x56FE;&#x7247;&#x52A0;&#x6C34;&#x5370;(&#x56FE;&#x7247;&#x6C34;&#x5370;&#xFF0C;&#x6587;&#x5B57;&#x6C34;&#x5370;&#xFF09; </p>
<p>20.&#x751F;&#x6210; or&#xA0;&#xA0;&#x89E3;&#x6790; &#x4E8C;&#x7EF4;&#x7801; </p>
<p> <strong>21.HTML5 + JAVAEE&#xA0;&#xA0;WebSocket &#x901A;&#x4FE1;&#x6280;&#x672F;&#xFF0C;</strong> <strong>WebSocket &#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x767B;&#x5F55;&#xFF0C;&#x5F3A;&#x5236;&#x67D0;&#x7528;&#x6237;&#x4E0B;&#x7EBF;</strong></p>
<p>22.&#x6279;&#x91CF;&#x5F02;&#x6B65;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#xFF0C;&#x53EF;&#x9884;&#x89C8;&#xFF0C;&#x6709;&#x8FDB;&#x5EA6;&#x6761;&#xFF0C;&#x652F;&#x6301;&#x62D6;&#x62FD;&#x4E0A;&#x4F20;(&#x767E;&#x5EA6;webuploader )&#x3002;&#x5217;&#x8868;&#x52A8;&#x6001;&#x6ED1;&#x52A8;&#x653E;&#x5927;&#x5C55;&#x793A;&#x3002; </p>
<p>23.ehcache &#x81EA;&#x5B9A;&#x4E49;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58; &#xFF0C;&#x9009;&#x62E9;&#x7F13;&#x5B58;&#x5B58;&#x653E;&#x76EE;&#x5F55;&#xFF0C;&#x5904;&#x7406;&#x5E76;&#x53D1;&#xFF0C;&#x589E;&#x52A0;&#x7CFB;&#x7EDF;&#x6027;&#x80FD; </p>
<p>24.&#x670D;&#x52A1;&#x5668;&#x5185;&#x90E8;GET POST &#x8BF7;&#x6C42; </p>
<p>25.uploadify &#x4E0A;&#x4F20;&#x63D2;&#x4EF6;&#xFF0C;&#x5355;&#x6761;&#x3001;&#x6279;&#x91CF;&#x4E0A;&#x4F20;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5E26;&#x8FDB;&#x5EA6;&#x6761;&#xFF0C;&#x5F02;&#x6B65;&#xFF0C;&#x56FE;&#x7247;&#x3001;&#x89C6;&#x9891;, &#x5176;&#x5B83;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x5747;&#x53EF;&#x4E0A;&#x4F20; </p>
<p>26.&#x5730;&#x56FE;&#x9009;&#x70B9;&#x83B7;&#x53D6;&#x7ECF;&#x7EAC;&#x5EA6;&#x5750;&#x6807;&#xFF0C;&#x6839;&#x636E;&#x4FE9;&#x7ECF;&#x7EAC;&#x5EA6;&#x8BA1;&#x7B97;&#x8DDD;&#x79BB; </p>
<p>27.tab&#x6807;&#x7B7E;&#x9875;&#x9762;&#x529F;&#x80FD;&#xFF0C;&#x6807;&#x7B7E;&#x81EA;&#x7531;&#x5207;&#x6362;&#xFF0C;&#x4E0D;&#x91CD;&#x590D;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93; </p>
<hr>
<p>&#x7CFB;&#x7EDF;&#x6846;&#x67B6;&#x4E3A;&#xFF1A; <strong>springmvc</strong> + <strong>mybaits 3.2</strong> &#x6709; <strong>maven</strong> &#x7248;&#x672C;&#x548C; <strong>&#x975E;maven</strong> &#x7248;&#x672C; jdk 1.6 1.7 1.8&#xA0;&#xA0;tomcat 6 7 8 </p>
<p>&#x6570;&#x636E;&#x5E93;&#xFF1A;oracle &#x7248;&#x672C; &#x548C; msyql &#x7248;&#x672C; ( spring3.0 &#x548C;4.02&#xA0;&#xA0;mybaits 3.2)&#xA0; &#xA0;&#xA0;&#xA0;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#xFF1A;myeclipse&#xA0;&#xA0;eclipse &#x5747;&#x53EF;</p>
<p>&#x8D60;&#x9001; &#x540C;UI&#xA0; &#xA0;&#xA0; &#xA0;springmvc + hibernate&#xA0;&#xA0; SpringSecurity  Lucene  Quartz MySQL&#x3001;Oracle&#x3001;SQL Server </p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<hr>
<p>&#x7CFB;&#x7EDF;&#x6F14;&#x793A;&#x89C6;&#x9891;&#xFF1A; <a href="http://pan.baidu.com/s/1kTDvAn1" target="_blank" rel="external">http://pan.baidu.com/s/1kTDvAn1</a> &#x4E4B;&#x524D;&#x5F55;&#x7684;(&#x6709;&#x70B9;&#x7C97;&#x7CD9;, &#x51D1;&#x5408;&#x7740;&#x770B;) </p>
<p>qq&#xFF1A;313596790</p>
<hr>
<p>PC&#x5B9E;&#x7269;&#x622A;&#x56FE;&#x5982;&#x4E0B; </p>
<p>&#x767B;&#x5F55;&#x754C;&#x9762;&#x80CC;&#x666F;&#x7528;HTML5&#x7279;&#x6548;&#x81EA;&#x52A8;&#x5207;&#x6362;(&#x767E;&#x53F6;&#x7A97;&#xFF0C;&#x5E55;&#x5E03;&#x7B49;&#x591A;&#x79CD;&#x5207;&#x6362;&#x65B9;&#x5F0F;)</p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.jpg" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.jpg" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206a.jpg" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206b.jpg" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206b.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206b.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206b.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206b.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206b.png" alt=""></p>
<p><img src="http://taojinke.github.io/img/20150702/13f206b.png" alt=""></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Spring-MVC/">Spring MVC</a><a href="/tags/数据库/">数据库</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/13e9a23/" title="springMVC 接收数组参数，mybatis 接收数组参数，mybatis批量插入/批量删除案例 -" itemprop="url">springMVC 接收数组参数，mybatis 接收数组参数，mybatis批量插入/批量删除案例 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:51:22.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>&#x6848;&#x4F8B;&#x662F;&#x7ED9;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x8D4B;&#x4E88;&#x591A;&#x4E2A;&#x6743;&#x9650;&#xFF0C;&#x591A;&#x4E2A;&#x6743;&#x9650;&#x7528;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x4E3B;&#x952E; id &#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x7EC4;&#x6210;&#x4E86; &#x4E00;&#x4E2A;id&#x6570;&#x7EC4;&#xFF0C;&#x4F20;&#x7ED9;springMVC&#xFF0C;&#x7136;&#x540E;springMVC&#x4F20;&#x7ED9;mybatis&#xFF0C;&#x7136;&#x540E;mybatis&#x6279;&#x91CF;&#x63D2;&#x5165;&#x3002;&#x5176;&#x5B9E;&#x7C7B;&#x4F3C;&#x7684;&#x573A;&#x666F;&#x8FD8;&#x6709;&#x6279;&#x91CF;&#x5220;&#x9664;&#x591A;&#x4E2A;&#xFF0C;&#x4E5F;&#x662F;&#x7C7B;&#x4F3C;&#x7684;&#x3002;</p>
<ol>
<li><p>&#x524D;&#x53F0;&#x9875;&#x9762; </p>
<pre><code><span class="subst">&amp;</span><span class="literal">lt</span>;thead<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;tr<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;th<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="variable">#x6743</span>;<span class="subst">&amp;</span><span class="variable">#x9650</span>;<span class="subst">&amp;</span><span class="variable">#x9009</span>;<span class="subst">&amp;</span><span class="variable">#x62E9</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/th<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;th<span class="subst">&amp;</span><span class="literal">gt</span>;name<span class="subst">&amp;</span><span class="literal">lt</span>;/th<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;th<span class="subst">&amp;</span><span class="literal">gt</span>;permission<span class="subst">&amp;</span><span class="literal">lt</span>;/th<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/tr<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/thead<span class="subst">&amp;</span><span class="literal">gt</span>;
          <span class="subst">&amp;</span><span class="literal">lt</span>;c:forEach <span class="built_in">var</span><span class="subst">=&amp;</span>quot;priv<span class="subst">&amp;</span>quot; items<span class="subst">=&amp;</span>quot;${<span class="built_in">list</span> }<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
               <span class="subst">&amp;</span><span class="literal">lt</span>;tr class<span class="subst">=&amp;</span>quot;odd gradeX<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
              <span class="subst">&amp;</span><span class="literal">lt</span>;td<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;input <span class="keyword">type</span><span class="subst">=&amp;</span>quot;checkbox<span class="subst">&amp;</span>quot; name<span class="subst">=&amp;</span>quot;priv_id<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;${priv<span class="built_in">.</span>id}<span class="subst">&amp;</span>quot; <span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/td<span class="subst">&amp;</span><span class="literal">gt</span>;
              <span class="subst">&amp;</span><span class="literal">lt</span>;td<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;c:out value<span class="subst">=&amp;</span>quot;${priv<span class="built_in">.</span>name}<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/td<span class="subst">&amp;</span><span class="literal">gt</span>;
              <span class="subst">&amp;</span><span class="literal">lt</span>;td<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;c:out value<span class="subst">=&amp;</span>quot;${priv<span class="built_in">.</span>permission}<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">lt</span>;/td<span class="subst">&amp;</span><span class="literal">gt</span>;
            <span class="subst">&amp;</span><span class="literal">lt</span>;/tr<span class="subst">&amp;</span><span class="literal">gt</span>;
          <span class="subst">&amp;</span><span class="literal">lt</span>;/c:forEach<span class="subst">&amp;</span><span class="literal">gt</span>;
</code></pre></li>
<li><p>jquery&#x83B7;&#x5F97;&#x9009;&#x4E2D;&#x7684;&#x9879;&#x7684;id&#x503C;&#xFF1A; </p>
<p>//jquery&#x83B7;&#x53D6;&#x590D;&#x9009;&#x6846;&#x503C;    </p>
<pre><code>var priv_ids =[];//&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x4E2A</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x7EC4</span>;    
<span class="char">$(</span>&amp;apos;input[name=&amp;quot;priv_id&amp;quot;]:checked&amp;apos;).each(function(){    // &amp;<span class="symbol">#x904D</span>;&amp;<span class="symbol">#x5386</span>;&amp;<span class="symbol">#x6BCF</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x4E2A</span>;name&amp;<span class="symbol">#x4E3A</span>;priv_id&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x590D</span>;&amp;<span class="symbol">#x9009</span>;&amp;<span class="symbol">#x6846</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x5176</span>;&amp;<span class="symbol">#x4E2D</span>;&amp;<span class="symbol">#x9009</span>;&amp;<span class="symbol">#x4E2D</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6267</span>;&amp;<span class="symbol">#x884C</span>;&amp;<span class="symbol">#x51FD</span>;&amp;<span class="symbol">#x6570</span>;    
    priv_ids.push(<span class="char">$.</span>trim(<span class="char">$(</span>this).val()));    // &amp;<span class="symbol">#x5C06</span>;&amp;<span class="symbol">#x9009</span>;&amp;<span class="symbol">#x4E2D</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x503C</span>;&amp;<span class="symbol">#x6DFB</span>;&amp;<span class="symbol">#x52A0</span>;&amp;<span class="symbol">#x5230</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x7EC4</span>;priv_ids&amp;<span class="symbol">#x4E2D</span>;    
});
console.log(priv_ids);
var indata = {<span class="method">userId:</span>user_id, <span class="method">privIds:</span>priv_ids};
<span class="char">$.</span>post(&amp;quot;/ems/priv/setPrivilege&amp;quot;, indata, function(data){
    if(data != null &amp;amp;&amp;amp; data.result == &amp;apos;ok&amp;apos;){
        console.log(data.msg);
        alert(data.msg);
    }else{
        alert(data.msg);
    }
}, &amp;apos;json&amp;apos;);
</code></pre></li>
</ol>
<p>&#x63D0;&#x4EA4;&#x7684;json&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF1A; var indata = {userId:user_id, privIds:priv_ids};</p>
<p>&#x5176;&#x4E2D;&#x7684;  priv_ids  &#x662F;&#x4E00;&#x4E2A;&#x6709; id &#x7EC4;&#x6210;&#x7684;&#x6570;&#x7EC4;&#x3002; </p>
<p> <strong>3.</strong> springMVC&#x63A5;&#x6536;&#x6570;&#x7EC4;&#x53C2;&#x6570;&#xFF1A; </p>
<pre><code>@<span class="type">RequestMapping</span>(value=&amp;quot;/setPrivilege&amp;quot;)
@<span class="type">ResponseBody</span>
public <span class="type">void</span> setPrivilege(@<span class="type">RequestParam</span>(value = &amp;quot;privIds[]&amp;quot;) <span class="type">Integer</span>[] privIds, <span class="type">Integer</span> userId, <span class="type">PrintWriter</span> writer){
    <span class="type">System</span>.<span class="keyword">out</span>.println(<span class="type">JSON</span>.toJSONString(privIds));
    <span class="type">System</span>.<span class="keyword">out</span>.println(<span class="type">JSON</span>.toJSONString(userId));
    <span class="type">int</span> <span class="literal">result</span> = this.privilegeService.setPrivilegeForUser(privIds, userId);
    <span class="type">System</span>.<span class="keyword">out</span>.println(&amp;quot;<span class="literal">result</span>=&amp;quot; + <span class="type">JSON</span>.toJSONString(<span class="literal">result</span>));
    <span class="type">Map</span>&amp;lt;<span class="type">String</span>, <span class="type">String</span>&amp;gt; map = new <span class="type">HashMap</span>&amp;lt;&amp;gt;();
    <span class="keyword">if</span>(<span class="literal">result</span> &amp;gt; <span class="number">0</span>){
        map.put(&amp;quot;<span class="literal">result</span>&amp;quot;, &amp;quot;ok&amp;quot;);
        map.put(&amp;quot;msg&amp;quot;, &amp;quot;&amp;<span class="comment">#x8BBE;&amp;#x7F6E;&amp;#x6210;&amp;#x529F;&amp;quot;);</span>
        writer.write(<span class="type">JSON</span>.toJSONString(map));
    }
}
</code></pre><p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#x4F7F;&#x7528;&#x4E86;&#xFF1A; <strong>@RequestParam(value = &quot;privIds[]&quot;</strong> ) Integer[] privIds &#x6765;&#x83B7;&#x53D6;&#x524D;&#x53F0;&#x4F20;&#x6765;&#x7684;&#x6570;&#x7EC4;&#x53C2;&#x6570;&#x3002; </p>
<p>springMVC&#x63A5;&#x6536;&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x6700;&#x597D;&#x4E0D;&#x8981;&#x4F7F;&#x7528; int, long&#x7B49;&#x539F;&#x59CB;&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x5BF9;&#x5E94;&#x7684;&#x5305;&#x88C5;&#x7C7B;&#x578B;&#xFF0C;&#x4E0D;&#x7136;&#x5F53;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x800C;&#x5305;&#x88C5;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;null&#x8868;&#x793A;&#x4F20;&#x5165;&#x7684;&#x7A7A;&#x503C;&#x3002;</p>
<ol>
<li><p>service&#x5C42;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;map&#x5411;mybatis&#x4F20;&#x9012;&#x53C2;&#x6570;&#xFF1A; </p>
<p>@Service(&quot;privilegeService&quot;)<br>@Transactional<br>public class PrivilegeServiceImpl implements PrivilegeService {</p>
<pre><code><span class="variable">@Autowired</span>
private PrivilegeMapper privilegeMapper;
<span class="variable">@Override</span>
<span class="variable">@Transactional</span>(readOnly=true)
public List&amp;<span class="keyword">lt</span>;Privilege&amp;<span class="keyword">gt</span>; getAllPrivilege() {
    <span class="keyword">return</span> privilegeMapper.getAllPrivilege();
}
<span class="variable">@Override</span>
public <span class="keyword">int</span> setPrivilegeForUser(Integer[] privIds, Integer userId) {
    Map&amp;<span class="keyword">lt</span>;String, Object&amp;<span class="keyword">gt</span>; <span class="keyword">map</span> = new HashMap&amp;<span class="keyword">lt</span>;&amp;<span class="keyword">gt</span>;();
    <span class="keyword">map</span>.put(&amp;quot;privIds&amp;quot;, privIds);
    <span class="keyword">map</span>.put(&amp;quot;userId&amp;quot;, userId);
    <span class="keyword">return</span> this.privilegeMapper.setPrivilegeForUser(<span class="keyword">map</span>);
}
</code></pre><p>}</p>
</li>
</ol>
<ol>
<li><p>&#x6700;&#x540E;&#x770B; mybatis &#x7684; xml &#x4E2D;&#x7684;sql&#x5982;&#x4F55;&#x5199;&#xFF1A; </p>
<p>&lt;insert id=&quot;setPrivilegeForUser&quot; parameterType=&quot;map&quot;&gt;</p>
<pre><code>insert into user_privilege(user_id, privilege_id) <span class="keyword">values</span> 
&amp;<span class="keyword">lt</span>;<span class="keyword">foreach</span> collection=&amp;quot;privIds&amp;quot; <span class="keyword">index</span>=&amp;quot;<span class="keyword">index</span>&amp;quot; item=&amp;quot;item&amp;quot; separator=&amp;quot;,&amp;quot;&amp;<span class="keyword">gt</span>;
    ( <span class="comment">#{userId}, #{item} )</span>
&amp;<span class="keyword">lt</span>;<span class="regexp">/foreach&amp;gt;</span>
</code></pre><p>  &lt;/insert&gt;</p>
</li>
</ol>
<p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#x4F7F;&#x7528;&#x4E86; foreach &#x6765;&#x5FAA;&#x73AF;&#x4F20;&#x9012;&#x8FDB;&#x6765;&#x7684;&#x6570;&#x7EC4; privIds &#xFF0C;&#x6700;&#x540E;&#x7EC4;&#x6210;&#x7684;sql&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; </p>
<pre><code>insert into user_privilege<span class="params">(user_id, privilege_id)</span> values <span class="params">(<span class="number">3</span>, <span class="number">1</span>)</span>,<span class="params">(<span class="number">3</span>,<span class="number">2</span>)</span>,<span class="params">(<span class="number">3</span>&amp;#xFF0C;<span class="number">3</span>)</span>,<span class="params">(<span class="number">3</span>,<span class="number">4</span>)</span>
</code></pre><p>user_id &#x4E0D;&#x53D8;&#xFF0C;&#x800C;privilege_id &#x662F;&#x6570;&#x7EC4; privIds &#x4E2D;&#x7684;&#x5FAA;&#x73AF;&#x51FA;&#x6765;&#x7684; id &#x503C;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6279;&#x91CF;&#x63D2;&#x5165;&#x3002; </p>
<p> <strong>6.</strong> &#x6279;&#x91CF;&#x5220;&#x9664;&#x591A;&#x4E2A;&#x7684;&#x5904;&#x7406; </p>
<p>&#x5220;&#x9664;&#x65F6;&#xFF0C;&#x548C;&#x524D;&#x9762;&#x6279;&#x91CF;&#x63D2;&#x5165;&#x5904;&#x7406;&#x4E5F;&#x662F;&#x6781;&#x5176;&#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x53EA;&#x5728;&#x6700;&#x540E;mybatis&#x4E2D;xml&#x4E2D;sql&#x7684;&#x5199;&#x6CD5;&#x6709;&#x70B9;&#x533A;&#x522B;&#xFF1A;</p>
<pre><code>&amp;<span class="keyword">lt</span>;<span class="keyword">delete</span> id=&amp;quot;deleteByIds&amp;quot; parameterType=&amp;quot;java.util.List&amp;quot;&amp;<span class="keyword">gt</span>;
      <span class="keyword">delete</span> from user_privilege where id in
      &amp;<span class="keyword">lt</span>;<span class="keyword">foreach</span> collection=&amp;quot;list&amp;quot; <span class="keyword">index</span>=&amp;quot;<span class="keyword">index</span>&amp;quot; item=&amp;quot;item&amp;quot; <span class="keyword">open</span>=&amp;quot;(&amp;quot; separator=&amp;quot;,&amp;quot; <span class="keyword">close</span>=&amp;quot;)&amp;quot;&amp;<span class="keyword">gt</span>;   
        <span class="comment">#{item}   </span>
      &amp;<span class="keyword">lt</span>;<span class="regexp">/foreach&amp;gt;  
  &amp;lt;/delete</span>&amp;<span class="keyword">gt</span>;
</code></pre><p>&#x6BD4;&#x8F83;&#x6279;&#x91CF;&#x5220;&#x9664;&#x548C;&#x6279;&#x91CF;&#x63D2;&#x5165;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;  foreach &#x4E2D;&#x7684; open=&quot;(&quot; &#x548C; close=&quot;)&quot; &#x53EA;&#x5728;&#x5FAA;&#x73AF;&#x7684;&#x5F00;&#x59CB;&#x548C;&#x7ED3;&#x675F;&#x4F1A;&#x52A0;&#x4E0A;  &#xFF0C;&#x800C; <strong>separator=&quot;,&quot; &#x662F;&#x6BCF;&#x5FAA;&#x73AF;&#x4E00;&#x6B21;&#xFF0C;&#x5C31;&#x52A0;&#x4E00;&#x6B21;&#x9017;&#x53F7;</strong> &#x3002; </p>
<p> <strong>7.</strong> &#x6279;&#x91CF;&#x63D2;&#x5165;&#x4F20;&#x5165;&#x5BF9;&#x8C61;List&#x7684;&#x4F8B;&#x5B50;&#xFF1A; </p>
<pre><code>&amp;<span class="keyword">lt</span>;insert id=&amp;quot;batchInsertStudent&amp;quot; parameterType=&amp;quot;java.util.List&amp;quot;&amp;<span class="keyword">gt</span>;  
    insert into student (id,name,sex,tel,address) <span class="keyword">values</span>
    &amp;<span class="keyword">lt</span>;<span class="keyword">foreach</span> collection=&amp;quot;list&amp;quot; item=&amp;quot;item&amp;quot; <span class="keyword">index</span>=&amp;quot;<span class="keyword">index</span>&amp;quot; separator=&amp;quot;,&amp;quot; &amp;<span class="keyword">gt</span>;  
        (<span class="comment">#{item.id},#{item.name},#{item.sex},#{item.tel},#{item.address})  </span>
    &amp;<span class="keyword">lt</span>;<span class="regexp">/foreach&amp;gt;  
&amp;lt;/insert</span>&amp;<span class="keyword">gt</span>;
</code></pre><p>&#x5176;&#x5B9E;&#x638C;&#x63E1;&#x4E86; &#x6279;&#x91CF;&#x63D2;&#x5165;&#x548C;&#x6279;&#x91CF;&#x5220;&#x9664;&#xFF0C;&#x6279;&#x91CF;&#x66F4;&#x65B0;&#x4E5F;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/MyBatis/">MyBatis</a><a href="/tags/Spring-MVC/">Spring MVC</a><a href="/tags/数据库/">数据库</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/13daae1/" title="SpringMVC 异常处理 -" itemprop="url">SpringMVC 异常处理 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:51:22.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="Using_HTTP_Status_Codes">Using HTTP Status Codes</h2><p>&#x5728;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5F02;&#x5E38;&#x4E0A;&#x4F7F;&#x7528;ResponseStatus&#x6CE8;&#x89E3;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x7684;Controller&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x88AB;&#x5904;&#x7406;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4ED6;&#x5C06;&#x8FD4;&#x56DE;HTTP STATUS &#x4E3A;&#x6307;&#x5B9A;&#x503C;&#x7684; HTTP RESPONSE&#x3002;&#x8FD9;&#x5728;&#x6211;&#x4EEC;&#x5199;REST API&#x7684;&#x65F6;&#x5019;&#x7ECF;&#x5E38;&#x7528;&#x5230;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p>
<pre><code><span class="annotation">@ResponseStatus</span>(value=<span class="type">HttpStatus</span>.<span class="type">NOT_FOUND</span>, reason=&amp;quot;<span class="type">No</span> such <span class="type">Order</span>&amp;quot;)  <span class="comment">// 404</span>
public <span class="class"><span class="keyword">class</span> <span class="title">OrderNotFoundException</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">RuntimeException</span> {</span>
    <span class="comment">// ...</span>
}
</code></pre><p>&#x6211;&#x4EEC;&#x7684;Controller&#x4E3A;&#xFF1A;</p>
<pre><code>@RequestMapping(value=&amp;quot;/orders/<span class="comment">{id}</span>&amp;quot;, <span class="function"><span class="keyword">method</span>=<span class="title">GET</span>)
@<span class="title">ResponseBody</span>
<span class="title">public</span> <span class="title">String</span> <span class="title">getOrder</span><span class="params">(@PathVariable(&amp;quot;id&amp;quot;)</span> <span class="title">long</span> <span class="title">id</span>, <span class="title">Model</span> <span class="title">model</span>) <span class="comment">{
    Order order = orderRepository.findOrderById(id);
    if (order == null) {
        throw new OrderNotFoundException(id);
    }</span>
    <span class="title">return</span> <span class="title">order</span>;</span>
}
</code></pre><h2 id="Controller_Based_Exception_Handling">Controller Based Exception Handling</h2><p>&#x5728;&#x4E00;&#x4E2A;Controller&#x4E2D;&#xFF0C;</p>
<p>&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x79CD;&#x53EA;&#x5728;&#x5355;&#x4E2A;Controller&#x4E2D;&#x6709;&#x6548;&#x3002;&#x8FD9;&#x4E48;&#x505A;&#x53EF;&#x4EE5;&#xFF1A;</p>
<ol>
<li>&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x540E;&#xFF0C;&#x6539;&#x53D8;Response status&#xFF0C;&#x4E00;&#x822C;&#x800C;&#x8A00;&#xFF0C;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x8FD4;&#x56DE;HTTP STATUS 500.&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D8;&#x4E3A;&#x5176;&#x4ED6;&#x3002;</li>
<li>&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x540E;&#x8F6C;&#x5230;&#x9519;&#x8BEF;&#x9875;&#x9762;</li>
<li>&#x53EF;&#x4EE5;&#x4E3A;&#x4E0D;&#x540C;&#x5F02;&#x5E38;&#x5B9A;&#x4E49;&#x4E0D;&#x540C;&#x5904;&#x7406;&#xFF08;&#x5982;&#x4E0D;&#x540C;&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x4E0D;&#x540C;&#x7684;Response status&#xFF09;</li>
</ol>
<p>&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;</p>
<pre><code>@<span class="class">Controller</span>
public class <span class="class">ExceptionHandlingController</span> {

  // &amp;<span class="symbol">#x6211</span>;&amp;<span class="symbol">#x4EEC</span>;&amp;<span class="symbol">#x6807</span>;&amp;<span class="symbol">#x6CE8</span>;&amp;<span class="symbol">#x4E86</span>;@<span class="class">RequestMapping</span>&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x65B9</span>;&amp;<span class="symbol">#x6CD5</span>;
  ...

  //&amp;<span class="symbol">#x5904</span>;&amp;<span class="symbol">#x7406</span>;&amp;<span class="symbol">#x5F02</span>;&amp;<span class="symbol">#x5E38</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x65B9</span>;&amp;<span class="symbol">#x6CD5</span>;&amp;<span class="symbol">#x3002</span>;

  // &amp;<span class="symbol">#x628A</span>;&amp;<span class="symbol">#x6211</span>;&amp;<span class="symbol">#x4EEC</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x5F02</span>;&amp;<span class="symbol">#x5E38</span>;&amp;<span class="symbol">#xFFFD</span>;&amp;<span class="symbol">#xFFFD</span>;&amp;<span class="symbol">#xFFFD</span>;&amp;<span class="symbol">#x6362</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x7279</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x7684</span>;<span class="class">Http</span> status code
  @<span class="class">ResponseStatus</span>(value=<span class="class">HttpStatus</span>.<span class="class">CONFLICT</span>, reason=&amp;quot;<span class="class">Data</span> integrity violation&amp;quot;)  // <span class="number">409</span>
  @<span class="class">ExceptionHandler</span>(<span class="class">DataIntegrityViolationException</span>.class)
  public void conflict() {
    // <span class="class">Nothing</span> to do
  }


  // &amp;<span class="symbol">#x6355</span>;&amp;<span class="symbol">#x83B7</span>;&amp;<span class="symbol">#x5230</span>;<span class="class">SQLException</span>&amp;<span class="symbol">#xFF0C</span>;<span class="class">DataAccessException</span>&amp;<span class="symbol">#x5F02</span>;&amp;<span class="symbol">#x5E38</span>;&amp;<span class="symbol">#x4E4B</span>;&amp;<span class="symbol">#x540E</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x8F6C</span>;&amp;<span class="symbol">#x5230</span>;&amp;<span class="symbol">#x7279</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x9875</span>;&amp;<span class="symbol">#x9762</span>;&amp;<span class="symbol">#x3002</span>;
  @<span class="class">ExceptionHandler</span>({<span class="class">SQLException</span>.class,<span class="class">DataAccessException</span>.class})
  public <span class="class">String</span> databaseError() {
    //&amp;<span class="symbol">#x4EC5</span>;&amp;<span class="symbol">#x4EC5</span>;&amp;<span class="symbol">#x8F6C</span>;&amp;<span class="symbol">#x5230</span>;&amp;<span class="symbol">#x9519</span>;&amp;<span class="symbol">#x8BEF</span>;&amp;<span class="symbol">#x9875</span>;&amp;<span class="symbol">#x9762</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x6211</span>;&amp;<span class="symbol">#x4EEC</span>;&amp;<span class="symbol">#x5728</span>;&amp;<span class="symbol">#x9875</span>;&amp;<span class="symbol">#x9762</span>;&amp;<span class="symbol">#x4E0A</span>;&amp;<span class="symbol">#x5F97</span>;&amp;<span class="symbol">#x4E0D</span>;&amp;<span class="symbol">#x5230</span>;&amp;<span class="symbol">#x8FD9</span>;&amp;<span class="symbol">#x4E2A</span>;<span class="class">Exception</span>&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x503C</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x8981</span>;&amp;<span class="symbol">#x5F97</span>;&amp;<span class="symbol">#x5230</span>;&amp;<span class="symbol">#x503C</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x6211</span>;&amp;<span class="symbol">#x4EEC</span>;&amp;<span class="symbol">#x53EF</span>;&amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x901A</span>;&amp;<span class="symbol">#x8FC7</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x9762</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x65B9</span>;&amp;<span class="symbol">#x6CD5</span>;&amp;<span class="symbol">#x5F97</span>;&amp;<span class="symbol">#x5230</span>;
    return &amp;quot;databaseError&amp;quot;;
  }

  // &amp;<span class="symbol">#x901A</span>;&amp;<span class="symbol">#x8FC7</span>;<span class="class">ModelAndView</span>&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;&amp;<span class="symbol">#x9875</span>;&amp;<span class="symbol">#x9762</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x53CA</span>;&amp;<span class="symbol">#x5F80</span>;&amp;<span class="symbol">#x9875</span>;&amp;<span class="symbol">#x9762</span>;&amp;<span class="symbol">#x4F20</span>;&amp;<span class="symbol">#x76F8</span>;&amp;<span class="symbol">#x5E94</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x503C</span>;
  @<span class="class">ExceptionHandler</span>(<span class="class">Exception</span>.class)
  public <span class="class">ModelAndView</span> handleError(<span class="class">HttpServletRequest</span> req, <span class="class">Exception</span> exception) {
    logger.error(&amp;quot;<span class="class">Request</span>: &amp;quot; + req.getRequestURL() + &amp;quot; raised &amp;quot; + exception);

    <span class="class">ModelAndView</span> mav = new <span class="class">ModelAndView</span>();
    mav.addObject(&amp;quot;exception&amp;quot;, exception);
    mav.addObject(&amp;quot;url&amp;quot;, req.getRequestURL());
    mav.setViewName(&amp;quot;error&amp;quot;);
    return mav;
  }
}
</code></pre><h2 id="Global_Exception_Handling">Global Exception Handling</h2><p>&#x5728;&#x7C7B;&#x4E0A;&#x4F7F;&#x7528; @ControllerAdvice&#x6CE8;&#x89E3;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x5F97;&#x6211;&#x4EEC;&#x5904;&#x7406;&#x6574;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E2D;&#x629B;&#x51FA;&#x7684;&#x5F02;&#x5E38;&#x3002;</p>
<p>&#x3002;</p>
<p>&#x4E3E;&#x4F8B;:</p>
<pre><code><span class="tag">class</span> <span class="tag">GlobalControllerExceptionHandler</span> {
    <span class="variable">@ResponseStatus</span>(HttpStatus.CONFLICT)  <span class="comment">// 409</span>
    <span class="variable">@ExceptionHandler</span>(DataIntegrityViolationException.class)
    public void <span class="function">handleConflict</span>() {
        <span class="comment">// Nothing to do</span>
    }
   <span class="comment">//&amp;#x8F6C;&amp;#x5230;&amp;#x7279;&amp;#x5B9A;&amp;#x9875;&amp;#x9762; &amp;#x3002;&amp;#x3002;&amp;#x3002;&amp;#x3002;&amp;#x3002;</span>
}
</code></pre><p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x5F02;&#x5E38;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x505A;&#xFF1A;</p>
<pre><code><span class="annotation">@ControllerAdvice</span>
<span class="class"><span class="keyword">class</span> <span class="title">GlobalDefaultExceptionHandler</span> {</span>
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEFAULT_ERROR_VIEW = &amp;quot;error&amp;quot;;
    <span class="annotation">@ExceptionHandler</span>(value = Exception.<span class="keyword">class</span>)
    <span class="keyword">public</span> ModelAndView defaultErrorHandler(HttpServletRequest req, Exception e) <span class="keyword">throws</span> Exception {
        <span class="comment">// If the exception is annotated with @ResponseStatus rethrow it and let</span>
        <span class="comment">// the framework handle it - like the OrderNotFoundException example</span>
        <span class="comment">// at the start of this post.</span>
        <span class="comment">// AnnotationUtils is a Spring Framework utility class.</span>
        <span class="keyword">if</span> (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.<span class="keyword">class</span>) != <span class="literal">null</span>) {
            <span class="keyword">throw</span> e;
        }
        <span class="comment">// Otherwise setup and send the user to a default error-view.</span>
        ModelAndView mav = <span class="keyword">new</span> ModelAndView();
        mav.addObject(&amp;quot;exception&amp;quot;, e);
        mav.addObject(&amp;quot;url&amp;quot;, req.getRequestURL());
        mav.setViewName(DEFAULT_ERROR_VIEW);
        <span class="keyword">return</span> mav;
    }
}
</code></pre><h2 id="Going_Deeper">Going Deeper</h2><p>&#x5B9E;&#x73B0;HandlerExceptionResolver&#x63A5;&#x53E3;&#xFF0C;SpringMvc&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4ED6;&#x6765;&#x5904;&#x7406;Controller&#x4E2D;&#x629B;&#x51FA;&#x7684;&#x5F02;&#x5E38;</p>
<pre><code><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">HandlerExceptionResolver</span> </span>{
    <span class="function">ModelAndView <span class="title">resolveException</span><span class="params">(HttpServletRequest request, 
            HttpServletResponse response, Object <span class="keyword">handler</span>, Exception ex)</span></span>;
}
</code></pre><p>SpringMvc&#x4F7F;&#x7528;&#x4E09;&#x79CD;&#x9ED8;&#x8BA4;&#x7684;HandlerExceptionResolver&#x6765;&#x5904;&#x7406;&#x6211;&#x4EEC;&#x7684;&#x5F02;&#x5E38;</p>
<ol>
<li>ExceptionHandlerExceptionResolver&#xFF1A;&#x3002;</li>
<li>ResponseStatusExceptionResolver&#xFF1A;</li>
<li>DefaultHandlerExceptionResolver&#xFF1A;&#x628A;Spring&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x4E9B;&#x6807;&#x51C6;&#x5F02;&#x5E38;&#xFF0C;&#x8F6C;&#x6362;&#x4E3A;HTTP STATUS CODE.</li>
</ol>
<p>Spring&#x5185;&#x7F6E;&#x7684;SimpleMappingExceptionResolver&#x5B9E;&#x73B0;&#x4E86;HandlerExceptionResolver&#x63A5;&#x53E3;&#xFF0C;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#xFF0C;XML&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code><span class="subst">&amp;</span><span class="literal">lt</span>;bean id<span class="subst">=&amp;</span>quot;simpleMappingExceptionResolver<span class="subst">&amp;</span>quot;
      class<span class="subst">=&amp;</span>quot;org<span class="built_in">.</span>springframework<span class="built_in">.</span>web<span class="built_in">.</span>servlet<span class="built_in">.</span>handler<span class="built_in">.</span>SimpleMappingExceptionResolver<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;property name<span class="subst">=&amp;</span>quot;exceptionMappings<span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
        <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="built_in">map</span><span class="subst">&amp;</span><span class="literal">gt</span>;
            <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> key<span class="subst">&amp;</span><span class="variable">#x4E3A</span>;<span class="subst">&amp;</span><span class="variable">#x5F02</span>;<span class="subst">&amp;</span><span class="variable">#x5E38</span>;<span class="subst">&amp;</span><span class="variable">#x7C7B</span>;<span class="subst">&amp;</span><span class="variable">#x578B</span>;<span class="subst">&amp;</span><span class="variable">#xFF0C</span>;value<span class="subst">&amp;</span><span class="variable">#x4E3A</span>;<span class="subst">&amp;</span><span class="variable">#x8981</span>;<span class="subst">&amp;</span><span class="variable">#x8F6C</span>;<span class="subst">&amp;</span><span class="variable">#x5230</span>;<span class="subst">&amp;</span><span class="variable">#x7684</span>;<span class="subst">&amp;</span><span class="variable">#x9875</span>;<span class="subst">&amp;</span><span class="variable">#x9762</span>; <span class="subst">--&amp;</span><span class="literal">gt</span>;
            <span class="subst">&amp;</span><span class="literal">lt</span>;entry key<span class="subst">=&amp;</span>quot;DatabaseException<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;databaseError<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
            <span class="subst">&amp;</span><span class="literal">lt</span>;entry key<span class="subst">=&amp;</span>quot;InvalidCreditCardException<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;creditCardError<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
        <span class="subst">&amp;</span><span class="literal">lt</span>;/<span class="built_in">map</span><span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;/property<span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> <span class="subst">&amp;</span><span class="variable">#x9ED8</span>;<span class="subst">&amp;</span><span class="variable">#x8BA4</span>;<span class="subst">&amp;</span><span class="variable">#x7684</span>;<span class="subst">&amp;</span><span class="variable">#x5F02</span>;<span class="subst">&amp;</span><span class="variable">#x5E38</span>;<span class="subst">&amp;</span><span class="variable">#x9875</span>;<span class="subst">&amp;</span><span class="variable">#x9762</span>; <span class="subst">--&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;property name<span class="subst">=&amp;</span>quot;defaultErrorView<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;error<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> <span class="subst">&amp;</span><span class="variable">#x5728</span>;<span class="subst">&amp;</span><span class="variable">#x9875</span>;<span class="subst">&amp;</span><span class="variable">#x9762</span>;<span class="subst">&amp;</span><span class="variable">#x6211</span>;<span class="subst">&amp;</span><span class="variable">#x4EEC</span>;<span class="subst">&amp;</span><span class="variable">#x53EF</span>;<span class="subst">&amp;</span><span class="variable">#x4EE5</span>;<span class="subst">&amp;</span><span class="variable">#x901A</span>;<span class="subst">&amp;</span><span class="variable">#x8FC7</span>;ex<span class="subst">&amp;</span><span class="variable">#x62FF</span>;<span class="subst">&amp;</span><span class="variable">#x5230</span>;<span class="subst">&amp;</span><span class="variable">#x5F02</span>;<span class="subst">&amp;</span><span class="variable">#x5E38</span>;<span class="subst">&amp;</span><span class="variable">#x4FE1</span>;<span class="subst">&amp;</span><span class="variable">#x606F</span>; <span class="subst">--&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;property name<span class="subst">=&amp;</span>quot;exceptionAttribute<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;ex<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> Name of logger <span class="keyword">to</span> use <span class="keyword">to</span> <span class="keyword">log</span> exceptions<span class="built_in">. </span>Unset <span class="keyword">by</span> default, so logging disabled <span class="subst">--&amp;</span><span class="literal">gt</span>;
     <span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--</span> <span class="keyword">log</span><span class="subst">&amp;</span><span class="variable">#x5F02</span>;<span class="subst">&amp;</span><span class="variable">#x5E38</span>;<span class="subst">&amp;</span><span class="variable">#x4FE1</span>;<span class="subst">&amp;</span><span class="variable">#x606F</span>;<span class="subst">&amp;</span><span class="variable">#xFF0C</span>;<span class="subst">&amp;</span><span class="variable">#x9ED8</span>;<span class="subst">&amp;</span><span class="variable">#x8BA4</span>;<span class="subst">&amp;</span><span class="variable">#x4E0D</span>;<span class="subst">&amp;</span><span class="variable">#x8BBE</span>;<span class="subst">&amp;</span><span class="variable">#x7F6E</span>;<span class="subst">-&amp;</span><span class="variable">#x4E0D</span>;<span class="subst">&amp;</span><span class="variable">#x8BB0</span>;<span class="subst">&amp;</span><span class="variable">#x5F55</span>;<span class="subst">&amp;</span><span class="variable">#x5F02</span>;<span class="subst">&amp;</span><span class="variable">#x5E38</span>;<span class="subst">&amp;</span><span class="variable">#x4FE1</span>;<span class="subst">&amp;</span><span class="variable">#x606F</span>; <span class="subst">--&amp;</span><span class="literal">gt</span>;
    <span class="subst">&amp;</span><span class="literal">lt</span>;property name<span class="subst">=&amp;</span>quot;warnLogCategory<span class="subst">&amp;</span>quot; value<span class="subst">=&amp;</span>quot;example<span class="built_in">.</span>MvcLogger<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/bean<span class="subst">&amp;</span><span class="literal">gt</span>;
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Spring-MVC/">Spring MVC</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/f487ba8/" title="分析一个Java Class文件 -" itemprop="url">分析一个Java Class文件 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:50:30.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Java&#x6E90;&#x7801;&#x6587;&#x4EF6;TestClass.java&#xFF1A;</p>
<pre><code><span class="keyword">package</span> jvm.chapter6;
<span class="comment">//P166</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestClass</span> </span>{
    <span class="keyword">private</span> <span class="keyword">int</span> m;
    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">inc</span><span class="params">()</span></span>{
        <span class="keyword">return</span> m+<span class="number">1</span>;
    }
}
</code></pre><p>&#x5C55;&#x793A;&#x8FD9;&#x4E2A;Class&#x6587;&#x4EF6;&#x7684;16&#x8FDB;&#x5236;&#x5185;&#x5BB9;&#xFF1A;</p>
<p><img src="http://taojinke.github.io/img/20150702/f485e5c.png" alt=""></p>
<p>&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x5206;&#x6790;=&gt;</p>
<p>ca fe ba be &#xFF1A;magic number;</p>
<p>00 00 00 34 : &#x7248;&#x672C;&#x53F7;&#x662F;1.8.0;</p>
<p>00 16: &#x8BF4;&#x660E;&#x5E38;&#x91CF;&#x6C60;&#x6709;21&#x4E2A;&#x5E38;&#x91CF;&#xFF0C;1-21&#xFF0C; index&#x7559;&#x505A;&#x4ED6;&#x7528;&#xFF1B;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x5206;&#x522B;&#x8FD9;21&#x4E2A;&#x5E38;&#x91CF;&#x7684;&#x63CF;&#x8FF0;&#xFF1A;</p>
<p>07/00 02 &#xFF1A;CONSTANT_Class_info &#x5E38;&#x91CF;&#xFF0C;&#x7C7B;&#x540D;&#x7D22;&#x5F15;&#x662F;&#x8BE5;&#x5E38;&#x91CF;&#x6C60;&#x7684;&#x7B2C;2&#x9879;&#xFF1B;</p>
<p>01/00 16/6a 76 6d 2f 63 68 61 70 &#xA0;74 65 72 36 2f 54 65 73 74 43 6c 61 73 73 &#xFF1A;&#x8FD9;&#x662F;&#x8BE5;&#x5E38;&#x91CF;&#x6C60;&#x7684;&#x7B2C;2&#x9879;&#xFF0C;CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x957F;&#x5EA6;&#x662F;22&#xFF08;0x0016&#xFF09;,&#x6B63;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&#x201C;jvm/chapter6/TestClass&#x201D;&#xFF1B;</p>
<p>07/00 &#xA0;04&#xFF1A;CONSTANT_Class_info &#x5E38;&#x91CF;&#xFF0C;&#x7C7B;&#x540D;&#x7D22;&#x5F15;&#x662F;&#x8BE5;&#x5E38;&#x91CF;&#x6C60;&#x7684;&#x7B2C;4&#x9879;&#xFF1B;</p>
<p>01/00 10/6a 61 76 61 2f 6c 61 6e 67 2f 4f 62 6a 65 63 74:&#x8FD9;&#x662F;&#x8BE5;&#x5E38;&#x91CF;&#x6C60;&#x7684;&#x7B2C;4&#x9879;&#xFF0C;CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x957F;&#x5EA6;&#x662F;16&#xFF08;0x0010&#xFF09;,&#x6B63;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&#x201C;java/lang/Object&#x201D;&#xFF1B;</p>
<p>01/00 01/6d :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;m&quot;;</p>
<p>01/00 01/49 :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;m&quot;;</p>
<p>01/00 06/3c &#xA0;69 6e 69 74 3e :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;&lt;init&gt;&quot;;</p>
<p>01/00 03/28 29 56 :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;()V&quot;;</p>
<p>01/00 04/43 6f &#xA0;64 65 :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;Code&quot;;</p>
<p>0a/00 03/00 0b: tag=10,&#x8868;&#x793A;CONSTANT_Methodref_info&#x5E38;&#x91CF;&#xFF0C;&#x58F0;&#x660E;&#x8BE5;&#x65B9;&#x6CD5;&#x7684;&#x7C7B;&#x540D;&#x79F0;&#x4F4D;&#x4E8E;&#x5E38;&#x91CF;&#x6C60;&#x7684;&#x7B2C;3&#x9879;&#xFF0C;&#x5373;java/lang/Object&#xFF0C;&#x65B9;&#x6CD5;&#x540D;&#x548C;&#x7C7B;&#x578B;NameAndType=&quot;&lt;init&gt;&quot;:()V&#xFF1B;</p>
<p>0c/00 07/00 08&#xFF1A; &#x63A5;&#x4E0B;&#x6765;tag=12&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x521A;&#x8BF4;&#x9053;&#x7684;CONSTANT_NameAndType_info&#x7C7B;&#x578B;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x4E24;&#x4E2A;&#x7D22;&#x5F15;&#x5206;&#x522B;&#x6307;&#x5411;&#x65B9;&#x6CD5;&#x540D;&#x548C;&#x63CF;&#x8FF0;&#x7B26;&#x5373;&quot;&lt;init&gt;&quot;&#x548C;&#x201C;()V&#x201D;&#xFF0C;</p>
<p>01/00 0f/4c 69 6e 65 4e 75 6d 62 65 72 54 61 62 6c 65 :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;LineNumberTable&quot;;</p>
<p>01/00 12/4c 6f 63 61 6c 56 61 72 69 61 62 6c 65 54 61 &#xA0;62 6c 65 :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;LocalVariableTable&quot;;</p>
<p>01/00 04/74 68 &#xA0;69 73 :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;this&quot;;</p>
<p>01/00 18/4c 6a 76 6d 2f 63 68 61 70 74 65 72 36 2f 54 65 73 74 43 6c 61 73 73 3b:CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;Ljvm/chapter6/TestClass;&quot;;</p>
<p>01/00 03 69 6e 63 :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;inc&quot;;</p>
<p>01/00 03 28 29 49 :CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;()I&quot;;</p>
<p>09/00 01/00 13:&#x4EE3;&#x8868;Fieldref&#x5E38;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x63A5;&#x4E0B;&#x6765;&#x4E24;&#x4E2A;u2&#x5206;&#x522B;&#x8868;&#x793A;&#x58F0;&#x660E;&#x8BE5;&#x5B57;&#x6BB5;&#x7684;&#x7C7B;&#x548C;NameAndType&#x7684;&#x7D22;&#x5F15;&#xFF1B;</p>
<p>0c/00 05/00 06&#xFF1A;&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x521A;&#x4F7F;&#x7528;&#x7684;NameAndType&#x5E38;&#x91CF;&#xFF1B;</p>
<p>01/00 0a/53 6f 75 72 63 65 46 69 6c 65 &#xFF1A;CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;SourceFile&quot;;</p>
<p>01 00 0e 54 65 73 74 43 &#xA0;6c 61 73 73 2e 6a 61 76 61&#xFF1A;&#xFF1A;CONSTANT_Utf8_info&#x5E38;&#x91CF;&#xFF0C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&quot;TestClass.java&quot;;</p>
<p>&#x4E0A;&#x9762;&#x5C31;&#x5206;&#x6790;&#x5B8C;&#x4E86;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;</p>
<p>00 21 : access_flags= ACC_PUBLIC | ACC_SUPER = 0x0021;</p>
<p>00 01 00 03 00 &#xA0;00:&#x7C7B;&#x7D22;&#x5F15; &#x7236;&#x7C7B;&#x7D22;&#x5F15; &#x548C;&#x63A5;&#x53E3;&#x7D22;&#x5F15;&#xFF0C;&#x5E38;&#x91CF;&#x6C60;&#x7B2C;3&#x9879;&#x8868;&#x793A;&#x7684;&#x662F;Object&#xFF0C;&#x8BF4;&#x660E;&#x4E86;&#x9ED8;&#x8BA4;&#x7684;&#x7236;&#x7C7B;&#x5C31;&#x662F;Object,&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#xFF0C;&#x6240;&#x4EE5;interfaces_count=0;</p>
<p>00 01/00 02/00 05/00 06/00 00: &#x63A5;&#x4E0B;&#x6765;&#x7684;&#x662F;&#x5B57;&#x6BB5;&#x8868;&#x96C6;&#x5408;(fields_info)&#xFF0C;fields_count=1,access_flags=0x0002=ACC_PRIVATE, &#x4EE3;&#x8868;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x7684;name_index=5&#xFF08;&#x5E38;&#x91CF;&#x6C60;&#x7684;&#x7B2C;5&#x9879;&#x662F;CONSTANT_Utf8_info&#x7C7B;&#x578B;&#x7684;&#x5B57;&#x7B26;&#x4E32;m&#xFF09;&#xFF0C;&#x5B57;&#x6BB5;&#x63CF;&#x8FF0;&#x7B26;descriptor_index=0x0006(&#x5E38;&#x91CF;&#x6C60;&#x7684;&#x7B2C;5&#x9879;&#x662F;CONSTANT_Utf8_info&#x7C7B;&#x578B;&#x7684;&#x5B57;&#x7B26;&#x4E32;I),&#x6700;&#x540E;atributes_count=0,&#x8BF4;&#x660E;&#x4E0D;&#x5305;&#x542B;&#x989D;&#x5916;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x603B;&#x4E0A;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x6B63;&#x662F;&#x4E3A;&#x4E86;&#x8BF4;&#x660E;&#x5B9A;&#x4E49;&#x7684;&#x5B57;&#x6BB5;&#x201C;private int m&#x201D;&#xFF1B;</p>
<p>00 02/00 01/00 &#xA0;07/00 08/00 01/00 09/00 00 00 2f/00 01/00 01/00 &#xA0;00 00 05/2a b7 00 0a b1&#xFF1A;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x662F;&#x65B9;&#x6CD5;&#x96C6;&#x5408;(methods_info)&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x8BBF;&#x95EE;&#x6807;&#x5FD7;&#x662F;0x0001=ACC_PUBLIC&#xFF0C;&#x540D;&#x79F0;&#x7D22;&#x5F15;&#x662F;0x0007&#xFF0C;&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&lt;init&gt;&#xFF0C;&#x63CF;&#x8FF0;&#x7B26;&#x7D22;&#x5F15;&#x503C;&#x662F;0x0008&#xFF0C;&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&quot;()V&quot;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C5E;&#x6027;&#x8868;&#x8BA1;&#x6570;&#x5668;attributes_count=1,&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x7D22;&#x5F15;&#x662F;0x0009&#x5BF9;&#x5E94;&#x7684;&#x662F;&#x201C;Code&#x201D;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;Code&#x5C5E;&#x6027;&#x8868;&#x7684;&#x7ED3;&#x6784;&#xFF1A;&#x5C5E;&#x6027;&#x503C;&#x7684;&#x957F;&#x5EA6;attribute_length=0x2f;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x7684;&#x6700;&#x5927;&#x6DF1;&#x5EA6;&#x548C;&#x672C;&#x5730;&#x53D8;&#x91CF;&#x8868;&#x7684;&#x5BB9;&#x91CF;&#x90FD;&#x662F;0x0001&#xFF1B;&#x5B57;&#x8282;&#x7801;&#x6307;&#x4EE4;&#x957F;&#x5EA6;&#x662F;5&#xFF0C;&#x7FFB;&#x8BD1;&#x201C;2a b7 00 0a b1&#x201D;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#xFF1A;</p>
<p>1&#xFF09;&#x8BFB;&#x5165;2a&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x662F;aload_0 &#xFF0C;&#x5C06;&#x7B2C;&#x4E00;&#x4E2A;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x672C;&#x5730;&#x53D8;&#x91CF;&#x63A8;&#x9001;&#x5230;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x9876;&#xFF1B;</p>
<p>2&#xFF09;&#x8BFB;&#x5165;b7&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x662F;invokespecial,&#x4F5C;&#x7528;&#x662F;&#x8C03;&#x7528;&#x4EE5;&#x6808;&#x9876;&#x7684;reference&#x7C7B;&#x578B;&#x6240;&#x6307;&#x5411;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x9020;&#x5668;&#x65B9;&#x6CD5; &#x5B9E;&#x4F8B;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5; &#x79C1;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6709;&#x4E00;&#x4E2A;u2&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#x8BF4;&#x660E;&#x5177;&#x4F53;&#x8C03;&#x7528;&#x54EA;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x4E00;&#x4E2A;CONSTANT_Methodref_info&#x7684;&#x5E38;&#x91CF;&#xFF0C;&#x5373;&#x90A3;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x7B26;&#x53F7;&#x5F15;&#x7528;&#xFF1B;</p>
<p>3)00 0a&#x6B63;&#x662F;&#x4E0A;&#x9762;invokespecial&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;Methodref&#x5E38;&#x91CF;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x5E94;&#x8BE5;&#x662F;Object.init()&#x65B9;&#x6CD5;&#xFF1B;</p>
<p>4)b1,&#x5BF9;&#x5E94;&#x7684;&#x6307;&#x4EE4;&#x662F;return,&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;oid&#xFF0C;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x5BF9;&#x5E94;&#x7684;&#x6307;&#x4EE4;&#x7ED3;&#x675F;&#x3002;</p>
<p>&#x7EE7;&#x7EED;&#x4E0A;&#x9762;&#x7684;&#x5206;&#x6790;&#xFF0C;</p>
<p>00 00/00 02/00 0c/00 00 00 06/00 01/00 00/00 03|00 0d/00 00 00 0c/00 01|00 00/00 05/00 0e/00 0f/00 00&#xFF1A;exception_table_length=0,&#x8BE5;&#x65B9;&#x6CD5;&#x6CA1;&#x6709;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x7136;&#x540E;attributes_count=2&#xFF0C;&#x8BE5;Code&#x5C5E;&#x6027;&#x6709;&#x4FE9;&#x5C5E;&#x6027;&#xFF1A;0x000c&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&#x201C;LineNumberTable&#x201D;&#xFF0C;attribute_length=6,line_number_table_length=1,&#x5C31;&#x662F;&#x8BB0;&#x5F55;&#x4E86;&#x4E00;&#x5BF9;java&#x6E90;&#x7801;&#x884C;&#x53F7;&#x548C;&#x5B57;&#x8282;&#x7801;&#x884C;&#x53F7;&#x7684;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#xFF08;3&#xFF1A;0&#xFF09;&#xFF1B;0x000d&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&#x201C;LocalVariableTable&#x201D;&#xFF0C;attribute_length=12,local_variable_table_length=1(&#x4EE3;&#x8868;&#x4E86;&#x4E00;&#x4E2A;&#x6808;&#x5E27;&#x548C;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x5173;&#x8054;&#x5173;&#x7CFB;)&#xFF0C;start_pc=0x0000,length=0x0005&#x8868;&#x5F81;&#x8BE5;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x5728;&#x5B57;&#x8282;&#x7801;&#x4E2D;&#x7684;&#x4F5C;&#x7528;&#x8303;&#x56F4;&#xFF08;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5185;&#xFF09;&#xFF0C;name_index=0x000e, descriptor_index=0x000f&#x8868;&#x793A;&#x8BE5;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x540D;&#x79F0;&#x53CA;&#x5176;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x5373;&#x4E3A;&#x201C;this&#x201D;, &quot;Ljvm/chapter6/TestClass&quot;;&#x901A;&#x8FC7;javap&#x7684;&#x8F93;&#x51FA;&#x90FD;&#x53EF;&#x4EE5;&#x4E00;&#x76EE;&#x4E86;&#x7136;&#x3002;index=0x0000&#x4EE3;&#x8868;&#x8BE5;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x5728;&#x6808;&#x5E27;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x4E2D;Slot&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x770B;&#x7B2C;&#x4E8C;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;</p>
<p>00 01/00 10/00 11/00 01/00 09/00 00 00 31/00 02/00 01/00 00 00 07/2a b4 00 12 04 60 ac/&#xFF1A;&#x65B9;&#x6CD5;&#x7684;&#x8BBF;&#x95EE;&#x6807;&#x5FD7;&#x662F;0x0001=ACC_PUBLIC&#xFF0C;&#x540D;&#x79F0;&#x7D22;&#x5F15;&#x662F;16&#xFF0C;&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&#x201C;inc&#x201D;&#xFF0C;&#x63CF;&#x8FF0;&#x7B26;&#x7D22;&#x5F15;&#x503C;&#x662F;0x0011&#xFF0C;&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&quot;()I&quot;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C5E;&#x6027;&#x8868;&#x8BA1;&#x6570;&#x5668;attributes_count=1,&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x7D22;&#x5F15;&#x662F;0x0009&#x5BF9;&#x5E94;&#x7684;&#x662F;&#x201C;Code&#x201D;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;Code&#x5C5E;&#x6027;&#x8868;&#x7684;&#x7ED3;&#x6784;&#xFF1A;&#x5C5E;&#x6027;&#x503C;&#x7684;&#x957F;&#x5EA6;attribute_length=0x31;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x7684;&#x6700;&#x5927;&#x6DF1;&#x5EA6;&#x662F;2&#xFF0C;&#x672C;&#x5730;&#x53D8;&#x91CF;&#x8868;&#x7684;&#x5BB9;&#x91CF;&#x662F;1&#xFF1B;&#x5B57;&#x8282;&#x7801;&#x6307;&#x4EE4;&#x957F;&#x5EA6;&#x662F;7&#xFF0C;&#x7FFB;&#x8BD1;&#x201C;2a b4 00 12 04 60 ac&#x201D;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#xFF1A;</p>
<p>1&#xFF09;&#x8BFB;&#x5165;2a&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x662F;aload_0 &#xFF0C;&#x5C06;&#x7B2C;&#x4E00;&#x4E2A;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x672C;&#x5730;&#x53D8;&#x91CF;&#x63A8;&#x9001;&#x5230;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x9876;&#xFF1B;</p>
<p>2&#xFF09;&#x8BFB;&#x5165;b4&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x6307;&#x4EE4;&#x662F;getfield,&#x83B7;&#x5F97;&#x5B9E;&#x4F8B;&#x57DF;&#xFF0C;&#x5E76;&#x538B;&#x5165;&#x6808;&#x9876;&#xFF0C;&#x4ED6;&#x9700;&#x8981;&#x53C2;&#x6570;&#x7528;&#x6765;&#x8BF4;&#x660E;&#x628A;&#x54EA;&#x4E2A;&#x53D8;&#x91CF;&#x5165;&#x6808;&#xFF0C;&#x5373;&#x4E0B;&#x9762;&#xFF1B;</p>
<p>3&#xFF09;&#x8BFB;&#x5165;00 12&#xFF0C;&#x7528;&#x6765;&#x6307;&#x660E;getfield &#x54EA;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x6307;&#x5411;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;Fieldref&#x5E38;&#x91CF;&#xFF0C;&#x201C;jvm/chapter6/TestClass.m:I&#x201D;&#xFF1B;</p>
<p>4&#xFF09;&#x8BFB;&#x5165;04&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x6307;&#x4EE4;&#x662F;iconst_1,&#x5C06;int&#x7C7B;&#x578B;&#x7684;1&#x63A8;&#x81F3;&#x6808;&#x9876;&#xFF1B;</p>
<p>5&#xFF09;&#x8BFB;&#x5165;60&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x6307;&#x4EE4;&#x662F;iadd,&#x5C06;&#x6808;&#x9876;&#x4E24;&#x4E2A;int&#x7C7B;&#x578B;&#x7684;&#x6570;&#x503C;&#x76F8;&#x52A0;&#x5E76;&#x628A;&#x7ED3;&#x679C;&#x538B;&#x5165;&#x6808;&#x9876;&#xFF1B;</p>
<p>6)&#x8BFB;&#x5165;ac,&#x5BF9;&#x5E94;&#x7684;&#x6307;&#x4EE4;&#x662F;ireturn,&#x4ECE;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;int&#xFF0C;&#x7ED3;&#x675F;&#x3002;</p>
<p>&#x540E;&#x9762;&#x7684;&#x4FE9;&#x5C5E;&#x6027;&#x5C31;&#x548C;&#x5206;&#x6790;&#x7B2C;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x7C7B;&#x4F3C;&#x3002;</p>
<p>&#x81F3;&#x6B64;&#xFF0C;&#x5C31;&#x5206;&#x6790;&#x5B8C;&#x4E86;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;Class&#x6587;&#x4EF6;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x6E05;&#x6670;&#x4E86;&#x5F88;&#x591A;&#x3002;</p>
<p>&#x9644;&#xFF1A;</p>
<p>Javap TestClass.class&#x7684;&#x7ED3;&#x679C;&#xFF1A;$ javap -verbose TestClass.class</p>
<p>Classfile /home/vonzhou/GitHub/JavaProject/learning-java/bin/jvm/chapter6/TestClass.class</p>
<p>Last modified Apr 29, 2015; size 379 bytes</p>
<p>MD5 checksum 70a67e773b621619d03f9d1b5ac91af6</p>
<p>Compiled from &quot;TestClass.java&quot;</p>
<p>public class jvm.chapter6.TestClass</p>
<p>SourceFile: &quot;TestClass.java&quot;</p>
<p>minor version: 0</p>
<p>major version: 52</p>
<p>flags: ACC_PUBLIC, ACC_SUPER</p>
<p>Constant pool:</p>
<h1 id="1_=_Class_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;#2;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;//_&#xA0;jvm/chapter6/TestClass">1 = Class &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;#2; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// &#xA0;jvm/chapter6/TestClass</h1><h1 id="2_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_jvm/chapter6/TestClass;">2 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; jvm/chapter6/TestClass;</h1><h1 id="3_=_Class_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;#4;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;//_&#xA0;java/lang/Object">3 = Class &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;#4; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// &#xA0;java/lang/Object</h1><h1 id="4_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_java/lang/Object;">4 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; java/lang/Object;</h1><h1 id="5_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_m;">5 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; m;</h1><h1 id="6_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_I;">6 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; I;</h1><h1 id="7_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&lt;init&gt;;">7 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;init&gt;;</h1><h1 id="8_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_()V;">8 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; ()V;</h1><h1 id="9_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_Code;">9 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; Code;</h1><h1 id="10_=_Methodref_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;#3-#11;_&#xA0;_&#xA0;_&#xA0;_&#xA0;//_&#xA0;java/lang/Object-&quot;&lt;init&gt;&quot;:()V">10 = Methodref &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;#3.#11; &#xA0; &#xA0; &#xA0; &#xA0;// &#xA0;java/lang/Object.&quot;&lt;init&gt;&quot;:()V</h1><h1 id="11_=_NameAndType_&#xA0;_&#xA0;_&#xA0;_&#xA0;#7:#8;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_//_&#xA0;&quot;&lt;init&gt;&quot;:()V">11 = NameAndType &#xA0; &#xA0; &#xA0; &#xA0;#7:#8; &#xA0; &#xA0; &#xA0; &#xA0; // &#xA0;&quot;&lt;init&gt;&quot;:()V</h1><h1 id="12_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_LineNumberTable;">12 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; LineNumberTable;</h1><h1 id="13_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_LocalVariableTable;">13 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; LocalVariableTable;</h1><h1 id="14_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_this;">14 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; this;</h1><h1 id="15_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_Ljvm/chapter6/TestClass;;">15 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; Ljvm/chapter6/TestClass;;</h1><h1 id="16_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_inc;">16 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; inc;</h1><h1 id="17_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_()I;">17 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; ()I;</h1><h1 id="18_=_Fieldref_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_#1-#19;_&#xA0;_&#xA0;_&#xA0;_&#xA0;//_&#xA0;jvm/chapter6/TestClass-m:I">18 = Fieldref &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; #1.#19; &#xA0; &#xA0; &#xA0; &#xA0;// &#xA0;jvm/chapter6/TestClass.m:I</h1><h1 id="19_=_NameAndType_&#xA0;_&#xA0;_&#xA0;_&#xA0;#5:#6;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_//_&#xA0;m:I">19 = NameAndType &#xA0; &#xA0; &#xA0; &#xA0;#5:#6; &#xA0; &#xA0; &#xA0; &#xA0; // &#xA0;m:I</h1><h1 id="20_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_SourceFile;">20 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; SourceFile;</h1><h1 id="21_=_Utf8_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_&#xA0;_TestClass-java;">21 = Utf8 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; TestClass.java;</h1><p>{</p>
<p>public jvm.chapter6.TestClass();</p>
<p>flags: ACC_PUBLIC</p>
<p>Code:</p>
<p>stack=1, locals=1, args_size=1</p>
<p>0: aload_0 &#xA0; &#xA0; &#xA0;&#xA0;</p>
<p>1: invokespecial #10; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</p>
<p>4: return &#xA0; &#xA0; &#xA0; &#xA0;</p>
<p>LineNumberTable:</p>
<p>line 3: 0</p>
<p>LocalVariableTable:</p>
<p>Start &#xA0;Length &#xA0;Slot &#xA0;Name &#xA0; Signature</p>
<p>0 &#xA0; &#xA0; &#xA0; 5 &#xA0; &#xA0; &#xA0; 0 &#xA0; &#xA0;this &#xA0; Ljvm/chapter6/TestClass;</p>
<p>public int inc();</p>
<p>flags: ACC_PUBLIC</p>
<p>Code:</p>
<p>stack=2, locals=1, args_size=1</p>
<p>0: aload_0 &#xA0; &#xA0; &#xA0;&#xA0;</p>
<p>1: getfield &#xA0; &#xA0; &#xA0;#18; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// Field m:I</p>
<p>4: iconst_1 &#xA0; &#xA0; &#xA0;</p>
<p>5: iadd &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;</p>
<p>6: ireturn &#xA0; &#xA0; &#xA0;&#xA0;</p>
<p>LineNumberTable:</p>
<p>line 6: 0</p>
<p>LocalVariableTable:</p>
<p>Start &#xA0;Length &#xA0;Slot &#xA0;Name &#xA0; Signature</p>
<p>0 &#xA0; &#xA0; &#xA0; 7 &#xA0; &#xA0; &#xA0;0 &#xA0; &#xA0; this &#xA0; Ljvm/chapter6/TestClass;</p>
<p>}</p>
<p>&#x4F5C;&#x8005;&#xFF1A;vonzhoufz &#x53D1;&#x8868;&#x4E8E;2015/5/1 9:34:11 <a href="http://blog.csdn.net/vonzhoufz/article/details/45417725" target="_blank" rel="external">&#x539F;&#x6587;&#x94FE;&#x63A5;</a></p>
<p>&#x9605;&#x8BFB;&#xFF1A;66 &#x8BC4;&#x8BBA;&#xFF1A;1 <a href="http://blog.csdn.net/vonzhoufz/article/details/45417725#comments" target="_blank" rel="external">&#x67E5;&#x770B;&#x8BC4;&#x8BBA;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/JVM/">JVM</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/f495762/" title="OSChina 开源周刊第32期 —— Go 的插件化开发 Pingo -" itemprop="url">OSChina 开源周刊第32期 —— Go 的插件化开发 Pingo -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:50:30.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="&#x6BCF;&#x5468;&#x6280;&#x672F;&#x62A2;&#x5148;&#x770B;&#xFF0C;&#x603B;&#x6709;&#x4F60;&#x60F3;&#x8981;&#x7684;&#xFF01;">&#x6BCF;&#x5468;&#x6280;&#x672F;&#x62A2;&#x5148;&#x770B;&#xFF0C;&#x603B;&#x6709;&#x4F60;&#x60F3;&#x8981;&#x7684;&#xFF01;</h4><p>&#x79FB;&#x52A8;&#x5F00;&#x53D1; </p>
<ul>
<li><strong>&#x3010;&#x535A;&#x5BA2;&#x3011;</strong> <a href="http://my.oschina.net/u/2340880/blog/404605" target="_blank" rel="external"><strong>IOS &#x8868;&#x89C6;&#x56FE;(UITableView)&#x4F7F;&#x7528;&#x8BE6;&#x89E3;</strong></a> UITableView&#x89C6;&#x56FE;&#x662F;IOS&#x5F00;&#x53D1;&#x4E2D;&#x5E38;&#x7528;&#x800C;&#x597D;&#x7528;&#x7684;&#x4E00;&#x4E2A;&#x63A7;&#x4EF6;&#x3002; <a href="http://my.oschina.net/u/2340880/blog/403996" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
</ul>
<h4 id="&#x524D;&#x7AEF;&#x5F00;&#x53D1;">&#x524D;&#x7AEF;&#x5F00;&#x53D1;</h4><ul>
<li><strong>&#x3010;&#x8F6F;&#x4EF6;&#x3011;</strong> <a href="http://www.oschina.net/p/nginfinitescroll" target="_blank" rel="external"><strong>AngularJS &#x65E0;&#x9650;&#x6EDA;&#x52A8;&#x6307;&#x4EE4; ngInfiniteScroll</strong></a> ngInfiniteScroll &#x662F;&#xFFFD;&#xFFFD;&#xFFFD;&#x4E2A; AngularJS &#x7684;&#x6269;&#x5C55;&#x6307;&#x4EE4;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x7F51;&#x9875;&#x7684;&#x65E0;&#x9650;&#x6EDA;&#x52A8;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x76F8;&#x5F53;&#x4E8E;&#x9875;&#x9762;&#x6EDA;&#x52A8;&#x5230;&#x6700;&#x5E95;&#x90E8;&#x7684;&#x65F6;&#x5019;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#x3002; <a href="http://www.oschina.net/p/nginfinitescroll" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x535A;&#x5BA2;&#x3011;</strong> <a href="http://my.oschina.net/u/2342955/blog/408889" target="_blank" rel="external"><strong>Angular&#x5B66;&#x4E60;&#x5FC3;&#x5F97;&#x4E4B;directive&#x2014;&#x2014;scope&#x9009;&#x9879;&#x4E0E;&#x7ED1;&#x5B9A;&#x7B56;&#x7565;</strong></a> &#x5927;&#x5BB6;&#x77E5;&#x9053;&#xFF0C;&#x5F53;scope&#x9009;&#x9879;&#x5199;&#x4E3A;scope:{}&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x5DF2;&#x7ECF;&#x4E3A;&#x6307;&#x4EE4;&#x751F;&#x6210;&#x4E86;&#x9694;&#x79BB;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x73B0;&#x5728;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x7ED1;&#x5B9A;&#x7B56;&#x7565;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;&#xFF1A;&amp; &#x3001;= &#x3001;@&#x3002; <a href="http://my.oschina.net/u/2342955/blog/408889" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
</ul>
<h4 id="&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;/&#x7BA1;&#x7406;">&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;/&#x7BA1;&#x7406;</h4><ul>
<li><strong>&#x3010;&#x7FFB;&#x8BD1;&#x3011;</strong> <a href="http://www.oschina.net/translate/zero-downtime-haproxy-reloads" target="_blank" rel="external"><strong>&#x771F;&#x6B63;&#x96F6;&#x505C;&#x673A; HAProxy &#x91CD;&#x8F7D;</strong></a> &#x6211;&#x4EEC;&#x559C;&#x6B22;&#x5728;&#x53D1;&#x5C55; SOA &#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528; SmartStack &#x7ED9;&#x6211;&#x4EEC;&#x5E26;&#x6765;&#x7684;&#x7075;&#x6D3B;&#x6027;&#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x7075;&#x6D3B;&#x6027;&#x662F;&#x6709;&#x4EE3;&#x4EF7;&#x7684;&#x3002;&#x901A;&#x5E38;&#x5F53;&#x670D;&#x52A1;&#x6216;&#x5728;&#x670D;&#x52A1;&#x540E;&#x7AEF;&#x6267;&#x884C;&#x589E;&#x52A0;&#x6216;&#x6C38;&#x4E45;&#x5220;&#x9664;&#x547D;&#x4EE4;&#x7684;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6574;&#x4E2A;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x4E0D;&#x5F97;&#x4E0D;&#x91CD;&#x65B0;&#x52A0;&#x8F7D; HAProxy &#x3002; <a href="http://www.oschina.net/translate/zero-downtime-haproxy-reloads" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x7FFB;&#x8BD1;&#x3011;</strong> <a href="http://www.oschina.net/translate/beyond-storm-for-streaming-data-applications" target="_blank" rel="external"><strong>Storm &#x5E76;&#x975E;&#x5B8C;&#x5168;&#x9002;&#x5408;&#x6240;&#x6709;&#x5B9E;&#x65F6;&#x5E94;&#x7528;</strong></a> &#x4E3A;&#x4E86;&#x5E94;&#x5BF9;&#x4E0D;&#x65AD;&#x589E;&#x957F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;&#x5229;&#x7528;&#x5B9E;&#x65F6;&#x4E2A;&#x6027;&#x5316;&#x6280;&#x672F;&#x6539;&#x8FDB;&#x5728;&#x7EBF;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x5F15;&#x5165;&#x4E86;&#x6D41;&#x6570;&#x636E;&#x6280;&#x672F;&#x3002;&#x5BF9;&#x4E8E;&#x6D41;&#x6570;&#x636E;&#x5E94;&#x7528;&#x7684;&#x5B9A;&#x4E49;&#x591A;&#x79CD;&#x591A;&#x6837;&#xFF0C;&#x4F46;&#x90FD;&#x5305;&#x542B;&#x4E09;&#x4E2A;&#x57FA;&#x672C;&#x529F;&#x80FD;&#xFF1A;&#x5B9E;&#x65F6;&#x6570;&#x636E;&#x91C7;&#x96C6;&#xFF0C;&#x5B9E;&#x65F6;&#x5206;&#x6790;&#x548C;&#x81EA;&#x52A8;&#x5316;&#x51B3;&#x7B56;&#x3002; <a href="http://www.oschina.net/translate/beyond-storm-for-streaming-data-applications" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x7FFB;&#x8BD1;&#x3011;</strong> <a href="http://www.oschina.net/translate/deploying-rails-applications-with-the-puma-web-server" target="_blank" rel="external"><strong>&#x4F7F;&#x7528; Puma Web &#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72; Rails &#x5E94;&#x7528;</strong></a> &#x76F8;&#x5BF9;&#x4E8E;&#x4E00;&#x6B21;&#x53EA;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x7684; Web &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684; Web &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x80FD;&#x591F;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x8D44;&#x6E90;&#x3002;Puma&#xA0;&#x662F;&#x548C; Unicorn &#x76F8;&#x7ADE;&#x4E89;&#x7684; Web &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x5904;&#x7406;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x3002; <a href="http://www.oschina.net/translate/deploying-rails-applications-with-the-puma-web-server" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x7FFB;&#x8BD1;&#x3011;</strong> <a href="http://www.oschina.net/translate/running-kafka-scale" target="_blank" rel="external"><strong>LinkedIn &#x2014;&#x2014; Apache Kafka &#x7684;&#x4F38;&#x7F29;&#x6269;&#x5C55;&#x80FD;&#x529B;</strong></a> &#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x9AD8;&#x79D1;&#x6280;&#x7684;&#x751F;&#x547D;&#x7EBF;&#x7684;&#x8BDD;&#xFF0C;Apache Kafka &#x5C31;&#x662F; LinkedIn &#x516C;&#x53F8;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x4E2D;&#x7684;&#x5FAA;&#x73AF;&#x7CFB;&#x7EDF;&#x3002;&#x6211;&#x4EEC;&#x4F7F;&#x7528; Kafka &#x5728;&#x591A;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x642C;&#x79FB;&#x5404;&#x7C7B;&#x6570;&#x636E;&#xFF0C;&#x5B83;&#x51E0;&#x4E4E;&#x6BCF;&#x4E00;&#x5929;&#x90FD;&#x63A5;&#x89E6;&#x6BCF;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x3002; <a href="http://www.oschina.net/translate/running-kafka-scale" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x8F6F;&#x4EF6;&#x3011;</strong> <a href="http://www.oschina.net/p/caddy" target="_blank" rel="external"><strong>HTTP/2 Web &#x670D;&#x52A1;&#x5668; Caddy</strong></a> Caddy &#x662F;&#x4E00;&#x4E2A;&#x652F;&#x6301; HTTP/2 &#x7684;&#x8DE8;&#x5E73;&#x53F0; Web &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F7F;&#x7528;&#x548C;&#x914D;&#x7F6E;&#x90FD;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;Caddy &#x652F;&#x6301; HTTP/2, IPv6, Markdown, WebSockets, FastCGI, &#x6A21;&#x677F;&#x7B49;&#x7B49;&#x3002; <a href="http://www.oschina.net/p/caddy" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
</ul>
<h4 id="&#x7F16;&#x7A0B;&#x8BED;&#x8A00;">&#x7F16;&#x7A0B;&#x8BED;&#x8A00;</h4><ul>
<li><strong>&#x3010;&#x8F6F;&#x4EF6;&#x3011;</strong> <a href="http://www.oschina.net/p/freecache" target="_blank" rel="external"><strong>Go &#x8BED;&#x8A00;&#x7684;&#x7F13;&#x5B58;&#x5E93; FreeCache</strong></a> FreeCache &#x662F;&#x4E00;&#x4E2A; Go &#x8BED;&#x8A00;&#x7684;&#x7F13;&#x5B58;&#x5E93;&#xFF0C;&#x65E0;&#x989D;&#x5916;&#x7684; GC &#x8D1F;&#x8377;&#x3002;&#x6570;&#x767E;&#x4E07;&#x5BF9;&#x8C61;&#x7684;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5EF6;&#x8FDF;&#x4EC5;&#x5728;&#x6570;&#x767E;&#x6BEB;&#x79D2;&#x3002; <a href="http://www.oschina.net/p/freecache" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x8F6F;&#x4EF6;&#x3011;</strong> <a href="http://www.oschina.net/p/pingo" target="_blank" rel="external"><strong>Go &#x7684;&#x63D2;&#x4EF6;&#x5316;&#x5F00;&#x53D1; Pingo</strong></a> Pingo &#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x4E3A; Go &#x7A0B;&#x5E8F;&#x7F16;&#x5199;&#x63D2;&#x4EF6;&#x7684;&#x7B80;&#x5355;&#x72EC;&#x7ACB;&#x5E93;&#xFF0C;&#x56E0;&#x4E3A; Go &#x672C;&#x8EAB;&#x662F;&#x9759;&#x6001;&#x94FE;&#x63A5;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x6240;&#x6709;&#x63D2;&#x4EF6;&#x90FD;&#x4EE5;&#x5916;&#x90E8;&#x8FDB;&#x7A0B;&#x65B9;&#x5F0F;&#x5B58;&#x5728;&#x3002; <a href="http://www.oschina.net/p/pingo" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x7FFB;&#x8BD1;&#x3011;</strong> <a href="http://www.oschina.net/translate/robovm-1-0-released-commercial-licenses-a-look-under-the-hood" target="_blank" rel="external"><strong>RoboVM 1.0 &#x53D1;&#x5E03; &#x2014;&#x2014; &#x5546;&#x4E1A;&#x8BB8;&#x53EF;&#x548C;&#x65B0;&#x529F;&#x80FD;&#x4ECB;&#x7ECD;</strong></a> &#x7ECF;&#x8FC7;&#x6570;&#x6708;&#x7684;&#x8270;&#x82E6;&#x5DE5;&#x4F5C;&#x6211;&#x4EEC;&#x5F88;&#x81EA;&#x8C6A;&#x7684;&#x5BA3;&#x5E03;&#x6211;&#x4EEC;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x7A33;&#x5B9A;&#x7248; RoboVM 1.0 &#x53D1;&#x5E03;&#x4E86;&#xFF01; <a href="http://www.oschina.net/translate/robovm-1-0-released-commercial-licenses-a-look-under-the-hood" target="_blank" rel="external">&#x8BE6;&#x7EC6;</a></li>
<li><strong>&#x3010;&#x535A;&#x5BA2;&#x3011;</strong> <a href="http://my.oschina.net/benhaile/blog/408377" target="_blank" rel="external"><strong>Java 8 &#x91CC;&#x9762; lambda &#x6700;&#x4F73;&#x5B9E;&#x8DF5;</strong></a> &#x5728; Java 8 &#x91CC;&#x9762;Lambda&#x662F;&#x6700;&#x706B;&#x7684;&#x4E3B;&#x9898;&#xFF0C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x56E0;&#x4E3A;&#x8BED;&#x6CD5;&#x7684;&#x6539;&#x53D8;&#xFF0C;&#x66F4;&#x91CD;&#x8981;&#x7684;&#x662F;&#x5E26;&#x6765;&#x4E86;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x7684;&#x601D;&#x60F3;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x4F18;&#x79C0;&#x7684;&#x7A0B;&#x5E8F;&#x5458;&#xFF0C;&#x6709;&#x5FC5;&#x8981;&#x5B66;&#x4E60;&#x4E00;&#x4E0B;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x7684;&#x601D;&#x60F3;&#x4EE5;&#x5F00;&#x9614;&#x601D;&#x8DEF;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x804A;&#x804A;Lambda&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x6027;&#x80FD;&#xFF0C;&#x4E5F;&#x4F1A;&#x63D0;&#x53CA;&#x4E0B;&#x4E0D;&#x597D;&#x7684;&#x4E00;&#x9762;&#x3002; <a href="http://my.oschina.net/benhaile/blog/408377" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
</ul>
<h4 id="&#x6570;&#x636E;&#x5E93;">&#x6570;&#x636E;&#x5E93;</h4><ul>
<li><strong>&#x3010;&#x8F6F;&#x4EF6;&#x3011;</strong> <a href="http://www.oschina.net/p/torodb" target="_blank" rel="external"><strong>JSON &#x6587;&#x6863;&#x6570;&#x636E;&#x5E93; ToroDB</strong></a> ToroDB &#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x9762;&#x5411;&#x6587;&#x6863;&#x7684; JSON &#x6570;&#x636E;&#x5E93;&#xFF0C;&#x57FA;&#x4E8E; PostgreSQL &#x8FD0;&#x884C;&#x3002;JSON &#x6587;&#x6863;&#x5173;&#x7CFB;&#x5316;&#x5B58;&#x50A8;&#xFF0C;&#x800C;&#x975E; blob/jsonb &#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x663E;&#x8457;&#x63D0;&#x5347;&#x5B58;&#x50A8;&#x548C; IO&#xFF0C;&#x517C;&#x5BB9; MongoDB&#x3002; <a href="http://www.oschina.net/p/torodb" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x535A;&#x5BA2;&#x3011;</strong> <a href="http://my.oschina.net/Suregogo/blog/406798" target="_blank" rel="external"><strong>PostgreSQL &#x7528; C &#x5B8C;&#x6210;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4F8B;&#x5B50;</strong></a> &#x6700;&#x8FD1;&#x7ED9;&#x5BA2;&#x6237;&#x5199;&#x4E86;&#x4E00;&#x4E2A;PG&#x7528;C&#x5199;&#x7684;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5728;&#x6B64;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#x3002; <a href="http://my.oschina.net/Suregogo/blog/406798" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x535A;&#x5BA2;&#x3011;</strong> <a href="http://my.oschina.net/Kenyon/blog/407093" target="_blank" rel="external"><strong>PostgreSQL 9.4 &#x7684;&#x7269;&#x5316;&#x89C6;&#x56FE;&#x66F4;&#x65B0;</strong></a> PostgreSQL &#x7684;9.4&#x7248;&#x672C;&#x51FA;&#x6765;&#x6709;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x4E5F;&#x66F4;&#x65B0;&#x4E86;&#x5F88;&#x591A;&#x5185;&#x5BB9;&#xFF0C;&#x5176;&#x4E2D;&#x4E4B;&#x4E00;&#x662F;&#x6BD4;&#x8F83;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x7269;&#x5316;&#x89C6;&#x56FE;&#x7684;&#x66F4;&#x65B0;&#xFF0C;&#x5BF9;&#x6BD4;&#x539F;&#x5148;&#x7684;&#x7269;&#x5316;&#x89C6;&#x56FE;&#x8BED;&#x6CD5;&#xFF0C;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x4E2A;CONCURRENTLY&#x53C2;&#x6570;&#x3002; <a href="http://my.oschina.net/Kenyon/blog/407093" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
</ul>
<h4 id="&#x5176;&#x4ED6;&#x7C7B;&#x578B;">&#x5176;&#x4ED6;&#x7C7B;&#x578B;</h4><ul>
<li><strong>&#x3010;&#x8F6F;&#x4EF6;&#x3011;</strong> <a href="http://www.oschina.net/p/docker-gitlab" target="_blank" rel="external"><strong>Docker Gitlab &#x2014;&#x2014; Gitlab &#x7684; Docker &#x6620;&#x50CF;</strong></a> Docker Gitlab &#x662F;&#x63D0;&#x4F9B; Gitlab &#x73AF;&#x5883;&#x7684; Docker &#x6620;&#x50CF;&#xFF0C;&#x53EF;&#x65B9;&#x4FBF;&#x7684;&#x5728; Docker &#x5BB9;&#x5668;&#x4E2D;&#x8FD0;&#x884C; Gitlab &#x7CFB;&#x7EDF;&#x3002; <a href="http://www.oschina.net/p/docker-gitlab" target="_blank" rel="external">&#x8BE6;&#x7EC6;</a></li>
<li><strong>&#x3010;&#x8F6F;&#x4EF6;&#x3011;</strong> <a href="http://www.oschina.net/p/jphp" target="_blank" rel="external"><strong>JVM &#x7684; PHP &#x7F16;&#x8BD1;&#x5668; JPHP</strong></a> JPHP &#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E; JVM &#x7684; PHP &#x7F16;&#x8BD1;&#x5668;&#x3002;&#x652F;&#x6301; PHP 5.6+ &#x7684;&#x5F88;&#x591A;&#x65B0;&#x7279;&#x6027;&#x3002;JPHP &#x7C7B;&#x4F3C; javac &#xFF0C;&#x53EF;&#x4EE5;&#x5C06; PHP &#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x6210; JVM &#x7684;&#x5B57;&#x8282;&#x7801;&#x5E76;&#x5728; JVM &#x4E2D;&#x6267;&#x884C;&#x3002; <a href="http://www.oschina.net/p/jphp" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x535A;&#x5BA2;&#x3011;</strong> <a href="http://my.oschina.net/u/1024767/blog/406566" target="_blank" rel="external"><strong>ffmpeg &#x5B9E;&#x73B0;&#x672C;&#x5730;&#x6444;&#x50CF;&#x5934;&#x7684;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;</strong></a> fserver&#x662F;&#x4E00;&#x4E2A;&#x97F3;&#x9891;&#x548C;&#x89C6;&#x9891;&#x7684;&#x6D41;&#x5F0F;&#x670D;&#x52A1;&#x5668;&#x3002;&#x5B83;&#x901A;&#x8FC7;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x8BFB;&#x5165;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B8C;&#x6210;&#x914D;&#x7F6E;&#xFF0C;&#x4E0D;&#x6307;&#x5B9A;&#x65F6;&#x7528;&#x9ED8;&#x8BA4;&#x7684;/etc/ffserver.conf&#x6587;&#x4EF6;&#x3002; ffserver&#x63A5;&#x53D7;&#x4E00;&#x4E9B;&#x6216;&#x8005;FFM&#x6D41;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x7136;&#x540E;&#x901A;&#x8FC7;RTP/RTSP/HTTP&#x63A8;&#x6D41;&#x3002; <a href="http://my.oschina.net/u/1024767/blog/406566" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><strong>&#x3010;&#x535A;&#x5BA2;&#x3011;</strong> <a href="http://my.oschina.net/robinyao/blog/408285" target="_blank" rel="external"><strong>BenchMark &#x5DE5;&#x5177; - JMH &#x4ECB;&#x7ECD;</strong></a> java Benchmark&#x5DE5;&#x5177; JMH,&#x7531;OpenJDK&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x4F7F;&#x7528;&#x5F88;&#x65B9;&#x4FBF;&#x3002; <a href="http://my.oschina.net/robinyao/blog/408285" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><p><strong>&#x3010;&#x8D44;&#x8BAF;&#x3011;</strong> <a href="http://www.oschina.net/news/61986/windows-10-can-run-android-and-ios-app" target="_blank" rel="external"><strong>&#x5FAE;&#x8F6F;&#x75AF;&#x4E86;&#xFF1A;iOS/&#x5B89;&#x5353;&#x5E94;&#x7528;&#x4E00;&#x952E;&#x79FB;&#x690D;Windows 10&#xFF01;</strong></a> &#x4E00;&#x76F4;&#x4EE5;&#x6765;&#x90FD;&#x6709;&#x4F20;&#x95FB;&#x79F0;&#xFF0C;Windows 10&#x5C06;&#x4F1A;&#x517C;&#x5BB9;&#x5B89;&#x5353;&#x5E94;&#x7528;&#xFF0C;&#x8FD9;&#x770B;&#x4E0A;&#x53BB;&#x4F3C;&#x4E4E;&#x662F;&#x5929;&#x65B9;&#x591C;&#x8C2D;&#xFF0C;&#x4F46;&#x5FAE;&#x8F6F;&#x771F;&#x7684;&#x505A;&#x5230;&#x4E86;&#xFF0C;&#x4EE5;&#x4E00;&#x79CD;&#x5F88;&#x7279;&#x522B;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x4EC5;&#x662F;&#x5B89;&#x5353;&#xFF0C;&#x8FD8;&#x6709;iOS&#xFF01; <a href="http://www.oschina.net/news/61986/windows-10-can-run-android-and-ios-app" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></p>
<p><strong>Git@OSC &#x9879;&#x76EE;&#x63A8;&#x8350;</strong></p>
</li>
<li><p><a href="https://git.oschina.net/hanguofeng/gocaptcha" target="_blank" rel="external"><strong>Git@OSC &#x9879;&#x76EE;&#x63A8;&#x8350; &#x2014;&#x2014; Go &#x8BED;&#x8A00;&#x9A8C;&#x8BC1;&#x7801;&#x670D;&#x52A1;&#x5668;</strong></a> Go &#x8BED;&#x8A00;&#x9A8C;&#x8BC1;&#x7801;&#x670D;&#x52A1;&#x5668;&#x652F;&#x6301;&#x4E2D;&#x6587;&#x9A8C;&#x8BC1;&#x7801; &#x652F;&#x6301;&#x81EA;&#x5B9A;&#x4E49;&#x8BCD;&#x5E93;&#x3001;&#x5B57;&#x5E93; &#x652F;&#x6301;&#x81EA;&#x5B9A;&#x4E49;&#x6EE4;&#x955C;&#x673A;&#x5236;&#xFF0C;&#x901A;&#x8FC7;&#x6EE4;&#x955C;&#x6765;&#x589E;&#x52A0;&#x5E72;&#x6270;&#xFF0C;&#x52A0;&#x5927;&#x8BC6;&#x522B;&#x96BE;&#x5EA6;&#x3002; <a href="https://git.oschina.net/hanguofeng/gocaptcha" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></p>
</li>
<li><a href="https://git.oschina.net/long_608/docker_wordpress" target="_blank" rel="external"><strong>Git@OSC &#x9879;&#x76EE;&#x63A8;&#x8350; &#x2014;&#x2014; WordPress &#x7684; Docker &#x6620;&#x50CF;</strong></a> &#x4F7F;&#x7528;&#x7684;wordpress&#x4E2D;&#x6587;&#x7248;&#x672C;&#xFF0C;4.1 &#x4E2D;&#x6587;&#x7248;&#x672C;&#x7684;&#x7F51;&#x7AD9;&#x4E3A;&#xFF1A; cn.wordpress.org&#x3002; <a href="https://git.oschina.net/long_608/docker_wordpress" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><a href="https://git.oschina.net/596392912/JFinal-event" target="_blank" rel="external"><strong>Git@OSC &#x9879;&#x76EE;&#x63A8;&#x8350; &#x2014;&#x2014; JFinal-event &#x6D88;&#x606F;&#x63D2;&#x4EF6;</strong></a> &#x6A21;&#x4EFF;&#x7684;Spring&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x4E8B;&#x4EF6;&#xFF1A;&#x8BE6;&#x89E3;Spring&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x6A21;&#x578B; &#xA0;JFinalevent &#x63D2;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;&#x8BF7;&#x67E5;&#x770B;test~&#x3002; <a href="https://git.oschina.net/596392912/JFinal-event" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><a href="https://git.oschina.net/xutongle/Yui.Compressor" target="_blank" rel="external"><strong>Git@OSC &#x9879;&#x76EE;&#x63A8;&#x8350; &#x2014;&#x2014; &#x56FE;&#x5F62;&#x5316; YUI &#x538B;&#x7F29;&#x5668;</strong></a> &#x7528;C# &#x5199;&#x7684; Yui.Compressor &#x7684; GUI,&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x5E93;&#x3002; <a href="https://git.oschina.net/xutongle/Yui.Compressor" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><a href="http://git.oschina.net/876973190/JsoupX" target="_blank" rel="external"><strong>Git@OSC &#x9879;&#x76EE;&#x63A8;&#x8350; &#x2014;&#x2014; JsoupX (JSoup &#x6269;&#x5C55;&#xFF09;</strong></a> JsoupX &#x662F;&#x4E3A;&#x94FE;&#x8BD5;&#x4F7F;&#x7528;Jsoup &#x800C;&#x5C01;&#x88C5;&#x7684;&#x5C0F;&#x5DE5;&#x5177;&#x96C6;&#xFF0C; &#x76EE;&#x7684;&#x662F;&#x4E3A;&#x5FEB;&#x6377;&#x7684;&#x8FC7;&#x8651;&#x51FA;&#x9700;&#x8981;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x65B9;&#x4FBF;&#x7F16;&#x5199;&#x6570;&#x636E;&#x6293;&#x53D6;&#x4EE3;&#x7801;&#x7B49;&#x3002; <a href="http://git.oschina.net/876973190/JsoupX" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><a href="http://git.oschina.net/mooshroom/modal" target="_blank" rel="external"><strong>Git@OSC &#x9879;&#x76EE;&#x63A8;&#x8350; &#x2014;&#x2014; &#x57FA;&#x4E8E; Avalon &#x7684;&#x5F39;&#x51FA;&#x6846;</strong></a> modal.js&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;avalon&#x7684;&#x5F39;&#x51FA;&#x6846;&#x7EC4;&#x4EF6;,&#x7279;&#x70B9;&#x662F;&#x4ED6;&#x4F1A;&#x5728;&#x70B9;&#x51FB;&#x89E6;&#x53D1;&#x6309;&#x94AE;&#x7684;&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;&#x5F39;&#x51FA;&#x3002;&#x52A8;&#x753B;&#x57FA;&#x4E8E;css3&#x3002; <a href="http://git.oschina.net/mooshroom/modal" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
<li><a href="http://git.oschina.net/iknown/Q.js" target="_blank" rel="external"><strong>Git@OSC &#x9879;&#x76EE;&#x63A8;&#x8350; &#x2014;&#x2014; Q.js &#x7B80;&#x5355;&#x7684;js&#x5E93;</strong></a> &#x7B80;&#x5355;&#x7684;js&#x5E93;&#xFF0C; &#x7EDD;&#x5BF9;&#x5E94;&#x7528;&#x7EA7;&#x7684;&#xFF0C; &#x9664;&#x4E86;wndx&#xFF08;&#x5F39;&#x51FA;&#x7A97;&#x53E3;&#x7C7B;&#xFF09;&#x4E4B;&#x5916;&#x51E0;&#x4E4E;&#x90FD;&#x4E0D;&#x9700;&#x8981;&#x7EE7;&#x627F;&#x548C;&#x6269;&#x5C55;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x6709;&#x771F;&#x6B63;&#x9700;&#x8981;&#x7684;&#x4EBA;&#x624D;&#x4F1A;&#x53BB;&#x505A;&#x6269;&#x5C55;&#x3002; <a href="http://git.oschina.net/iknown/Q.js" target="_blank" rel="external">&#x8BE6;&#x60C5;</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Apache-HTTP-Server/">Apache HTTP Server</a><a href="/tags/GitLab/">GitLab</a><a href="/tags/开源/">开源</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/f48ee67/" title="JAVA深入研究——Method的Invoke方法。 -" itemprop="url">JAVA深入研究——Method的Invoke方法。 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:50:30.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Method&#x7684;invoke&#x65B9;&#x6CD5;</p>
<p>1.&#x5148;&#x68C0;&#x67E5;&#xA0;AccessibleObject&#x7684;override&#x5C5E;&#x6027;&#x662F;&#x5426;&#x4E3A;true&#x3002;</p>
<p>AccessibleObject&#x662F;Method,Field,Constructor&#x7684;&#x7236;&#x7C7B;&#xFF0C;override&#x5C5E;&#x6027;&#x9ED8;&#x8BA4;&#x4E3A;false,&#x53EF;&#x8C03;&#x7528;setAccessible&#x65B9;&#x6CD5;&#x6539;&#x53D8;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;true,&#x5219;&#xFFFD;&#xFFFD;&#xFFFD;&#x793A;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x3002;</p>
<p>2.&#x5982;&#x679C;&#x4E0D;&#x662F;ture,&#x5219;&#x8981;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x68C0;&#x6D4B;&#x3002;&#x7528;Reflection&#x7684;quickCheckMemberAccess&#x65B9;&#x6CD5;&#x5148;&#x68C0;&#x67E5;&#x662F;&#x4E0D;&#x662F;public&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x518D;&#x7528;Reflection.getCallerClass(1)&#x65B9;&#x6CD5;&#x83B7;</p>
<p>&#x5F97;&#x5230;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;Class,&#x7136;&#x540E;&#x505A;&#x662F;&#x5426;&#x6709;&#x6743;&#x9650;&#x8BBF;&#x95EE;&#x7684;&#x6821;&#x9A8C;&#xFF0C;&#x6821;&#x9A8C;&#x4E4B;&#x540E;&#x7F13;&#x5B58;&#x4E00;&#x6B21;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0B;&#x6B21;&#x5982;&#x679C;&#x8FD8;&#x662F;&#x8FD9;&#x4E2A;&#x7C7B;&#x6765;&#x8C03;&#x7528;&#x5C31;&#x4E0D;&#x7528;&#x53BB;&#x505A;&#x6821;&#x9A8C;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x7528;&#x4E0A;&#x6B21;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#xFF08;&#x5F88;&#x5947;&#x602A;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7F13;&#x5B58;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5982;&#x679C;&#x4E0B;&#x6B21;&#x6362;&#x4E2A;&#x7C7B;&#x6765;&#x8C03;&#x7528;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4E0D;&#x7528;&#x4F1A;&#x7F13;&#x5B58;&#x4E86;&#xFF0C;&#x800C;&#x518D;&#x9A8C;&#x8BC1;&#x4E00;&#x904D;&#xFF0C;&#x628A;&#x8FD9;&#x6B21;&#x7684;&#x7ED3;&#x679C;&#x505A;&#x4E3A;&#x7F13;&#x5B58;&#xFF0C;&#x4F46;&#x4E0A;&#x4E00;&#x6B21;&#x7684;&#x7F13;&#x5B58;&#x7ED3;&#x679C;&#x5C31;&#x88AB;&#x51B2;&#x6389;&#x4E86;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x7F13;&#x51B2;&#x673A;&#x5236;&#xFF0C;&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x91CD;&#x590D;&#x8C03;&#x7528;)&#x3002;</p>
<p>3.&#x8C03;&#x7528;MethodAccessor&#x7684;invoke&#x65B9;&#x6CD5;&#x3002;&#x6BCF;&#x4E2A;Method&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x4E00;&#x4E2A;root&#x5BF9;&#x8C61;&#xFF0C;root&#x5BF9;&#x8C61;&#x91CC;&#x6301;&#x6709;&#x4E00;&#x4E2A;MethodAccessor&#x5BF9;&#x8C61;&#x3002;&#x6211;&#x4EEC;&#x83B7;&#x5F97;&#x7684;Method&#x72EC;&#x4EAB;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;root&#x5BF9;&#x8C61;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x6240;&#x6709;&#x8FD9;&#x7C7B;Method&#x5171;&#x4EAB;root&#x91CC;&#x7684;MethodAccessor&#x5BF9;&#x8C61;,(&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7531;ReflectionFactory&#x65B9;&#x6CD5;&#x751F;&#x6210;,ReflectionFactory&#x5BF9;&#x8C61;&#x5728;Method&#x7C7B;&#x4E2D;&#x662F;static&#xA0;final&#x7684;&#x7531;native&#x65B9;&#x6CD5;&#x5B9E;&#x4F8B;&#x5316;)&#x3002;</p>
<p>ReflectionFactory&#x751F;&#x6210;MethodAccessor&#xFF1A;&#x5982;&#x679C;noInflation&#x7684;&#x5C5E;&#x6027;&#x4E3A;true&#x5219;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;MethodAccessorGenerator&#x521B;&#x5EFA;&#x7684;&#x4E00;&#x4E2A;MethodAccessor&#x3002;</p>
<p>&#x5426;&#x5219;&#x8FD4;&#x56DE;DelegatingMethodAccessorImpl&#xFF0C;&#x5E76;&#x5C06;&#x4ED6;&#x4E0E;&#x4E00;&#x4E2A;NativeMethodAccessorImpl&#x4E92;&#x76F8;&#x5F15;&#x7528;&#x3002;&#x4F46;DelegatingMethodAccessorImpl&#x6267;&#x884C;invoke&#x65B9;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#x53C8;&#x59D4;&#x6258;&#x7ED9;NativeMethodAccessorImpl&#x4E86;&#x3002;</p>
<p>&#x518D;&#x4E00;&#x6B65;&#x6DF1;&#x5165;</p>
<p>4.NativeMethodAccessorImpl&#x7684;invkoe&#x65B9;&#x6CD5;:</p>
<p>&#x8C03;&#x7528;natiave&#x65B9;&#x6CD5;invoke0&#x6267;&#x884C;&#x65B9;&#x6CD5;&#x8C03;&#x7528;.</p>
<p>&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x8BA1;&#x6570;&#x5668;numInvocations&#xFF0C;&#x6BCF;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#x65B9;&#x6CD5;+1,&#x5F53;&#x6BD4;&#xA0;ReflectionFactory.inflationThreshold(15)&#x5927;&#x7684;&#x65F6;&#x5019;,&#x7528;MethodAccessorGenerator&#x521B;&#x5EFA;&#x4E00;&#x4E2A;MethodAccessor,&#x5E76;&#x628A;&#x4E4B;&#x524D;&#x7684;DelegatingMethodAccessorImpl&#x5F15;&#x7528;&#x66FF;&#x6362;&#x4E3A;&#x73B0;&#x5728;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x3002;&#x4E0B;&#x4E00;&#x6B21;DelegatingMethodAccessorImpl&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x4EA4;&#x7ED9;NativeMethodAccessorImpl&#x6267;&#x884C;&#x4E86;&#xFF0C;&#x800C;&#x662F;&#x4EA4;&#x7ED9;&#x65B0;&#x751F;&#x6210;&#x7684;java&#x5B57;&#x8282;&#x7801;&#x7684;MethodAccessor&#x3002;</p>
<p>MethodAccessorGenerator&#x4F7F;&#x7528;&#x4E86;asm&#x5B57;&#x8282;&#x7801;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x6280;&#x672F;&#xFF0C;&#x6682;&#x4E0D;&#x6DF1;&#x5165;&#x7814;&#x7A76;&#x3002;</p>
<p>&#x603B;&#x7ED3;&#xA0;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x591A;&#x4E2A;Method&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x53EA;&#x6709;&#x4E00;&#x4E2A;root&#x5BF9;&#x8C61;&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x6301;&#x6709;&#x4E00;&#x4E2A;MethodAccessor&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4E5F;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x662F;static&#x7684;&#x3002;&#x56E0;&#x4E3A;Method&#x7684;invoke&#x662F;&#x4EA4;&#x7ED9;MethodAccessor&#x6267;&#x884C;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x6240;&#x60F3;&#x8981;&#x77E5;&#x9053;&#x7684;&#x7B54;&#x6848;&#x5728;MethodAccessor&#x7684;invoke&#x4E2D;&#xFF0C;&#x6DF1;&#x5165;MethodAccessor&#xFF1A;</p>
<p>—————————————————————MethodAccessor————————————————-</p>
<p>&#x5047;&#x5982;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x7C7B;A&#xFF1A;&#xA0;</p>
<p>public class A {</p>
<p>public void foo(String name) {</p>
<p>System.out.println(&quot;Hello, &quot; + name);</p>
<p>}</p>
<p>}</p>
<p>&#x53EF;&#x4EE5;&#x7F16;&#x5199;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7C7B;&#x6765;&#x53CD;&#x5C04;&#x8C03;&#x7528;A&#x4E0A;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<p>import java.lang.reflect.Method;</p>
<p>public class TestClassLoad {</p>
<p>public static void main(String[] args) throws Exception {</p>
<p>Class&lt;?&gt; clz = Class.forName(&quot;A&quot;);</p>
<p>Object o = clz.newInstance();</p>
<p>Method m = clz.getMethod(&quot;foo&quot;, String.class);</p>
<p>for (int i = 0; i &lt; 16; i++) {</p>
<p>m.invoke(o, Integer.toString(i));</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>&#x6CE8;&#x610F;&#x5230;TestClassLoad&#x7C7B;&#x4E0A;&#x4E0D;&#x4F1A;&#x6709;&#x5BF9;&#x7C7B;A&#x7684;&#x7B26;&#x53F7;&#x4F9D;&#x8D56;&#x2014;&#x2014;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5728;&#x52A0;&#x8F7D;&#x5E76;&#x521D;&#x59CB;&#x5316;TestClassLoad&#x7C7B;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x7C7B;A&#x7684;&#x5B58;&#x5728;&#x4E0E;&#x5426;&#xFF0C;&#x800C;&#x662F;&#x7B49;&#x5230;main()&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x5230;&#x8C03;&#x7528;Class.forName()&#x65F6;&#x624D;&#x8BD5;&#x56FE;&#x5BF9;&#x7C7B;A&#x505A;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#xFF1B;&#x8FD9;&#x91CC;&#x7528;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x7248;&#x7684;forName()&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x6240;&#x5728;&#x7C7B;&#x7684;ClassLoader&#x6765;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x4E14;&#x521D;&#x59CB;&#x5316;&#x65B0;&#x52A0;&#x8F7D;&#x7684;&#x7C7B;&#x3002;&#x2026;&#x2026;&#x597D;&#x5427;&#x8FD9;&#x4E2A;&#x7EC6;&#x8282;&#x8DDF;&#x4E3B;&#x9898;&#x6CA1;&#x5565;&#x5173;&#x7CFB;&#x3002;&#xA0;</p>
<p>&#x56DE;&#x5230;&#x4E3B;&#x9898;&#x3002;&#x8FD9;&#x6B21;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x662F;Sun&#x7684;JDK 1.6.0 update 13 build 03&#x3002;&#x7F16;&#x8BD1;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x5728;&#x6267;&#x884C;TestClassLoad&#x65F6;&#x52A0;&#x5165;-XX:+TraceClassLoading&#x53C2;&#x6570;&#xFF08;&#x6216;&#x8005;-verbose:class&#x6216;&#x8005;&#x76F4;&#x63A5;-verbose&#x90FD;&#x884C;&#xFF09;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>&#x63A7;&#x5236;&#x53F0;&#x547D;&#x4EE4;</p>
<p>java&#xA0;-XX:+TraTestClassLoad &#xA0;ceClassLoading&#xA0;</p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8F93;&#x51FA;&#x4E86;&#x4E00;&#x5927;&#x5806;log&#xFF0C;&#x628A;&#x5176;&#x4E2D;&#x76F8;&#x5173;&#x7684;&#x90E8;&#x5206;&#x622A;&#x53D6;&#x51FA;&#x6765;&#x5982;&#x4E0B;&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/f489412.gif" alt=""></p>
<pre><code>[Loaded TestClassLoad from file:/D:/temp_code/test_java_classload/]
[Loaded A from file:/D:/temp_code/test_java_classload/]
[Loaded sun<span class="class">.reflect</span><span class="class">.NativeMethodAccessorImpl</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.DelegatingMethodAccessorImpl</span> from shared objects file]
Hello, <span class="number">0</span>
Hello, <span class="number">1</span>
Hello, <span class="number">2</span>
Hello, <span class="number">3</span>
Hello, <span class="number">4</span>
Hello, <span class="number">5</span>
Hello, <span class="number">6</span>
Hello, <span class="number">7</span>
Hello, <span class="number">8</span>
Hello, <span class="number">9</span>
Hello, <span class="number">10</span>
Hello, <span class="number">11</span>
Hello, <span class="number">12</span>
Hello, <span class="number">13</span>
Hello, <span class="number">14</span>
[Loaded sun<span class="class">.reflect</span><span class="class">.ClassFileConstants</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.AccessorGenerator</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.MethodAccessorGenerator</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.ByteVectorFactory</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.ByteVector</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.ByteVectorImpl</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.ClassFileAssembler</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.UTF8</span> from shared objects file]
[Loaded java<span class="class">.lang</span><span class="class">.Void</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.Label</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.Label</span><span class="variable">$PatchInfo</span> from shared objects file]
[Loaded java<span class="class">.util</span><span class="class">.AbstractList</span><span class="variable">$Itr</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.MethodAccessorGenerator</span>$<span class="number">1</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.ClassDefiner</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.ClassDefiner</span>$<span class="number">1</span> from shared objects file]
[Loaded sun<span class="class">.reflect</span><span class="class">.GeneratedMethodAccessor1</span> from __JVM_DefineClass__]
Hello, <span class="number">15</span>
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f489412.gif" alt=""></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x524D;15&#x6B21;&#x53CD;&#x5C04;&#x8C03;&#x7528;A.foo()&#x65B9;&#x6CD5;&#x5E76;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x7A00;&#x5947;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4F46;&#x5728;&#x7B2C;16&#x6B21;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x65F6;&#x4F3C;&#x4E4E;&#x6709;&#x4EC0;&#x4E48;&#x4E1C;&#x897F;&#x88AB;&#x89E6;&#x53D1;&#x4E86;&#xFF0C;&#x5BFC;&#x81F4;JVM&#x65B0;&#x52A0;&#x8F7D;&#x4E86;&#x4E00;&#x5806;&#x7C7B;&#xFF0C;&#x5176;&#x4E2D;&#x5C31;&#x5305;&#x62EC;[Loaded sun.reflect.GeneratedMethodAccessor1 from <strong>JVM_DefineClass</strong>]&#x8FD9;&#x4E48;&#x4E00;&#x884C;&#x3002;&#x8FD9;&#x662F;&#x54EA;&#x91CC;&#x6765;&#x7684;&#x5462;&#xFF1F;</p>
<p>&#x5148;&#x6765;&#x770B;&#x770B;JDK&#x91CC;Method.invoke()&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#x3002;java.lang.reflect.Method&#xFF1A;&#xA0; </p>
<p> <img src="http://taojinke.github.io/img/20150702/f489683.gif" alt=""></p>
<pre><code><span class="keyword">public</span> <span class="keyword">final</span>
    <span class="class"><span class="keyword">class</span> <span class="title">Method</span> <span class="keyword">extends</span> <span class="title">AccessibleObject</span> <span class="keyword">implements</span> <span class="title">GenericDeclaration</span>, 
                             <span class="title">Member</span> </span>{
    <span class="comment">// ...</span>
    <span class="keyword">private</span> <span class="keyword">volatile</span> MethodAccessor methodAccessor;
    <span class="comment">// For sharing of MethodAccessors. This branching structure is</span>
    <span class="comment">// currently only two levels deep (i.e., one root Method and</span>
    <span class="comment">// potentially many Method objects pointing to it.)</span>
    <span class="keyword">private</span> Method              root;
    <span class="comment">// ...</span>
    <span class="keyword">public</span> <span class="function">Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span>
            <span class="keyword">throws</span> IllegalAccessException, IllegalArgumentException,
            InvocationTargetException
    </span>{
        <span class="keyword">if</span> (!override) {
            <span class="keyword">if</span> (!Reflection.quickCheckMemberAccess(clazz, modifiers)) {
                Class caller = Reflection.getCallerClass(<span class="number">1</span>);
                Class targetClass = ((obj == <span class="keyword">null</span> || !Modifier.isProtected(modifiers))
                                     ? clazz
                                     : obj.getClass());
                <span class="keyword">boolean</span> cached;
                <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {
                    cached = (securityCheckCache == caller)
                        &amp;amp;&amp;amp; (securityCheckTargetClassCache == targetClass);
                }
                <span class="keyword">if</span> (!cached) {
                    Reflection.ensureMemberAccess(caller, clazz, obj, modifiers);
                    <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {
                    securityCheckCache = caller;
                    securityCheckTargetClassCache = targetClass;
                    }
                }
            }
        }
        <span class="keyword">if</span> (methodAccessor == <span class="keyword">null</span>) acquireMethodAccessor();
        <span class="function"><span class="keyword">return</span> methodAccessor.<span class="title">invoke</span><span class="params">(obj, args)</span></span>;
    }
    <span class="comment">// <span class="doctag">NOTE</span> that there is no synchronization used here. It is correct</span>
    <span class="comment">// (though not efficient) to generate more than one MethodAccessor</span>
    <span class="comment">// for a given Method. However, avoiding synchronization will</span>
    <span class="comment">// probably make the implementation more scalable.</span>
    <span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">acquireMethodAccessor</span><span class="params">()</span> </span>{
        <span class="comment">// First check to see if one has been created yet, and take it</span>
        <span class="comment">// if so</span>
        MethodAccessor tmp = <span class="keyword">null</span>;
        <span class="keyword">if</span> (root != <span class="keyword">null</span>) tmp = root.getMethodAccessor();
        <span class="keyword">if</span> (tmp != <span class="keyword">null</span>) {
            methodAccessor = tmp;
            <span class="keyword">return</span>;
        }
        <span class="comment">// Otherwise fabricate one and propagate it up to the root</span>
        tmp = reflectionFactory.newMethodAccessor(<span class="keyword">this</span>);
        setMethodAccessor(tmp);
    }
    <span class="comment">// ...</span>
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f4898f4.gif" alt=""></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;Method.invoke()&#x5B9E;&#x9645;&#x4E0A;&#x5E76;&#x4E0D;&#x662F;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x7684;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x903B;&#x8F91;&#xFF0C;&#x800C;&#x662F;&#x59D4;&#x6258;&#x7ED9;sun.reflect.MethodAccessor&#x6765;&#x5904;&#x7406;&#x3002;</p>
<p>&#x6BCF;&#x4E2A;&#x5B9E;&#x9645;&#x7684;Java&#x65B9;&#x6CD5;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;Method&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;root&#xFF0C;&#x3002;&#x8FD9;&#x4E2A;root&#x662F;&#x4E0D;&#x4F1A;&#x66B4;&#x9732;&#x7ED9;&#x7528;&#x6237;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x6BCF;&#x6B21;&#x5728;&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x83B7;&#x53D6;Method&#x5BF9;&#x8C61;&#x65F6;&#x65B0;&#x521B;&#x5EFA;Method&#x5BF9;&#x8C61;&#x628A;root&#x5305;&#x88C5;&#x8D77;&#x6765;&#x518D;&#x7ED9;&#x7528;&#x6237;&#x3002;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x5B9E;&#x9645;Java&#x65B9;&#x6CD5;&#x5BF9;&#x5E94;&#x5F97;Method&#x5BF9;&#x8C61;&#x7684;invoke()&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x5B9E;&#x73B0;&#x8C03;&#x7528;&#x903B;&#x8F91;&#x7684;MethodAccessor&#x5BF9;&#x8C61;&#x8FD8;&#x6CA1;&#x521B;&#x5EFA;&#xFF1B;&#x7B49;&#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x65F6;&#x624D;&#x65B0;&#x521B;&#x5EFA;MethodAccessor&#x5E76;&#x66F4;&#x65B0;&#x7ED9;root&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;MethodAccessor.invoke()&#x771F;&#x6B63;&#x5B8C;&#x6210;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x3002;&#xA0;</p>
<p>&#x90A3;&#x4E48;MethodAccessor&#x662F;&#x5565;&#x5462;&#xFF1F;&#xA0;</p>
<p>sun.reflect.MethodAccessor&#xFF1A;</p>
<pre><code><span class="keyword">public</span> <span class="interface"><span class="keyword">interface</span> MethodAccessor </span>{
    <span class="comment">/** Matches specification in {@link java.lang.reflect.Method} */</span>
    <span class="keyword">public</span> <span class="built_in">Object</span> invoke(<span class="built_in">Object</span> obj, <span class="built_in">Object</span>[] args)
        throws IllegalArgumentException, InvocationTargetException;
}
</code></pre><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5B83;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x65B9;&#x6CD5;&#x63A5;&#x53E3;&#xFF0C;&#x5176;invoke()&#x65B9;&#x6CD5;&#x4E0E;Method.invoke()&#x7684;&#x5BF9;&#x5E94;&#x3002;</p>
<p>&#x521B;&#x5EFA;MethodAccessor&#x5B9E;&#x4F8B;&#x7684;&#x662F;ReflectionFactory&#x3002;</p>
<p>sun.reflect.ReflectionFactory&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/f489b65.gif" alt=""></p>
<pre><code>public class <span class="type">ReflectionFactory</span> {
    private <span class="keyword">static</span> boolean initted = <span class="literal">false</span>;
    // ...
    //
    // &amp;quot;<span class="type">Inflation</span>&amp;quot; mechanism. <span class="type">Loading</span> bytecodes to implement
    // <span class="type">Method</span>.invoke() <span class="keyword">and</span> <span class="type">Constructor</span>.newInstance() currently costs
    // <span class="number">3</span>-<span class="number">4</span>x more than an invocation via native code <span class="keyword">for</span> the first
    // invocation (though subsequent invocations have been benchmarked
    // to be over <span class="number">20</span>x faster). <span class="type">Unfortunately</span> this cost increases
    // startup time <span class="keyword">for</span> certain applications that use reflection
    // intensively (but only once per class) to bootstrap themselves.
    // <span class="type">To</span> avoid this penalty we reuse the existing <span class="type">JVM</span> entry points
    // <span class="keyword">for</span> the first few invocations <span class="keyword">of</span> <span class="type">Methods</span> <span class="keyword">and</span> <span class="type">Constructors</span> <span class="keyword">and</span>
    // then switch to the bytecode-based implementations.
    //
    // <span class="type">Package</span>-private to be accessible to <span class="type">NativeMethodAccessorImpl</span>
    // <span class="keyword">and</span> <span class="type">NativeConstructorAccessorImpl</span>
    private <span class="keyword">static</span> boolean noInflation        = <span class="literal">false</span>;
    private <span class="keyword">static</span> <span class="type">int</span>     inflationThreshold = <span class="number">15</span>;
    // ...
    /** <span class="type">We</span> have to defer full initialization <span class="keyword">of</span> this class until after
        the <span class="keyword">static</span> initializer <span class="keyword">is</span> run since java.lang.reflect.<span class="type">Method</span>&amp;apos;s
        <span class="keyword">static</span> initializer (more properly, that <span class="keyword">for</span>
        java.lang.reflect.<span class="type">AccessibleObject</span>) causes this class&amp;apos;s to be
        run, before the system properties are <span class="type">set</span> up. */
    private <span class="keyword">static</span> <span class="type">void</span> checkInitted() {
        <span class="keyword">if</span> (initted) <span class="keyword">return</span>;
        <span class="type">AccessController</span>.doPrivileged(new <span class="type">PrivilegedAction</span>() {
                public <span class="type">Object</span> run() {
                    // <span class="type">Tests</span> to ensure the system properties table <span class="keyword">is</span> fully
                    // initialized. <span class="type">This</span> <span class="keyword">is</span> needed because reflection code <span class="keyword">is</span>
                    // called very early <span class="keyword">in</span> the initialization process (before
                    // command-line arguments have been parsed <span class="keyword">and</span> therefore
                    // these user-settable properties installed.) <span class="type">We</span> assume that
                    // <span class="keyword">if</span> <span class="type">System</span>.<span class="keyword">out</span> <span class="keyword">is</span> non-null then the <span class="type">System</span> class has been
                    // fully initialized <span class="keyword">and</span> that the bulk <span class="keyword">of</span> the startup code
                    // has been run.
                    <span class="keyword">if</span> (<span class="type">System</span>.<span class="keyword">out</span> == null) {
                        // java.lang.<span class="type">System</span> <span class="keyword">not</span> yet fully initialized
                        <span class="keyword">return</span> null;
                    }
                    <span class="type">String</span> val = <span class="type">System</span>.getProperty(&amp;quot;sun.reflect.noInflation&amp;quot;);
                    <span class="keyword">if</span> (val != null &amp;amp;&amp;amp; val.equals(&amp;quot;<span class="literal">true</span>&amp;quot;)) {
                        noInflation = <span class="literal">true</span>;
                    }
                    val = <span class="type">System</span>.getProperty(&amp;quot;sun.reflect.inflationThreshold&amp;quot;);
                    <span class="keyword">if</span> (val != null) {
                        <span class="keyword">try</span> {
                            inflationThreshold = <span class="type">Integer</span>.parseInt(val);
                        } catch (<span class="type">NumberFormatException</span> e) {
                            throw (<span class="type">RuntimeException</span>) 
                                new <span class="type">RuntimeException</span>(&amp;quot;<span class="type">Unable</span> to parse property sun.reflect.inflationThreshold&amp;quot;).
                                    initCause(e);
                        }
                    }
                    initted = <span class="literal">true</span>;
                    <span class="keyword">return</span> null;
                }
            });
    }
    // ...
    public <span class="type">MethodAccessor</span> newMethodAccessor(<span class="type">Method</span> <span class="keyword">method</span>) {
        checkInitted();
        <span class="keyword">if</span> (noInflation) {
            <span class="keyword">return</span> new <span class="type">MethodAccessorGenerator</span>().
                generateMethod(<span class="keyword">method</span>.getDeclaringClass(),
                               <span class="keyword">method</span>.getName(),
                               <span class="keyword">method</span>.getParameterTypes(),
                               <span class="keyword">method</span>.getReturnType(),
                               <span class="keyword">method</span>.getExceptionTypes(),
                               <span class="keyword">method</span>.getModifiers());
        } <span class="keyword">else</span> {
            <span class="type">NativeMethodAccessorImpl</span> acc =
                new <span class="type">NativeMethodAccessorImpl</span>(<span class="keyword">method</span>);
            <span class="type">DelegatingMethodAccessorImpl</span> res =
                new <span class="type">DelegatingMethodAccessorImpl</span>(acc);
            acc.setParent(res);
            <span class="keyword">return</span> res;
        }
    }
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f489dd6.gif" alt=""></p>
<p>&#x8FD9;&#x91CC;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x8DA3;&#x7684;&#x5730;&#x65B9;&#x4E86;&#x3002;&#x5982;&#x6CE8;&#x91CA;&#x6240;&#x8FF0;&#xFF0C;&#x5B9E;&#x9645;&#x7684;MethodAccessor&#x5B9E;&#x73B0;&#x6709;&#x4E24;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;Java&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x662F;native code&#x5B9E;&#x73B0;&#x7684;&#x3002;Java&#x5B9E;&#x73B0;&#x7684;&#x7248;&#x672C;&#x5728;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x9700;&#x8981;&#x8F83;&#x591A;&#x65F6;&#x95F4;&#xFF0C;&#x4F46;&#x957F;&#x4E45;&#x6765;&#x8BF4;&#x6027;&#x80FD;&#x8F83;&#x597D;&#xFF1B;native&#x7248;&#x672C;&#x6B63;&#x597D;&#x76F8;&#x53CD;&#xFF0C;&#x542F;&#x52A8;&#x65F6;&#x76F8;&#x5BF9;&#x8F83;&#x5FEB;&#xFF0C;&#x4F46;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x957F;&#x4E86;&#x4E4B;&#x540E;&#x901F;&#x5EA6;&#x5C31;&#x6BD4;&#x4E0D;&#x8FC7;Java&#x7248;&#x4E86;&#x3002;&#x8FD9;&#x662F;HotSpot&#x7684;&#x4F18;&#x5316;&#x65B9;&#x5F0F;&#x5E26;&#x6765;&#x7684;&#x6027;&#x80FD;&#x7279;&#x6027;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x662F;&#x8BB8;&#x591A;&#x865A;&#x62DF;&#x673A;&#x7684;&#x5171;&#x540C;&#x70B9;&#xFF1A;&#x8DE8;&#x8D8A;native&#x8FB9;&#x754C;&#x4F1A;&#x5BF9;&#x4F18;&#x5316;&#x6709;&#x963B;&#x788D;&#x4F5C;&#x7528;&#xFF0C;&#x5B83;&#x5C31;&#x50CF;&#x4E2A;&#x9ED1;&#x7BB1;&#x4E00;&#x6837;&#x8BA9;&#x865A;&#x62DF;&#x673A;&#x96BE;&#x4EE5;&#x5206;&#x6790;&#x4E5F;&#x5C06;&#x5176;&#x5185;&#x8054;&#xFF0C;&#x4E8E;&#x662F;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x957F;&#x4E86;&#x4E4B;&#x540E;&#x53CD;&#x800C;&#x662F;&#x6258;&#x7BA1;&#x7248;&#x672C;&#x7684;&#x4EE3;&#x7801;&#x66F4;&#x5FEB;&#x4E9B;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x6743;&#x8861;&#x4E24;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x6027;&#x80FD;&#xFF0C;Sun&#x7684;JDK&#x4F7F;&#x7528;&#x4E86;&#x201C;inflation&#x201D;&#x7684;&#x6280;&#x5DE7;&#xFF1A;&#x8BA9;Java&#x65B9;&#x6CD5;&#x5728;&#x88AB;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x5F00;&#x5934;&#x82E5;&#x5E72;&#x6B21;&#x4F7F;&#x7528;native&#x7248;&#xFF0C;&#x7B49;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x6B21;&#x6570;&#x8D85;&#x8FC7;&#x9608;&#x503C;&#x65F6;&#x5219;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4E13;&#x7528;&#x7684;MethodAccessor&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x751F;&#x6210;&#x5176;&#x4E2D;&#x7684;invoke()&#x65B9;&#x6CD5;&#x7684;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x4EE5;&#x540E;&#x5BF9;&#x8BE5;Java&#x65B9;&#x6CD5;&#x7684;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x5C31;&#x4F1A;&#x4F7F;&#x7528;Java&#x7248;&#x3002;&#xA0;</p>
<p>Sun&#x7684;JDK&#x662F;&#x4ECE;1.4&#x7CFB;&#x5F00;&#x59CB;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x4F18;&#x5316;&#x7684;&#x3002;</p>
<p>PS.&#x53EF;&#x4EE5;&#x5728;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x91CC;&#x52A0;&#x4E0A;-D <em>sun.reflect.noInflation</em> =true&#xFF0C;&#x5C31;&#x4F1A;RefactionFactory&#x7684;noInflation&#x5C5E;&#x6027;&#x5C31;&#x53D8;&#x6210;true&#x4E86;&#xFF0C;&#x8FD9;&#x6837;&#x4E0D;&#x7528;&#x7B49;&#x5230;15&#x8C03;&#x7528;&#x540E;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x4F1A;&#x7528;java&#x7248;&#x7684;MethodAccessor&#x4E86;&#x3002; </p>
<p>&#x4E0A;&#x9762;&#x770B;&#x5230;&#x4E86;ReflectionFactory.newMethodAccessor()&#x751F;&#x4EA7;MethodAccessor&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x5728;&#x201C;&#x5F00;&#x5934;&#x82E5;&#x5E72;&#x6B21;&#x201D;&#x65F6;&#x7528;&#x5230;&#x7684;DelegatingMethodAccessorImpl&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>sun.reflect.DelegatingMethodAccessorImpl&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/f489dd6.gif" alt=""></p>
<pre><code><span class="comment">/** Delegates its invocation to another MethodAccessorImpl and can
    change its delegate at run time. */</span>
<span class="class"><span class="keyword">class</span> <span class="title">DelegatingMethodAccessorImpl</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">MethodAccessorImpl</span> {</span>
    <span class="keyword">private</span> <span class="type">MethodAccessorImpl</span> delegate;
    <span class="type">DelegatingMethodAccessorImpl</span>(<span class="type">MethodAccessorImpl</span> delegate) {
        setDelegate(delegate);
    }    
    public <span class="type">Object</span> invoke(<span class="type">Object</span> obj, <span class="type">Object</span>[] args)
        <span class="keyword">throws</span> <span class="type">IllegalArgumentException</span>, <span class="type">InvocationTargetException</span>
    {
        <span class="keyword">return</span> delegate.invoke(obj, args);
    }
    void setDelegate(<span class="type">MethodAccessorImpl</span> delegate) {
        <span class="keyword">this</span>.delegate = delegate;
    }
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48a047.gif" alt=""></p>
<p>&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x95F4;&#x63A5;&#x5C42;&#xFF0C;&#x65B9;&#x4FBF;&#x5728;native&#x4E0E;Java&#x7248;&#x7684;MethodAccessor&#x4E4B;&#x95F4;&#x5B9E;&#x73B0;&#x5207;&#x6362;&#x3002;</p>
<p>&#x7136;&#x540E;&#x4E0B;&#x9762;&#x5C31;&#x662F;native&#x7248;MethodAccessor&#x7684;Java&#x4E00;&#x4FA7;&#x7684;&#x58F0;&#x660E;:</p>
<p>sun.reflect.NativeMethodAccessorImpl&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/f48a047.gif" alt=""></p>
<pre><code>/** <span class="type">Used</span> only <span class="keyword">for</span> the first few invocations <span class="keyword">of</span> a <span class="type">Method</span>; afterward,
    switches to bytecode-based implementation */
class <span class="type">NativeMethodAccessorImpl</span> extends <span class="type">MethodAccessorImpl</span> {
    private <span class="type">Method</span> <span class="keyword">method</span>;
    private <span class="type">DelegatingMethodAccessorImpl</span> parent;
    private <span class="type">int</span> numInvocations;
    <span class="type">NativeMethodAccessorImpl</span>(<span class="type">Method</span> <span class="keyword">method</span>) {
        this.<span class="keyword">method</span> = <span class="keyword">method</span>;
    }    
    public <span class="type">Object</span> invoke(<span class="type">Object</span> obj, <span class="type">Object</span>[] args)
        throws <span class="type">IllegalArgumentException</span>, <span class="type">InvocationTargetException</span>
    {
        <span class="keyword">if</span> (++numInvocations &amp;gt; <span class="type">ReflectionFactory</span>.inflationThreshold()) {
            <span class="type">MethodAccessorImpl</span> acc = (<span class="type">MethodAccessorImpl</span>)
                new <span class="type">MethodAccessorGenerator</span>().
                    generateMethod(<span class="keyword">method</span>.getDeclaringClass(),
                                   <span class="keyword">method</span>.getName(),
                                   <span class="keyword">method</span>.getParameterTypes(),
                                   <span class="keyword">method</span>.getReturnType(),
                                   <span class="keyword">method</span>.getExceptionTypes(),
                                   <span class="keyword">method</span>.getModifiers());
            parent.setDelegate(acc);
        }
        <span class="keyword">return</span> invoke0(<span class="keyword">method</span>, obj, args);
    }
    <span class="type">void</span> setParent(<span class="type">DelegatingMethodAccessorImpl</span> parent) {
        this.parent = parent;
    }
    private <span class="keyword">static</span> native <span class="type">Object</span> invoke0(<span class="type">Method</span> m, <span class="type">Object</span> obj, <span class="type">Object</span>[] args);
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48a2b8.gif" alt=""></p>
<p>&#x6BCF;&#x6B21;NativeMethodAccessorImpl.invoke()&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x8C03;&#x7528;&#x6B21;&#x6570;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x770B;&#x8D85;&#x8FC7;&#x9608;&#x503C;&#x6CA1;&#x6709;&#xFF1B;&#x4E00;&#x65E6;&#x8D85;&#x8FC7;&#xFF0C;&#x5219;&#x8C03;&#x7528;MethodAccessorGenerator.generateMethod()&#x6765;&#x751F;&#x6210;Java&#x7248;&#x7684;MethodAccessor&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x5E76;&#x4E14;&#x6539;&#x53D8;DelegatingMethodAccessorImpl&#x6240;&#x5F15;&#x7528;&#x7684;MethodAccessor&#x4E3A;Java&#x7248;&#x3002;&#x540E;&#x7EED;&#x7ECF;&#x7531;DelegatingMethodAccessorImpl.invoke()&#x8C03;&#x7528;&#x5230;&#x7684;&#x5C31;&#x662F;Java&#x7248;&#x7684;&#x5B9E;&#x73B0;&#x4E86;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#x5230;&#x5173;&#x952E;&#x7684;invoke0()&#x65B9;&#x6CD5;&#x662F;&#x4E2A;native&#x65B9;&#x6CD5;&#x3002;&#x5B83;&#x5728;HotSpot VM&#x91CC;&#x662F;&#x7531;JVM_InvokeMethod()&#x51FD;&#x6570;&#x6240;&#x652F;&#x6301;&#x7684;&#xFF1A;</p>
<p>&#x7531;C&#x7F16;&#x5199;</p>
<pre><code>JNIEXPORT jobject JNICALL Java_sun_reflect_NativeMethodAccessorImpl_invoke0
(JNIEnv *env, jclass unused, jobject <span class="keyword">m</span>, jobject obj, jobjectArray <span class="keyword">args</span>)
{
    <span class="keyword">return</span> JVM_InvokeMethod(env, <span class="keyword">m</span>, obj, <span class="keyword">args</span>);
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48a529.gif" alt=""></p>
<pre><code><span class="type">JVM_ENTRY</span>(jobject, <span class="type">JVM_InvokeMethod</span>(<span class="type">JNIEnv</span> *env, jobject <span class="keyword">method</span>, jobject obj, jobjectArray args0))
  <span class="type">JVMWrapper</span>(&amp;quot;<span class="type">JVM_InvokeMethod</span>&amp;quot;);
  <span class="type">Handle</span> method_handle;
  <span class="keyword">if</span> (thread-&amp;gt;stack_available((address) &amp;amp;method_handle) &amp;gt;= <span class="type">JVMInvokeMethodSlack</span>) {
    method_handle = <span class="type">Handle</span>(<span class="type">THREAD</span>, <span class="type">JNIHandles</span>::resolve(<span class="keyword">method</span>));
    <span class="type">Handle</span> receiver(<span class="type">THREAD</span>, <span class="type">JNIHandles</span>::resolve(obj));
    objArrayHandle args(<span class="type">THREAD</span>, objArrayOop(<span class="type">JNIHandles</span>::resolve(args0)));
    oop <span class="literal">result</span> = <span class="type">Reflection</span>::invoke_method(method_handle(), receiver, args, <span class="type">CHECK_NULL</span>);
    jobject res = <span class="type">JNIHandles</span>::make_local(env, <span class="literal">result</span>);
    <span class="keyword">if</span> (<span class="type">JvmtiExport</span>::should_post_vm_object_alloc()) {
      oop ret_type = java_lang_reflect_Method::return_type(method_handle());
      assert(ret_type != <span class="type">NULL</span>, &amp;quot;sanity check: ret_type oop must <span class="keyword">not</span> be <span class="type">NULL</span>!&amp;quot;);
      <span class="keyword">if</span> (java_lang_Class::is_primitive(ret_type)) {
        // <span class="type">Only</span> <span class="keyword">for</span> primitive <span class="keyword">type</span> vm allocates memory <span class="keyword">for</span> java <span class="keyword">object</span>.
        // <span class="type">See</span> box() <span class="keyword">method</span>.
        <span class="type">JvmtiExport</span>::post_vm_object_alloc(<span class="type">JavaThread</span>::current(), <span class="literal">result</span>);
      }
    }
    <span class="keyword">return</span> res;
  } <span class="keyword">else</span> {
    <span class="type">THROW_0</span>(vmSymbols::java_lang_StackOverflowError());
  }
<span class="type">JVM_END</span>
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48a529.gif" alt=""></p>
<p>&#x5176;&#x4E2D;&#x7684;&#x5173;&#x952E;&#x53C8;&#x662F;Reflection::invoke_method()&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/f48a79a.gif" alt=""></p>
<pre><code><span class="comment">// This would be nicer if, say, java.lang.reflect.Method was a subclass</span>
<span class="comment">// of java.lang.reflect.Constructor</span>

oop Reflection::invoke_method(oop method_mirror, Handle receiver, objArrayHandle args, TRAPS) <span class="comment">{
  oop mirror             = java_lang_reflect_Method::clazz(method_mirror);
  int slot               = java_lang_reflect_Method::slot(method_mirror);
  bool override          = java_lang_reflect_Method::override(method_mirror) != 0;
  objArrayHandle ptypes(THREAD, objArrayOop(java_lang_reflect_Method::parameter_types(method_mirror)));

  oop return_type_mirror = java_lang_reflect_Method::return_type(method_mirror);
  BasicType rtype;
  if (java_lang_Class::is_primitive(return_type_mirror)) {
    rtype = basic_type_mirror_to_basic_type(return_type_mirror, CHECK_NULL);
  }</span> <span class="keyword">else</span> <span class="comment">{
    rtype = T_OBJECT;
  }</span>

  instanceKlassHandle klass(THREAD, java_lang_Class::as_klassOop(mirror));
  methodOop m = klass-&amp;gt;method_with_idnum(slot);
  <span class="keyword">if</span> (m == NULL) <span class="comment">{
    THROW_MSG_0(vmSymbols::java_lang_InternalError(), &amp;quot;invoke&amp;quot;);
  }</span>
  methodHandle <span class="function"><span class="keyword">method</span><span class="params">(THREAD, m)</span>;</span>

  return invoke(klass, <span class="function"><span class="keyword">method</span>, <span class="title">receiver</span>, <span class="title">override</span>, <span class="title">ptypes</span>, <span class="title">rtype</span>, <span class="title">args</span>, <span class="title">true</span>, <span class="title">THREAD</span>);</span>
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48a79a.gif" alt=""></p>
<p>&#x518D;&#x4E0B;&#x53BB;&#x5C31;&#x6DF1;&#x5165;&#x5230;HotSpot VM&#x7684;&#x5185;&#x90E8;&#x4E86;&#xFF0C;&#x672C;&#x6587;&#x5C31;&#x5728;&#x8FD9;&#x91CC;&#x6253;&#x4F4F;&#x5427;&#x3002;&#x6709;&#x540C;&#x5B66;&#x6709;&#x5174;&#x8DA3;&#x6DF1;&#x7A76;&#x7684;&#x8BDD;&#x4EE5;&#x540E;&#x53EF;&#x4EE5;&#x518D;&#x5199;&#x4E00;&#x7BC7;&#x8BA8;&#x8BBA;native&#x7248;&#x7684;&#x5B9E;&#x73B0;&#x3002;</p>
<p>&#x56DE;&#x5230;Java&#x7684;&#x4E00;&#x4FA7;&#x3002;MethodAccessorGenerator&#x957F;&#x5565;&#x6837;&#x5462;&#xFF1F;&#x7531;&#x4E8E;&#x4EE3;&#x7801;&#x592A;&#x957F;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x5B8C;&#x6574;&#x8D34;&#x4E86;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x5230;OpenJDK 6&#x7684;Mercurial&#x4ED3;&#x5E93;&#x770B;&#xFF1A; <a href="http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/b202c79afde3/src/share/classes/sun/reflect/MethodAccessorGenerator.java" target="_blank" rel="external">OpenJDK 6 build 17&#x7684;MethodAccessorGenerator</a> &#x3002;&#x5B83;&#x7684;&#x57FA;&#x672C;&#x5DE5;&#x4F5C;&#x5C31;&#x662F;&#x5728;&#x5185;&#x5B58;&#x91CC;&#x751F;&#x6210;&#x65B0;&#x7684;&#x4E13;&#x7528;Java&#x7C7B;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x52A0;&#x8F7D;&#x3002;&#x5C31;&#x8D34;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A; </p>
<p> <img src="http://taojinke.github.io/img/20150702/f48aa0b.gif" alt=""></p>
<pre><code><span class="keyword">private</span> static synchronized <span class="built_in">String</span> generateName(<span class="built_in">boolean</span> isConstructor,
                                                <span class="built_in">boolean</span> forSerialization)
{
    <span class="keyword">if</span> (isConstructor) {
        <span class="keyword">if</span> (forSerialization) {
            int num = ++serializationConstructorSymnum;
            <span class="keyword">return</span> &amp;quot;sun/reflect/GeneratedSerializationConstructorAccessor&amp;quot; + num;
        } <span class="keyword">else</span> {
            int num = ++<span class="constructor">constructorSymnum;
            <span class="keyword">return</span> &amp;quot;sun/reflect/GeneratedConstructorAccessor&amp;quot; + num;
        }
    } <span class="keyword">else</span> </span>{
        int num = ++methodSymnum;
        <span class="keyword">return</span> &amp;quot;sun/reflect/GeneratedMethodAccessor&amp;quot; + num;
    }
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48aa0b.gif" alt=""></p>
<p>&#x53BB;&#x9605;&#x8BFB;&#x6E90;&#x7801;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;MethodAccessorGenerator&#x662F;&#x5982;&#x4F55;&#x4E00;&#x70B9;&#x70B9;&#x628A;Java&#x7248;&#x7684;MethodAccessor&#x5B9E;&#x73B0;&#x7C7B;&#x751F;&#x4EA7;&#x51FA;&#x6765;&#x7684;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230;GeneratedMethodAccessor+&#x6570;&#x5B57;&#x8FD9;&#x79CD;&#x540D;&#x5B57;&#x662F;&#x4ECE;&#x54EA;&#x91CC;&#x6765;&#x7684;&#x4E86;&#xFF0C;&#x5C31;&#x5728;&#x4E0A;&#x9762;&#x7684;generateName()&#x65B9;&#x6CD5;&#x91CC;&#x3002;&#x5BF9;&#x672C;&#x6587;&#x5F00;&#x5934;&#x7684;&#x4F8B;&#x5B50;&#x7684;A.foo()&#xFF0C;&#x751F;&#x6210;&#x7684;Java&#x7248;MethodAccessor&#x5927;&#x81F4;&#x5982;&#x4E0B;&#xFF1A; </p>
<p> <img src="http://taojinke.github.io/img/20150702/f48ac7c.gif" alt=""></p>
<pre><code><span class="keyword">package</span> sun.reflect;
public <span class="class"><span class="keyword">class</span> <span class="title">GeneratedMethodAccessor1</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">MethodAccessorImpl</span> {</span>    
    public <span class="type">GeneratedMethodAccessor1</span>() {
        <span class="keyword">super</span>();
    }
    public <span class="type">Object</span> invoke(<span class="type">Object</span> obj, <span class="type">Object</span>[] args)   
        <span class="keyword">throws</span> <span class="type">IllegalArgumentException</span>, <span class="type">InvocationTargetException</span> {
        <span class="comment">// prepare the target and parameters</span>
        <span class="keyword">if</span> (obj == <span class="literal">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">NullPointerException</span>();
        <span class="keyword">try</span> {
            <span class="type">A</span> target = (<span class="type">A</span>) obj;
            <span class="keyword">if</span> (args.length != <span class="number">1</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">IllegalArgumentException</span>();
            <span class="type">String</span> arg0 = (<span class="type">String</span>) args[<span class="number">0</span>];
        } <span class="keyword">catch</span> (<span class="type">ClassCastException</span> e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">IllegalArgumentException</span>(e.toString());
        } <span class="keyword">catch</span> (<span class="type">NullPointerException</span> e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">IllegalArgumentException</span>(e.toString());
        }
        <span class="comment">// make the invocation</span>
        <span class="keyword">try</span> {
            target.foo(arg0);
        } <span class="keyword">catch</span> (<span class="type">Throwable</span> t) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvocationTargetException</span>(t);
        }
    }
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48aeed.gif" alt=""></p>
<p>&#x5C31;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x800C;&#x8A00;&#xFF0C;&#x8FD9;&#x4E2A;invoke()&#x65B9;&#x6CD5;&#x975E;&#x5E38;&#x5E72;&#x51C0;&#xFF08;&#x7136;&#x800C;&#x5C31;&#x201C;&#x6B63;&#x5E38;&#x8C03;&#x7528;&#x201D;&#x800C;&#x8A00;&#x8FD9;&#x989D;&#x5916;&#x5F00;&#x9500;&#x8FD8;&#x662F;&#x660E;&#x663E;&#x7684;&#xFF09;&#x3002;&#x6CE8;&#x610F;&#x5230;&#x53C2;&#x6570;&#x6570;&#x7EC4;&#x88AB;&#x62C6;&#x5F00;&#x4E86;&#xFF0C;&#x628A;&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x90FD;&#x6062;&#x590D;&#x5230;&#x539F;&#x672C;&#x6CA1;&#x6709;&#x88AB;Object[]&#x5305;&#x88C5;&#x524D;&#x7684;&#x6837;&#x5B50;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x505A;&#x6B63;&#x5E38;&#x7684;invokevirtual&#x8C03;&#x7528;&#x3002;&#x7531;&#x4E8E;&#x5728;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x65F6;&#x5DF2;&#x7ECF;&#x5FAA;&#x73AF;&#x904D;&#x5386;&#x8FC7;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x751F;&#x6210;&#x51FA;&#x6765;&#x7684;&#x4EE3;&#x7801;&#x91CC;&#x5C31;&#x4E0D;&#x518D;&#x5305;&#x542B;&#x5FAA;&#x73AF;&#x4E86;&#x3002;</p>
<p>&#x81F3;&#x6B64;&#x627E;&#x5230;&#x6211;&#x7684;&#x7B54;&#x6848;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;MethodAccessor&#x4F1A;&#x505A;&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#xFFFD;&#xFFFD;&#xFFFD;&#x6362;&#x518D;&#x8FDB;&#x884C;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#xFF0C;&#x4F46;&#x7236;&#x7C7B;&#x5F3A;&#x5236;&#x8F6C;&#x5316;&#x6210;&#x5B50;&#x7C7B;&#x7684;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x62A5;&#x9519;&#x7C7B;&#x578B;&#x4E0D;&#x5339;&#x914D;&#x9519;&#x8BEF;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x53D8;&#x91CF;&#x7684;&#x5F15;&#x7528;&#x58F0;&#x660E;&#x662F;&#x7236;&#x4F46;&#x5B9E;&#x9645;&#x6307;&#x5411;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x5B50;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x79CD;&#x8C03;&#x7528;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#x3002;</p>
<p>—————————————————————————————&#x9898;&#x5916;&#x8BDD;—————————————————————</p>
<p>&#x5F53;&#x8BE5;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x6210;&#x4E3A;&#x70ED;&#x70B9;&#x65F6;&#xFF0C;&#x5B83;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x88AB;&#x5185;&#x8054;&#x5230;&#x9760;&#x8FD1;Method.invoke()&#x7684;&#x4E00;&#x4FA7;&#xFF0C;&#x5927;&#x5927;&#x964D;&#x4F4E;&#x4E86;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x7684;&#x5F00;&#x9500;&#x3002;&#x800C;native&#x7248;&#x7684;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x5219;&#x65E0;&#x6CD5;&#x88AB;&#x6709;&#x6548;&#x5185;&#x8054;&#xFF0C;&#x56E0;&#x800C;&#x8C03;&#x7528;&#x5F00;&#x9500;&#x65E0;&#x6CD5;&#x968F;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x800C;&#x964D;&#x4F4E;&#x3002;&#xA0;</p>
<p>&#x867D;&#x8BF4;Sun&#x7684;JDK&#x8FD9;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x4F7F;&#x5F97;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x6210;&#x672C;&#x6BD4;&#x4EE5;&#x524D;&#x964D;&#x4F4E;&#x4E86;&#x5F88;&#x591A;&#xFF0C;&#x4F46;Method.invoke()&#x672C;&#x8EAB;&#x8981;&#x7528;&#x6570;&#x7EC4;&#x5305;&#x88C5;&#x53C2;&#x6570;&#xFF1B;&#x800C;&#x4E14;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x90FD;&#x5FC5;&#x987B;&#x68C0;&#x67E5;&#x65B9;&#x6CD5;&#x7684;&#x53EF;&#x89C1;&#x6027;&#xFF08;&#x5728;Method.invoke()&#x91CC;&#xFF09;&#xFF0C;&#x4E5F;&#x5FC5;&#x987B;&#x68C0;&#x67E5;&#x6BCF;&#x4E2A;&#x5B9E;&#x9645;&#x53C2;&#x6570;&#x4E0E;&#x5F62;&#x5F0F;&#x53C2;&#x6570;&#x7684;&#x7C7B;&#x578B;&#x5339;&#x914D;&#x6027;&#xFF08;&#x5728;NativeMethodAccessorImpl.invoke0()&#x91CC;&#x6216;&#x8005;&#x751F;&#x6210;&#x7684;Java&#x7248;MethodAccessor.invoke()&#x91CC;&#xFF09;&#xFF1B;&#x800C;&#x4E14;Method.invoke()&#x5C31;&#x50CF;&#x662F;&#x4E2A;&#x72EC;&#x6728;&#x6865;&#x4E00;&#x6837;&#xFF0C;&#x5404;&#x5904;&#x7684;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x90FD;&#x8981;&#x6324;&#x8FC7;&#x53BB;&#xFF0C;&#x5728;&#x8C03;&#x7528;&#x70B9;&#x4E0A;&#x6536;&#x96C6;&#x5230;&#x7684;&#x7C7B;&#x578B;&#x4FE1;&#x606F;&#x5C31;&#x4F1A;&#x5F88;&#x4E71;&#xFF0C;&#x5F71;&#x54CD;&#x5185;&#x8054;&#x7A0B;&#x5E8F;&#x7684;&#x5224;&#x65AD;&#xFF0C;&#x4F7F;&#x5F97;Method.invoke()&#x81EA;&#x8EAB;&#x96BE;&#x4EE5;&#x88AB;&#x5185;&#x8054;&#x5230;&#x8C03;&#x7528;&#x65B9;&#x3002;&#xA0;</p>
<p>&#x76F8;&#x6BD4;&#x4E4B;&#x4E0B;JDK7&#x91CC;&#x65B0;&#x7684;MethodHandler&#x5219;&#x66F4;&#x6709;&#x6F5C;&#x529B;&#xFF0C;&#x5728;&#x5176;&#x529F;&#x80FD;&#x5B8C;&#x5168;&#x5B9E;&#x73B0;&#x540E;&#x80FD;&#x8FBE;&#x5230;&#x6BD4;&#x666E;&#x901A;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x66F4;&#x9AD8;&#x7684;&#x6027;&#x80FD;&#x3002;&#x5728;&#x4F7F;&#x7528;MethodHandle&#x6765;&#x505A;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x65F6;&#xFF0C;MethodHandle.invoke()&#x7684;&#x5F62;&#x5F0F;&#x53C2;&#x6570;&#x4E0E;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x90FD;&#x662F;&#x51C6;&#x786E;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x9700;&#x8981;&#x5728;&#x94FE;&#x63A5;&#x65B9;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#x624D;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x7C7B;&#x578B;&#x7684;&#x5339;&#x914D;&#x6027;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#xFFFD;&#xFFFD;&#xFFFD;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x65F6;&#x90FD;&#x68C0;&#x67E5;&#x3002;&#x800C;&#x4E14;MethodHandle&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x503C;&#xFF0C;&#x5728;&#x521B;&#x5EFA;&#x540E;&#x5176;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x6539;&#x53D8;&#x4E86;&#xFF1B;JVM&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x77E5;&#x8BC6;&#x800C;&#x653E;&#x5FC3;&#x7684;&#x5BF9;&#x5B83;&#x505A;&#x6FC0;&#x8FDB;&#x4F18;&#x5316;&#xFF0C;&#x4F8B;&#x5982;&#x5C06;&#x5B9E;&#x9645;&#x7684;&#x8C03;&#x7528;&#x76EE;&#x6807;&#x5185;&#x8054;&#x5230;&#x505A;&#x53CD;&#x5C04;&#x8C03;&#x7528;&#x7684;&#x4E00;&#x4FA7;&#x3002;&#xA0;</p>
<p>&#x672C;&#x6765;Java&#x7684;&#x5B89;&#x5168;&#x673A;&#x5236;&#x4F7F;&#x5F97;&#x4E0D;&#x540C;&#x7C7B;&#x4E4B;&#x95F4;&#x4E0D;&#x662F;&#x4EFB;&#x610F;&#x4FE1;&#x606F;&#x90FD;&#x53EF;&#x89C1;&#xFF0C;&#x4F46;Sun&#x7684;JDK&#x91CC;&#x5F00;&#x4E86;&#x4E2A;&#x53E3;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x6807;&#x8BB0;&#x7C7B;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x5F00;&#x540E;&#x95E8;&#xFF1A;</p>
<p> <img src="http://taojinke.github.io/img/20150702/f48aeed.gif" alt=""></p>
<pre><code>package sun.reflect;
/** &amp;lt;P&amp;gt; MagicAccessorImpl (named <span class="keyword">for</span> parity <span class="keyword">with</span> FieldAccessorImpl <span class="keyword">and</span>
    others, <span class="keyword">not</span> because <span class="keyword">it</span> actually implements an interface) <span class="keyword">is</span> a
    marker <span class="type">class</span> <span class="keyword">in</span> <span class="keyword">the</span> hierarchy. All subclasses <span class="keyword">of</span> this <span class="type">class</span> are
    &amp;quot;magically&amp;quot; granted access <span class="keyword">by</span> <span class="keyword">the</span> VM <span class="keyword">to</span> otherwise inaccessible
    fields <span class="keyword">and</span> methods <span class="keyword">of</span> other classes. It <span class="keyword">is</span> used <span class="keyword">to</span> hold <span class="keyword">the</span> code
    <span class="keyword">for</span> dynamically-generated FieldAccessorImpl <span class="keyword">and</span> MethodAccessorImpl
    subclasses. (Use <span class="keyword">of</span> <span class="keyword">the</span> <span class="property">word</span> &amp;quot;unsafe&amp;quot; was avoided <span class="keyword">in</span> this <span class="type">class</span>&amp;apos;s
    <span class="property">name</span> <span class="keyword">to</span> avoid confusion <span class="keyword">with</span> {@link sun.misc.Unsafe}.) &amp;lt;/P&amp;gt;
    &amp;lt;P&amp;gt; The bug fix <span class="keyword">for</span> <span class="number">4486457</span> also necessitated disabling
    verification <span class="keyword">for</span> this <span class="type">class</span> <span class="keyword">and</span> all subclasses, <span class="keyword">as</span> opposed <span class="keyword">to</span> just
    SerializationConstructorAccessorImpl <span class="keyword">and</span> subclasses, <span class="keyword">to</span> avoid
    having <span class="keyword">to</span> indicate <span class="keyword">to</span> <span class="keyword">the</span> VM which <span class="keyword">of</span> these dynamically-generated
    stub classes were known <span class="keyword">to</span> be able <span class="keyword">to</span> pass <span class="keyword">the</span> verifier. &amp;lt;/P&amp;gt;
    &amp;lt;P&amp;gt; Do <span class="keyword">not</span> change <span class="keyword">the</span> <span class="property">name</span> <span class="keyword">of</span> this <span class="type">class</span> <span class="keyword">without</span> also changing <span class="keyword">the</span>
    VM&amp;apos;s code. &amp;lt;/P&amp;gt; */
<span class="type">class</span> MagicAccessorImpl {
}
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48b15e.gif" alt=""></p>
<p>&#x90A3;&#x4E2A;&quot;<strong>JVM_DefineClass</strong>&quot;&#x7684;&#x6765;&#x6E90;&#x662F;&#x8FD9;&#x91CC;&#xFF1A;src/share/vm/prims/jvm.cpp&#xA0; </p>
<p> <img src="http://taojinke.github.io/img/20150702/f48b15e.gif" alt=""></p>
<pre><code><span class="comment">// common code for JVM_DefineClass() and JVM_DefineClassWithSource()</span>
<span class="comment">// and JVM_DefineClassWithSourceCond()</span>
<span class="keyword">static</span> <span class="function">jclass <span class="title">jvm_define_class_common</span><span class="params">(JNIEnv *env, <span class="keyword">const</span> <span class="keyword">char</span> *name,
                                      jobject loader, <span class="keyword">const</span> jbyte *buf,
                                      jsize len, jobject pd, <span class="keyword">const</span> <span class="keyword">char</span> *source,
                                      jboolean verify, TRAPS)</span> </span>{
  <span class="keyword">if</span> (source == NULL)  source = &amp;quot;__JVM_DefineClass__&amp;quot;;
</code></pre><p> <img src="http://taojinke.github.io/img/20150702/f48b3cf.gif" alt=""></p>
<p>P.S. log&#x91CC;&#x7684;&quot;shared objects file&quot;,&#x5176;&#x5B9E;&#x5C31;&#x662F;rt.jar,&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8FD9;&#x4E48;&#x663E;&#x793A;&#xFF0C;Stack OverFlow&#x4E0A;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x56DE;&#x7B54;&#xFF1A;</p>
<p>This is Class Data Sharing. When running the Sun/Oracle Client HotSpot and sharing enable (either -Xshare:auto which is the default, or&#xA0; -Xshare:on ), the&#xA0; classes.jsa file is memory mapped. This file contains a number of classes (listed in the&#xA0; classlist file) in internal representation suitable for the exact configuration of the machine running it. The idea is that the classes can be loaded quickly, getting the the JVM up faster. Soon enough a class not covered will be hit, and&#xA0; rt.jar will need to be opened and classes loaded conventionally as required. </p>
<p>&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x5927;&#x6982;&#x7406;&#x89E3;&#x5C31;&#x662F;&#x6240;&#x6709;jvm&#x5171;&#x4EAB;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x52A0;&#x8F7D;&#x91CC;&#x9762;&#x7684;class.&#x6709;&#x82F1;&#x6587;&#x597D;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x7559;&#x8A00;&#x5E2E;&#x52A9;&#x4E0B;&#x3002;</p>
<p>P.S java&#x5185;&#x8054;&#x51FD;&#x6570;</p>
<p>C++&#x662F;&#x5426;&#x4E3A;&#x5185;&#x8054;&#x51FD;&#x6570;&#x7531;&#x81EA;&#x5DF1;&#x51B3;&#x5B9A;&#xFF0C;Java&#x7531;&#x7F16;&#x8BD1;&#x5668;&#x51B3;&#x5B9A;&#x3002;&#x5185;&#x8054;&#x51FD;&#x6570;&#x5C31;&#x662F;&#x6307;&#x51FD;&#x6570;&#x5728;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x5730;&#x65B9;&#x76F4;&#x63A5;&#x5C55;&#x5F00;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x5728;&#x8C03;&#x7528;&#x65F6;&#x4E0D;&#x7528;&#x50CF;&#x4E00;&#x822C;&#x51FD;&#x6570;&#x90A3;&#x6837;&#xFF0C;&#x53C2;&#x6570;&#x538B;&#x6808;&#xFF0C;&#x8FD4;&#x56DE;&#x65F6;&#x53C2;&#x6570;&#x51FA;&#x6808;&#x4EE5;&#x53CA;&#x8D44;&#x6E90;&#x91CA;&#x653E;&#x7B49;&#xFF0C;&#x8FD9;&#x6837;&#x63D0;&#x9AD8;&#x4E86;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x901F;&#x5EA6;&#x3002;</p>
<p>Java&#x4E0D;&#x652F;&#x6301;&#x76F4;&#x63A5;&#x58F0;&#x660E;&#x4E3A;&#x5185;&#x8054;&#x51FD;&#x6570;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8BA9;&#x4ED6;&#x5185;&#x8054;&#xFF0C;&#x5219;&#x662F;&#x7531;&#x7F16;&#x8BD1;&#x5668;&#x8BF4;&#x4E86;&#x7B97;&#xFF0C;&#x4F60;&#x53EA;&#x80FD;&#x591F;&#x5411;&#x7F16;&#x8BD1;&#x5668;&#x63D0;&#x51FA;&#x8BF7;&#x6C42;&#x3002;</p>
<p>final&#x9664;&#x4E86;&#x4E0D;&#x80FD;&#x88AB;override&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x80FD;&#x5B9E;&#x73B0;&#x5185;&#x8054;&#x3002;&#x5982;&#x679C;&#x51FD;&#x6570;&#x4E3A;private&#xFF0C;&#x5219;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x5185;&#x8054;&#x7684;&#x3002;</p>
<p>&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x51FD;&#x6570;&#x90FD;&#x4E0D;&#x4F1A;&#x88AB;&#x5F53;&#x505A;&#x5185;&#x8054;&#x51FD;&#x6570;&#xFF0C;&#x53EA;&#x6709;&#x58F0;&#x660E;&#x4E86;final&#x540E;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x624D;&#x4F1A;&#x8003;&#x8651;&#x662F;&#x4E0D;&#x662F;&#x8981;&#x628A;&#x4F60;&#x7684;&#x51FD;&#x6570;&#x53D8;&#x6210;&#x5185;&#x8054;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x5185;&#x8054;&#x4E0D;&#x4E00;&#x5B9A;&#x597D;&#xFF0C;&#x5F53;&#x88AB;&#x6307;&#x5B9A;&#x4E3A;&#x5185;&#x8054;&#x7684;&#x65B9;&#x6CD5;&#x4F53;&#x5F88;&#x5927;&#x65F6;&#xFF0C;&#x5C55;&#x5F00;&#x7684;&#x5F00;&#x9500;&#x53EF;&#x80FD;&#x5C31;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;&#x4E86;&#x666E;&#x901A;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5F15;&#x5165;&#x4E86;&#x5185;&#x8054;&#x53CD;&#x800C;&#x964D;&#x4F4E;&#x4E86;&#x6027;&#x80FD;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x9009;&#x62E9;&#x8FD9;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#x5E94;&#x8BE5;&#x614E;&#x91CD;&#x4E9B;&#xFF0C;&#x4E0D;&#x8FC7;&#xFF0C;&#x5728;&#x4EE5;&#x540E;&#x9AD8;&#x7248;&#x672C;&#x7684;JVM&#x4E2D;&#xFF0C;&#x5728;&#x5904;&#x7406;&#x5185;&#x8054;&#x65F6;&#x505A;&#x51FA;&#x4E86;&#x4F18;&#x5316;&#xFF0C;&#x5B83;&#x4F1A;&#x6839;&#x636E;&#x65B9;&#x6CD5;&#x7684;&#x89C4;&#x6A21;&#x6765;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x5C55;&#x5F00;&#x8C03;&#x7528;&#x3002;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/JVM/">JVM</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/07/02/f4808e9/" title="java程序性能优化 -" itemprop="url">java程序性能优化 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-07-01T23:50:30.000Z" itemprop="datePublished"> 发表于 2015-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p> <img src="http://taojinke.github.io/img/20150702/f47b376.png" alt=""></p>
<p>  Java&#x7A0B;&#x5E8F;&#x8C03;&#x4F18;&#x5165;&#x95E8;&#x7EA7;&#x6559;&#x7A0B;&#xFF0C;&#x770B;&#x4F3C;&#x5F88;&#x539A;&#xFF0C;&#x5176;&#x5B9E;&#x4E66;&#x5F88;&#x8584;&#xFF0C;&#x56FD;&#x5185;&#x9AD8;&#x624B;&#x5199;&#x7684;&#xFF0C;&#x5F53;&#x7136;&#x6709;&#x4E00;&#x4E9B;&#x5185;&#x5BB9;&#x6709;&#x6284;&#x88AD;&#x7684;&#x5ACC;&#x7591;&#xFF0C;&#x9002;&#x5408;java&#x5F00;&#x53D1;&#x7ECF;&#x9A8C;&#x4E0D;&#x592A;&#x8DB3;&#x7684;&#xFF0C;&#xFFFD;&#xFFFD;&#xFFFD;&#x822C;&#x7684;&#x9AD8;&#x624B;&#xFF0C;&#x6B64;&#x7C7B;&#x6280;&#x80FD;&#x5E94;&#x8BE5;&#x5FC5;&#x987B;&#x5177;&#x5907;&#x4E86;&#x3002;&#x6211;&#x770B;&#x7684;&#x65F6;&#x5019;&#x82B1;&#x4E86;&#x4E24;&#x5468;&#xFF0C;&#x603B;&#x7ED3;&#x8D77;&#x6765;&#x5982;&#x4E0B;&#xFF0C;&#x7EAF;&#x5E72;&#x8D27;&#xFF08;&#x4E0D;&#x5305;&#x62EC;JVM&#x90E8;&#x5206;&#xFF0C;&#x56E0;&#x4E3A;&#x4E2A;&#x4EBA;&#x89C9;&#x5F97;JVM&#x5B66;&#x4E60;&#x770B;&#x300A;  &#x6DF1;&#x5165;&#x7406;&#x89E3;Java&#x865A;&#x62DF;&#x673A; &#x300B;&#xFF09;&#xFF1A;</p>
<ol>
<li><p>&#x5E38;&#x89C1;&#x7684;&#x7CFB;&#x7EDF;&#x74F6;&#x9888;&#x56E0;&#x7D20;&#xFF1A;&#x78C1;&#x76D8;  I/O,  &#x7F51;&#x7EDC;&#x64CD;&#x4F5C;  ,CPU,java  &#x5F02;&#x5E38;&#x6355;&#x83B7;&#x53CA;&#x5904;&#x7406;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x8BFB;&#x5199;&#xFF0C;&#x9501;&#x7ADE;&#x4E89;&#xFF0C;  GC</p>
</li>
<li><p>&#x52A0;&#x901F;&#x6BD4;  Speedup&lt;=1/(F+(1-F)/N),F  &#x4E3A;&#x4E32;&#x884C;&#x8BA1;&#x7B97;&#x7684;&#x6BD4;&#x4F8B;  ,N  &#x4E3A;  CPU  &#x903B;&#x8F91;&#x6570;</p>
</li>
<li><p>&#x8C03;&#x4F18;&#x5C42;&#x6B21;&#xFF1A;  &#x8BBE;&#x8BA1;&#x8C03;&#x4F18;  —-&gt;  &#x4EE3;&#x7801;&#x8C03;&#x4F18;  —-&gt;JVM  &#x53C2;&#x6570;&#x8C03;&#x4F18;  —-&gt;  &#x6570;&#x636E;&#x5E93;&#x8C03;&#x4F18;  —-&gt;OS  &#x8C03;&#x4F18;&#xFF0C;&#x5F53;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x51FA;&#x73B0;&#x74F6;&#x9888;&#x9700;&#x8981;&#x8C03;&#x4F18;&#x65F6;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x6B65;&#x9AA4;&#x662F;&#xFF1A;&#x4EE3;&#x7801;  —-&gt;JVM  &#x53C2;&#x6570;  —-&gt;  &#x6570;&#x636E;&#x5E93;  —-&gt;OS—-&gt;  &#x5E94;&#x7528;&#x67B6;&#x6784;  (  &#x8BBE;&#x8BA1;  )</p>
</li>
<li><p>&#x8BBE;&#x8BA1;&#x8C03;&#x4F18;&#x7684;&#x5E38;&#x89C1;&#x62DB;&#xFFFD;&#xFFFD;&#xFFFD;&#xFF1A;</p>
<p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1  &#xFF1A;&#x591A;&#x7528;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;  (  &#x5355;&#x4F8B;  ,  &#x4EAB;&#x5143;  ,  &#x89C2;&#x5BDF;&#x8005;  ,  &#x8BBF;&#x95EE;&#x8005;  ,  &#x88C5;&#x9970;&#x8005;  ,  &#x4EE3;&#x7406;&#x7B49;  )</p>
<p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2  &#xFF1A;  Buffer/Cache  &#xFF0C;&#x7F13;&#x51B2;  /  &#x7F13;&#x5B58;&#x601D;&#x60F3;</p>
<p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3  &#xFF1A;&#x591A;&#x7EBF;&#x7A0B;&#x5E76;&#x884C;&#x4EE3;&#x66FF;&#x4E32;&#x884C;  (  &#x8981;&#x6C42;&#x4E00;&#x822C;&#x4E32;&#x884C;&#x95F4;&#x6CA1;&#x6709;&#x56E0;&#x679C;&#x6216;&#x524D;&#x540E;&#x5173;&#x7CFB;  )</p>
<p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4  &#xFF1A;&#x5E94;&#x7528;&#x8D1F;&#x8F7D;&#x5747;&#x8861;  (JVM  &#x7EA7;  ,  &#x9700;&#x8981;&#x5904;&#x7406;&#x597D;&#x5171;&#x4EAB;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;  )</p>
<p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 5  &#xFF1A;&#x65F6;&#x95F4;  /  &#x7A7A;&#x95F4;&#x7684;&#x8F6C;&#x6362;</p>
<p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 6  &#xFF1A;&#x4F7F;&#x7528;  ValueObject  &#x51CF;&#x5C11;&#x8BA1;&#x7B97;&#x6216;&#x8BF7;&#x6C42;&#x6B21;&#x6570;</p>
</li>
<li><p>&#x4EE3;&#x7801;&#x4F18;&#x5316;&#x7684;&#x51E0;&#x4E2A;&#x7B80;&#x5355;&#x5207;&#x5165;&#x70B9;&#xFF1A;</p>
<p>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   0):  &#x4E0D;&#x8981;&#x5728;&#x5FAA;&#x73AF;&#x4F53;&#x91CC;&#x5B9A;&#x4E49;&#x5F15;&#x7528;&#x5E76;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;  ,  &#x5C06;&#x5B9A;&#x4E49;&#x5F15;&#x7528;&#x653E;&#x5230;&#x5916;&#x9762;</p>
<p>Object obj = null; </p>
</li>
</ol>
<p>for (int i = 0; i &lt; 10000; ++i) {</p>
<p>  &#xA0;  &#xA0;   (Object)  obj = new Object();</p>
<p> System.out.println(&quot;obj= &quot;+ obj); </p>
<p>}</p>
<p> 1):  &#x907F;&#x514D;&#x91CD;&#x590D;&#x521D;&#x59CB;&#x5316;&#x5BF9;&#x8C61;</p>
<p>public class A {</p>
<p>  &#xA0; private Hashtable table = new Hashtable (); </p>
<p> public A() { &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; table = new Hashtable(); //  &#x5C06;  Hashtable  &#x5BF9;&#x8C61;  table  &#x521D;&#x59CB;&#x5316;&#x4E86;&#x4E24;&#x6B21;</p>
<p> } </p>
<p>}</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1)  &#xFF1A;&#x5B57;&#x7B26;&#x4E32;&#x4F18;&#x5316;&#x7684;&#x51E0;&#x4E2A;&#x5730;&#x65B9;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; a:substring()  &#x65B9;&#x6CD5;&#x901F;&#x5EA6;&#x5F88;&#x5FEB;  ,  &#x4F46;&#x662F;&#x5BB9;&#x6613;&#x5F15;&#x8D77;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x95EE;&#x9898;  ,  &#x56E0;&#x4E3A;&#x4F1A;&#x4FDD;&#x7559;&#x5BF9;&#x539F;&#x4E32;&#x7684;&#x5F15;&#x7528;  ,  &#x6240;&#x4EE5;&#x5EFA;&#x8BAE;&#x7528;  new String(<em>*</em>.substring(  &#x53C2;&#x6570;  ))  &#x7684;&#x6A21;&#x5F0F;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; b:  &#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x622A;&#x53D6;&#x53EF;&#x7528;  split,  &#x4F46;&#x901F;&#x5EA6;&#x5FEB;&#x7684;&#x53EF;&#x4EE5;&#x8003;&#x8651;  StringTokenizer(sun  &#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;  ),  &#x6700;&#x597D;&#x7528;  indexOf+substring  &#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x622A;&#x53D6;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; c:  &#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F00;&#x5934;  /  &#x7ED3;&#x5C3E;&#x5B50;&#x4E32;&#x5224;&#x65AD;&#x4E00;&#x822C;&#x7528;  startsWith/endsWith,  &#x7531;&#x4E8E;&#x4ED6;&#x4EEC;&#x548C;  split  &#x4E00;&#x6837;&#x662F;&#x57FA;&#x4E8E;&#x6B63;&#x5219;&#x7684;  ,  &#x6240;&#x6709;&#x6700;&#x597D;&#x7528;  charAt  &#x6765;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x66F4;&#x5FEB;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; d:  &#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x76F8;&#x52A0;&#xFF0C;  StringBuild  &#x6700;&#x4F18;  ,StringBuffer  &#x6B21;&#x4E4B;  (  &#x7EBF;&#x7A0B;&#x5B89;&#x5168;  ),String.concat  &#x518D;&#x6B21;&#x4E4B;  ,+/+=  &#x6700;&#x6B21;  (  &#x4E0D;&#x8003;&#x8651;&#x9759;&#x6001;&#x5E38;&#x91CF;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x4F18;&#x5316;  )</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2)  &#xFF1A;  ArrayList(Vector)  &#x4E0E;  LinkedList  &#x6BD4;&#x8F83;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; a:ArrayList  &#x57FA;&#x4E8E;&#x6570;&#x7EC4;  (  &#x4E00;&#x5757;&#x8FDE;&#x7EED;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;  ),LinkedList  &#x57FA;&#x4E8E;&#x53CC;&#x5411;&#x94FE;&#x8868;  ,  &#x56E0;&#x6B64;  ArrayList  &#x7684;&#x4E3B;&#x8981;&#x6027;&#x80FD;&#x8017;&#x5728;&#x6269;&#x5C55;&#x7A7A;&#x95F4;&#x65F6;&#x6570;&#x636E;&#x590D;&#x5236;  ,  &#x800C;  LinkedList  &#x8017;&#x5728;&#x6570;&#x636E;&#x904D;&#x5386;  (  &#x5C24;&#x5176;&#x662F;&#x627E;&#x4E2D;&#x95F4;&#x7684;&#x6570;&#x636E;  )</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; b:  &#x5934;&#x5C3E;&#x7684;&#x65B0;&#x589E;  /  &#x5220;&#x9664;&#x5BF9;  LinkedList  &#x6CA1;&#x6709;&#x538B;&#x529B;&#xFF0C;&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x968F;&#x673A;&#x8BBF;&#x95EE;&#x9700;&#x8981;&#x4ECE;&#x5934;&#x67E5;&#x627E;&#xFF0C;&#x4F1A;&#x8981;&#x4EB2;&#x547D;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; c:  &#x5728;&#x5C3E;&#x90E8;&#x6DFB;&#x52A0;&#x5BF9;  ArrayList  &#x6CA1;&#x6709;&#x538B;&#x529B;&#xFF0C;&#x4F46;&#x4ECE;&#x5934;&#x90E8;&#x5220;&#x9664;&#x90FD;&#x4F1A;&#x6570;&#x7EC4;&#x590D;&#x5236;&#xFF0C;&#x4F1A;&#x8981;&#x4EB2;&#x547D;&#x3002;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; d:  &#x5BF9;  LinkedList  &#x7684;&#x904D;&#x5386;&#xFF0C;&#x8981;&#x4E48;&#x7528;  for-Each,  &#x8981;&#x4E48;  Iterator  &#xFF0C;&#x4E0D;&#x8981;&#x7528;&#x666E;&#x901A;&#x7684;  ini i=0;i&lt;size;i++  &#xFF0C;&#x56E0;&#x4E3A;  get(i)  &#x662F;&#x968F;&#x673A;&#x67E5;&#x627E;&#xFF0C;&#x6BCF;&#x6B21;&#x90FD;&#x4ECE;&#x5934;&#x6216;&#x5C3E;&#x904D;&#x5386;&#xFF0C;&#x4F1A;&#x8981;&#x4EB2;&#x547D;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; e:  &#x4E00;&#x822C;&#x5B9E;&#x73B0;&#x4E86;  RandomAccess  &#x63A5;&#x53E3;&#x7684;&#x7C7B;&#x5982;  ArrayList  &#xFF0C;  Vector  &#x624D;&#x53EF;&#x4EE5;&#x5728;&#x904D;&#x5386;&#x65F6;&#x653E;&#x5FC3;&#x4F7F;&#x7528;  get  &#xFF0C;&#x800C;&#x4E14;&#x904D;&#x5386;&#x65F6;&#x8981;&#x5C3D;&#x91CF;&#x51CF;&#x5C11;&#x91CD;&#x590D;&#x7684;&#x83B7;&#x53D6;  size  &#x6216;&#x5143;&#x7D20;&#xFF0C;&#x7528;&#x4E34;&#x65F6;&#x53D8;&#x91CF;&#x7F13;&#x5B58;&#x4E4B;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3  )  &#xFF1A;  HashMap  &#x5982;&#x679C;  key  &#x662F;&#x4E00;&#x4E2A;&#x4E2A;&#x91CD;&#x5199;&#x4E86;  hashCode  &#x65B9;&#x6CD5;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x6B64;  hashCode  &#x65B9;&#x6CD5;&#x653E;&#x56DE;&#x76F8;&#x540C;&#x7684;  int  &#x503C;&#xFF0C;&#x5219;&#x6BCF;&#x6B21;&#x653E;&#x5165;&#x4E0D;&#x540C;&#x5BF9;&#x8C61;&#x4F1A;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x6876;&#x4E0B;&#xFF0C;&#x904D;&#x5386;&#x67E5;&#x627E;&#x5F88;&#x6162;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4)  &#xFF1A;  HashMap  &#x5E95;&#x5C42;&#x7528;&#x4E86;&#x6570;&#x7EC4;&#x5B9E;&#x73B0;&#xFF0C;&#x4F7F;&#x7528;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;  initialCapacity  &#x5E76;&#x4E14;&#x662F;  2  &#x7684;&#x6307;&#x6570;&#x6B21;&#x5E42;&#x4F5C;&#x4E3A;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#xFF0C;  threshold  &#x4E3A;&#x5F53;&#x524D;&#x6570;&#x7EC4;&#x603B;&#x5BB9;&#x91CF;&#x4E0E;&#x8D1F;&#x8F7D;&#x56E0;&#x5B50;&#x7684;&#x4E58;&#x79EF;&#xFF0C;&#x5373;&#x9600;&#x503C;&#xFF0C;&#x5F53;&#x5B9E;&#x9645;&#x5BB9;&#x91CF;&#x8D85;&#x9600;&#x503C;   &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   &#x65F6;&#x4F1A;&#x8FDB;&#x884C;&#x6570;&#x7EC4;&#x6269;&#x5C55;&#x590D;&#x5236;&#xFF0C;&#x56E0;&#x6B64;&#x9002;&#x5F53;&#x7684;  initialCapacity  &#x6709;&#x5229;&#x4E8E;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x3002;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 5)  &#xFF1A;  LinkedHashMap  &#x57FA;&#x4E8E;&#x5143;&#x7D20;&#x8FDB;&#x5165;&#x987A;&#x5E8F;&#x6216;&#x88AB;&#x8BBF;&#x95EE;&#x5148;&#x540E;&#x987A;&#x5E8F;  (  &#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x5143;&#x7D20;&#x653E;&#x5230;&#x6700;&#x540E;  ),  &#x800C;  TreeMap  &#x57FA;&#x4E8E;&#x4F20;&#x5165;&#x7684;  Comparetor  &#x53C2;&#x6570;&#x6216;&#x5B9E;&#x73B0;&#x4E86;  Comparable  &#x7684;  key  &#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x9002;&#x7528;&#x8303;&#x56F4;   &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   &#x4E0D;&#x4E00;&#x6837;&#x3002;  HashSet,LinkedHashSet,TreeSet  &#x662F;&#x5BF9;&#x5E94;  Map  &#x7684;&#x7B80;&#x5355;&#x5C01;&#x88C5;&#x3002;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 6)  &#xFF1A;&#x4F7F;&#x7528;  NIO(ByteBuffer+Channel)  &#x53EF;&#x4EE5;&#x63D0;&#x5347;  I/O  &#x8BFB;&#x5199;&#x901F;&#x7387;&#xFF0C;&#x6CE8;&#x610F;  duplicate(),asReadOnlyBuffer(),slice()  &#x90FD;&#x662F;&#x5171;&#x4EAB;&#x539F;&#x59CB;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x7684;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x6587;&#x4EF6;&#x5185;&#x5B58;&#x6620;&#x5C04;  MappedByteBuffer,  &#x7ED3;&#x6784;   &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   &#x5316;&#x6563;&#x5C04;&#x63A5;&#x53E3;  ScatteringByteChannel  &#xFF0C;&#x7ED3;&#x6784;&#x5316;&#x805A;&#x96C6;&#x63A5;&#x53E3;  GatheringByteChannel  &#x5C06;&#x591A;&#x4E2A;  ByteBuffer  &#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x4E00;&#x6B21;&#x5199;&#x5165;&#xFF0C;&#x7528;  DirectBuffer  &#x4EE3;&#x66FF;  ByteBuffer  &#x8FDB;&#x884C;&#x591A;&#x6B21;&#x8BFB;&#x5199;&#x90FD;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x6548;   &#xA0;&#xA0;   &#x7387;&#xFF0C;&#x4F46;  DirectBuffer  &#x662F;&#x76F4;&#x63A5;&#x5F00;&#x8F9F;  OS  &#x5185;&#x5B58;&#xFF0C;&#x5982;&#x679C;&#x9891;&#x7E41;&#x65B0;&#x5EFA;&#x56DE;&#x6536;&#xFF0C;&#x6027;&#x80FD;&#x53CD;&#x800C;&#x4E0D;&#x5982;  ByteBuffer  &#x865A;&#x62DF;&#x673A;&#x5185;&#x7684;&#x76F8;&#x540C;&#x64CD;&#x4F5C;  .</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 7)  &#xFF1A;  4  &#x4E2A;&#x5F15;&#x7528;&#x7EA7;&#x522B;&#xFF1A;&#x5F3A;&#xFF0C;&#x8F6F;&#xFF0C;&#x5F31;&#xFF0C;&#x865A;&#xFF0C;&#x5176;&#x4F5C;&#x7528;&#x5206;&#x522B;&#x4E0D;&#x540C;&#xFF0C;&#x4E00;&#x822C;&#x8F6F;&#x548C;&#x5F31;&#x5F15;&#x7528;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6848;&#x907F;&#x514D;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#xFF0C;&#x800C;&#x865A;&#x66F4;&#x591A;&#x7528;&#x4E8E;&#x8DDF;&#x8E2A;&#x5BF9;&#x8C61;&#x56DE;&#x6536;&#x65F6;&#x673A;&#xFF0C;&#x5F31;&#x5F15;&#x7528;  WeakHashMap  &#x53EF;&#x4EE5;   &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   &#x4F5C;&#x4E3A;&#x7B80;&#x5355;&#x7684;&#x7F13;&#x5B58;&#x5BF9;&#x8C61;&#x3002;</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 8)  &#xFF1A;&#x4E0D;&#x5728;&#x5FAA;&#x73AF;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;  try-catch,  &#x5C3D;&#x91CF;&#x653E;&#x5230;&#x5FAA;&#x73AF;&#x4F53;&#x5916;&#xFF0C;&#x591A;&#x7528;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x6216;&#x4E34;&#x65F6;&#x53D8;&#x91CF;&#x5B58;&#x50A8;&#x8BA1;&#x7B97;&#x503C;&#x4EE5;&#x907F;&#x514D;&#x91CD;&#x590D;&#x8BA1;&#x7B97;  ,  &#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5728;&#x4E00;&#x6B21;&#x5FAA;&#x73AF;&#x4E2D;&#x505A;&#x591A;&#x4E2A;&#x64CD;&#x4F5C;&#x51CF;&#x5C11;&#x5FAA;&#x73AF;&#x6B21;&#x6570;  (i+1,i+2,i+3…),  &#x591A;   &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   &#x7528;  &quot;  &#x963B;&#x65AD;&#x6027;  &quot;  &#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x5982;  &amp;&amp;  &#x6765;&#x4EE3;&#x66FF;&#x4F4D;&#x8FD0;&#x7B97;&#x5982;  &amp;(  &#x5F53;&#x7136;&#x4E00;&#x822C;&#x4E5F;&#x4E0D;&#x5EFA;&#x8BAE;&#x5229;&#x7528;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#x6765;&#x505A;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x6B64;&#x540E;&#x9762;&#x7684;&#x5224;&#x65AD;&#x9ED8;&#x8BA4;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x4E0D;&#x53BB;&#x8FD0;&#x884C;&#x7684;  )</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 9)  &#xFF1A;&#x591A;&#x7528;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x4EE3;&#x66FF;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#xFF1B;&#x4F7F;&#x7528;  Buffer  &#x8FDB;&#x884C;  I/O;  &#x5BF9;&#x6784;&#x9020;&#x6210;&#x672C;&#x5927;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7528;  clone  &#x4EE3;&#x66FF;  new(  &#x6CE8;&#x610F;&#x8BE5;&#x7C7B;&#x5B9E;&#x73B0;  Cloneable  &#xFF0C;&#x5E76;&#x4E14;&#x9ED8;&#x8BA4;&#x662F;&#x6D45;&#x590D;&#x5236;&#xFF0C;&#x6DF1;&#x590D;&#x5236;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x91CD;&#x5199;  Object  &#x7684;  clone &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;   &#x65B9;&#x6CD5;  )</p>
<p>  &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10)  &#xFF1A;&#x6280;&#x5DE7;&#xFF1A;&#x7528;&#x4F4D;&#x8FD0;&#x7B97;&#x4EE3;&#x66FF;  2  &#x6B21;&#x5E42;&#x7684;&#x4E58;&#x9664;&#xFF1B;&#x591A;&#x7528;  static  &#x9759;&#x6001;&#x65B9;&#x6CD5;&#x800C;&#x4E0D;&#x662F;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;&#xFF1B;&#x591A;&#x7528;  native  &#x65B9;&#x6CD5;&#x5982;  arrayCopy  &#x7B49;  ;</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/JVM/">JVM</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/4/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/6/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/transcribe/" title="transcribe">transcribe<sup>221</sup></a></li>
		  
		
		  
			<li><a href="/categories/日志/" title="日志">日志<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/JVM/" title="JVM">JVM<sup>64</sup></a></li>
			
		
			
				<li><a href="/tags/Spring-MVC/" title="Spring MVC">Spring MVC<sup>30</sup></a></li>
			
		
			
				<li><a href="/tags/数据库/" title="数据库">数据库<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/开源/" title="开源">开源<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/Dubbo/" title="Dubbo">Dubbo<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Mac-OS-X/" title="Mac OS X">Mac OS X<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/分类：-JAVA/" title="分类： JAVA">分类： JAVA<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Java8/" title="Java8">Java8<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/分类：-java/" title="分类： java">分类： java<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/函数式编程/" title="函数式编程">函数式编程<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Ubuntu/" title="Ubuntu">Ubuntu<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Apple/" title="Apple">Apple<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/程序员/" title="程序员">程序员<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/IT/" title="IT">IT<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/PaaS/" title="PaaS">PaaS<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Ruby/" title="Ruby">Ruby<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Debian/" title="Debian">Debian<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Eclipse/" title="Eclipse">Eclipse<sup>3</sup></a></li>
			
		
		</ul>
</div>


<div class="weiboshow">
	<p class="asidetitle">新浪微博</p>
	<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1289635200&verifier=e6bef170&dpc=1"></iframe>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/512316815" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/sblig" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/sblig" target="_blank" title="fblog">fblog</a> © 2015
		
		<a href="/about" target="_blank" title="edwin">edwin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
